/*! For license information please see main.a458eb95.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var r=n(853),i=n(43),s=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(o(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),k=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var I=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case x:return"SuspenseList";case I:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case k:return e.displayName||"Context";case _:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return A(e(t))}catch(n){}}return null}var O=Array.isArray,L=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},j=[],F=-1;function z(e){return{current:e}}function U(e){0>F||(e.current=j[F],j[F]=null,F--)}function B(e,t){F++,j[F]=e.current,e.current=t}var W,H,V=z(null),q=z(null),K=z(null),G=z(null);function Y(e,t){switch(B(K,t),B(q,e),B(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(V),B(V,e)}function $(){U(V),U(q),U(K)}function Q(e){null!==e.memoizedState&&B(G,e);var t=V.current,n=bd(t,e.type);t!==n&&(B(q,e),B(V,n))}function J(e){q.current===e&&(U(V),U(q)),G.current===e&&(U(G),dh._currentValue=M)}function X(e){if(void 0===W)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+W+e+H}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var l=o.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,oe=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var _e=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ke(e)/we|0)|0},ke=Math.log,we=Math.LN2;var Se=256,xe=262144,Ce=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ie(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~s)?i=Ee(r):0!==(o&=a)?i=Ee(o):n||0!==(n=a&~e)&&(i=Ee(n)):0!==(a=r&~s)?i=Ee(a):0!==o?i=Ee(o):n||0!==(n=r&~e)&&(i=Ee(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function Te(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Ce;return 0===(62914560&(Ce<<=1))&&(Ce=4194304),e}function Re(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-_e(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Le(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_e(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function De(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Me(n))&(e.suspendedLanes|t))?0:n}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function je(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:Ih(e.type)}function ze(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}var Ue=Math.random().toString(36).slice(2),Be="__reactFiber$"+Ue,We="__reactProps$"+Ue,He="__reactContainer$"+Ue,Ve="__reactEvents$"+Ue,qe="__reactListeners$"+Ue,Ke="__reactHandles$"+Ue,Ge="__reactResources$"+Ue,Ye="__reactMarker$"+Ue;function $e(e){delete e[Be],delete e[We],delete e[Ve],delete e[qe],delete e[Ke]}function Qe(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=jd(e);null!==e;){if(n=e[Be])return n;e=jd(e)}return t}n=(e=n).parentNode}return null}function Je(e){if(e=e[Be]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ye]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},at={};function lt(e,t,n){if(i=t,re.call(at,i)||!re.call(ot,i)&&(st.test(i)?at[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,i,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?_t(e,o,dt(t)):null!=n?_t(e,o,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+dt(a):e.removeAttribute("name")}function bt(e,t,n,r,i,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),ft(e)}function _t(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function kt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(O(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function xt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function It(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Et(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&Et(e,s,t[s])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function At(){}var Ot=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Mt=null;function jt(e){var t=Je(e);if(t&&(e=t.stateNode)){var n=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[We]||null;if(!i)throw Error(o(90));vt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&kt(e,!!n.multiple,t,!1)}}}var Ft=!1;function zt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Dt||null!==Mt)&&(eu(),Dt&&(t=Dt,e=Mt,Mt=Dt=null,jt(t),e)))for(t=0;t<e.length;t++)jt(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var r=n[We]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Bt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Wt=!1;if(Bt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Xh){Wt=!1}var Vt=null,qt=null,Kt=null;function Gt(){if(Kt)return Kt;var e,t,n=qt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Qt(){return!1}function Jt(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?$t:Qt,this.isPropagationStopped=Qt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Xt,Zt,tn,nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rn=Jt(nn),sn=f({},nn,{view:0,detail:0}),on=Jt(sn),an=f({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tn&&(tn&&"mousemove"===e.type?(Xt=e.screenX-tn.screenX,Zt=e.screenY-tn.screenY):Zt=Xt=0,tn=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),ln=Jt(an),cn=Jt(f({},an,{dataTransfer:0})),un=Jt(f({},sn,{relatedTarget:0})),dn=Jt(f({},nn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=Jt(f({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),fn=Jt(f({},nn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function vn(){return yn}var bn=Jt(f({},sn,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),_n=Jt(f({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=Jt(f({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),wn=Jt(f({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=Jt(f({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Jt(f({},nn,{newState:0,oldState:0})),Cn=[9,13,27,32],En=Bt&&"CompositionEvent"in window,In=null;Bt&&"documentMode"in document&&(In=document.documentMode);var Tn=Bt&&"TextEvent"in window&&!In,Nn=Bt&&(!En||In&&8<In&&11>=In),Pn=String.fromCharCode(32),Rn=!1;function An(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function jn(e,t,n,r){Dt?Mt?Mt.push(r):Mt=[r]:Dt=r,0<(t=id(t,"onChange")).length&&(n=new rn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,zn=null;function Un(e){Qu(e,0)}function Bn(e){if(pt(Xe(e)))return e}function Wn(e,t){if("change"===e)return t}var Hn=!1;if(Bt){var Vn;if(Bt){var qn="oninput"in document;if(!qn){var Kn=document.createElement("div");Kn.setAttribute("oninput","return;"),qn="function"===typeof Kn.oninput}Vn=qn}else Vn=!1;Hn=Vn&&(!document.documentMode||9<document.documentMode)}function Gn(){Fn&&(Fn.detachEvent("onpropertychange",Yn),zn=Fn=null)}function Yn(e){if("value"===e.propertyName&&Bn(zn)){var t=[];jn(t,zn,e,Lt(e)),zt(Un,t)}}function $n(e,t,n){"focusin"===e?(Gn(),zn=n,(Fn=t).attachEvent("onpropertychange",Yn)):"focusout"===e&&Gn()}function Qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(zn)}function Jn(e,t){if("click"===e)return Bn(t)}function Xn(e,t){if("input"===e||"change"===e)return Bn(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function er(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Zn(e[i],t[i]))return!1}return!0}function tr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nr(e,t){var n,r=tr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tr(r)}}function rr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?rr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ir(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=Bt&&"documentMode"in document&&11>=document.documentMode,ar=null,lr=null,cr=null,ur=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ur||null==ar||ar!==mt(r)||("selectionStart"in(r=ar)&&sr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},cr&&er(cr,r)||(cr=r,0<(r=id(lr,"onSelect")).length&&(t=new rn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},pr={},mr={};function gr(e){if(pr[e])return pr[e];if(!fr[e])return e;var t,n=fr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return pr[e]=n[t];return e}Bt&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);var yr=gr("animationend"),vr=gr("animationiteration"),br=gr("animationstart"),_r=gr("transitionrun"),kr=gr("transitionstart"),wr=gr("transitioncancel"),Sr=gr("transitionend"),xr=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){xr.set(e,t),rt(t,[e])}Cr.push("scrollEnd");var Ir="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],Nr=0,Pr=0;function Rr(){for(var e=Nr,t=Pr=Nr=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var i=Tr[t];Tr[t++]=null;var s=Tr[t];if(Tr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==s&&Dr(n,i,s)}}function Ar(e,t,n,r){Tr[Nr++]=e,Tr[Nr++]=t,Tr[Nr++]=n,Tr[Nr++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return Ar(e,t,n,r),Mr(e)}function Lr(e,t){return Ar(e,null,null,t),Mr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-_e(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Mr(e){if(50<qc)throw qc=0,Kc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var jr={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Fr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Wr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hr(e,t,n,r,i,s){var a=0;if(r=e,"function"===typeof e)Ur(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case I:return(e=zr(31,n,t,i)).elementType=I,e.lanes=s,e;case y:return Vr(n.children,i,s,t);case v:a=8,i|=24;break;case b:return(e=zr(12,n,t,2|i)).elementType=b,e.lanes=s,e;case S:return(e=zr(13,n,t,i)).elementType=S,e.lanes=s,e;case x:return(e=zr(19,n,t,i)).elementType=x,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case _:a=9;break e;case w:a=11;break e;case C:a=14;break e;case E:a=16,r=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=zr(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Vr(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Kr(e){var t=zr(18,null,null,0);return t.stateNode=e,t}function Gr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yr=new WeakMap;function $r(e,t){if("object"===typeof e&&null!==e){var n=Yr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Yr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Qr=[],Jr=0,Xr=null,Zr=0,ei=[],ti=0,ni=null,ri=1,ii="";function si(e,t){Qr[Jr++]=Zr,Qr[Jr++]=Xr,Xr=e,Zr=t}function oi(e,t,n){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ni=e;var r=ri;e=ii;var i=32-_e(r)-1;r&=~(1<<i),n+=1;var s=32-_e(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ri=1<<32-_e(t)+i|n<<i|r,ii=s+e}else ri=1<<s|n<<i|r,ii=e}function ai(e){null!==e.return&&(si(e,1),oi(e,1,0))}function li(e){for(;e===Xr;)Xr=Qr[--Jr],Qr[Jr]=null,Zr=Qr[--Jr],Qr[Jr]=null;for(;e===ni;)ni=ei[--ti],ei[ti]=null,ii=ei[--ti],ei[ti]=null,ri=ei[--ti],ei[ti]=null}function ci(e,t){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ri=t.id,ii=t.overflow,ni=e}var ui=null,di=null,hi=!1,fi=null,pi=!1,mi=Error(o(519));function gi(e){throw wi($r(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mi}function yi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Be]=e,t[We]=r,n){case"dialog":Ju("cancel",t),Ju("close",t);break;case"iframe":case"object":case"embed":Ju("load",t);break;case"video":case"audio":for(n=0;n<Yu.length;n++)Ju(Yu[n],t);break;case"source":Ju("error",t);break;case"img":case"image":case"link":Ju("error",t),Ju("load",t);break;case"details":Ju("toggle",t);break;case"input":Ju("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ju("invalid",t);break;case"textarea":Ju("invalid",t),St(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&(Ju("beforetoggle",t),Ju("toggle",t)),null!=r.onScroll&&Ju("scroll",t),null!=r.onScrollEnd&&Ju("scrollend",t),null!=r.onClick&&(t.onclick=At),t=!0):t=!1,t||gi(e,!0)}function vi(e){for(ui=e.return;ui;)switch(ui.tag){case 5:case 31:case 13:return void(pi=!1);case 27:case 3:return void(pi=!0);default:ui=ui.return}}function bi(e){if(e!==ui)return!1;if(!hi)return vi(e),hi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||_d(e.type,e.memoizedProps)),t=!t),t&&di&&gi(e),vi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));di=Md(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));di=Md(e)}else 27===n?(n=di,Id(e.type)?(e=Dd,Dd=null,di=e):di=n):di=ui?Ld(e.stateNode.nextSibling):null;return!0}function _i(){di=ui=null,hi=!1}function ki(){var e=fi;return null!==e&&(null===Rc?Rc=e:Rc.push.apply(Rc,e),fi=null),e}function wi(e){null===fi?fi=[e]:fi.push(e)}var Si=z(null),xi=null,Ci=null;function Ei(e,t,n){B(Si,t._currentValue),t._currentValue=n}function Ii(e){e._currentValue=Si.current,U(Si)}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var a=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ti(s.return,n,e),r||(a=null);break e}s=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),Ti(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Pi(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var l=i.type;Zn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===G.current){if(null===(a=i.alternate))throw Error(o(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}i=i.return}null!==e&&Ni(t,e,n,r),t.flags|=262144}function Ri(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){xi=e,Ci=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Oi(e){return Di(xi,e)}function Li(e,t){return null===xi&&Ai(e),Di(e,t)}function Di(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ci){if(null===e)throw Error(o(308));Ci=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ci=Ci.next=t;return n}var Mi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ji=r.unstable_scheduleCallback,Fi=r.unstable_NormalPriority,zi={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Mi,data:new Map,refCount:0}}function Bi(e){e.refCount--,0===e.refCount&&ji(Fi,function(){e.controller.abort()})}var Wi=null,Hi=0,Vi=0,qi=null;function Ki(){if(0===--Hi&&null!==Wi){null!==qi&&(qi.status="fulfilled");var e=Wi;Wi=null,Vi=0,qi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gi=L.S;L.S=function(e,t){Lc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Wi){var n=Wi=[];Hi=0,Vi=Hu(),qi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Hi++,t.then(Ki,Ki)}(0,t),null!==Gi&&Gi(e,t)};var Yi=z(null);function $i(){var e=Yi.current;return null!==e?e:mc.pooledCache}function Qi(e,t){B(Yi,null===t?Yi.current:t.pool)}function Ji(){var e=$i();return null===e?null:{parent:zi._currentValue,pool:e}}var Xi=Error(o(460)),Zi=Error(o(474)),es=Error(o(542)),ts={then:function(){}};function ns(e){return"fulfilled"===(e=e.status)||"rejected"===e}function rs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(At,At),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw as(e=t.reason),e;default:if("string"===typeof t.status)t.then(At,At);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw as(e=t.reason),e}throw ss=t,Xi}}function is(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ss=t,Xi;throw t}}var ss=null;function os(){if(null===ss)throw Error(o(459));var e=ss;return ss=null,e}function as(e){if(e===Xi||e===es)throw Error(o(483))}var ls=null,cs=0;function us(e){var t=cs;return cs+=1,null===ls&&(ls=[]),rs(ls,e,t)}function ds(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function hs(e,t){if(t.$$typeof===p)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===E&&is(s)===t.type)?(ds(t=i(t,n.props),n),t.return=e,t):(ds(t=Hr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Vr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return ds(n=Hr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Gr(t,e.mode,n)).return=e,t;case E:return h(e,t=is(t),n)}if(O(t)||P(t))return(t=Vr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,us(t),n);if(t.$$typeof===k)return h(e,Li(e,t),n);hs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case E:return f(e,t,n=is(n),r)}if(O(n)||P(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,us(n),r);if(n.$$typeof===k)return f(e,t,Li(e,n),r);hs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return p(e,t,n,r=is(r),i)}if(O(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,us(r),i);if(r.$$typeof===k)return p(e,t,n,Li(t,r),i);hs(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&is(b)===c.type){n(l,c.sibling),ds(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((d=Vr(u.props.children,l.mode,d,u.key)).return=l,l=d):(ds(d=Hr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Gr(u,l.mode,d)).return=l,l=d}return a(l);case E:return v(l,c,u=is(u),d)}if(O(u))return function(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),o=s(y,o,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===a.length)return n(i,d),hi&&si(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return hi&&si(i,m),c}for(d=r(d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),hi&&si(i,m),c}(l,c,u,d);if(P(u)){if("function"!==typeof(b=P(u)))throw Error(o(150));return function(i,a,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),hi&&si(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(a=s(v,a,g),null===d?u=v:d.sibling=v,d=v);return hi&&si(i,g),u}for(m=r(m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),hi&&si(i,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,us(u),d);if(u.$$typeof===k)return v(l,c,Li(l,u),d);hs(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=qr(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{cs=0;var i=v(e,t,n,r);return ls=null,i}catch(o){if(o===Xi||o===es)throw o;var s=zr(29,o,null,e.mode);return s.lanes=r,s.return=e,s}}}var ps=fs(!0),ms=fs(!1),gs=!1;function ys(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _s(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Mr(e),Dr(e,null,n),t}return Ar(e,r,t,n),Mr(e)}function ks(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}function ws(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ss=!1;function xs(){if(Ss){if(null!==qi)throw qi}}function Cs(e,t,n,r){Ss=!1;var i=e.updateQueue;gs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(o=0,u=c=l=null,a=s;;){var h=-536870913&a.lane,p=h!==a.lane;if(p?(yc&h)===h:(r&h)===h){0!==h&&h===Vi&&(Ss=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;h=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(y,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:gs=!0}}null!==(h=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),Cc|=o,e.lanes=o,e.memoizedState=d}}function Es(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function Is(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Es(n[e],t)}var Ts=z(null),Ns=z(0);function Ps(e,t){B(Ns,e=Sc),B(Ts,t),Sc=e|t.baseLanes}function Rs(){B(Ns,Sc),B(Ts,Ts.current)}function As(){Sc=Ns.current,U(Ts),U(Ns)}var Os=z(null),Ls=null;function Ds(e){var t=e.alternate;B(Us,1&Us.current),B(Os,e),null===Ls&&(null===t||null!==Ts.current||null!==t.memoizedState)&&(Ls=e)}function Ms(e){B(Us,Us.current),B(Os,e),null===Ls&&(Ls=e)}function js(e){22===e.tag?(B(Us,Us.current),B(Os,e),null===Ls&&(Ls=e)):Fs()}function Fs(){B(Us,Us.current),B(Os,Os.current)}function zs(e){U(Os),Ls===e&&(Ls=null),U(Us)}var Us=z(0);function Bs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ad(n)||Od(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ws=0,Hs=null,Vs=null,qs=null,Ks=!1,Gs=!1,Ys=!1,$s=0,Qs=0,Js=null,Xs=0;function Zs(){throw Error(o(321))}function eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function to(e,t,n,r,i,s){return Ws=s,Hs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?ya:va,Ys=!1,s=n(r,i),Ys=!1,Gs&&(s=ro(t,n,r,i)),no(e),s}function no(e){L.H=ga;var t=null!==Vs&&null!==Vs.next;if(Ws=0,qs=Vs=Hs=null,Ks=!1,Qs=0,Js=null,t)throw Error(o(300));null===e||La||null!==(e=e.dependencies)&&Ri(e)&&(La=!0)}function ro(e,t,n,r){Hs=e;var i=0;do{if(Gs&&(Js=null),Qs=0,Gs=!1,25<=i)throw Error(o(301));if(i+=1,qs=Vs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}L.H=ba,s=t(n,r)}while(Gs);return s}function io(){var e=L.H,t=e.useState()[0];return t="function"===typeof t.then?uo(t):t,e=e.useState()[0],(null!==Vs?Vs.memoizedState:null)!==e&&(Hs.flags|=1024),t}function so(){var e=0!==$s;return $s=0,e}function oo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ao(e){if(Ks){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ks=!1}Ws=0,qs=Vs=Hs=null,Gs=!1,Qs=$s=0,Js=null}function lo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qs?Hs.memoizedState=qs=e:qs=qs.next=e,qs}function co(){if(null===Vs){var e=Hs.alternate;e=null!==e?e.memoizedState:null}else e=Vs.next;var t=null===qs?Hs.memoizedState:qs.next;if(null!==t)qs=t,Vs=e;else{if(null===e){if(null===Hs.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(Vs=e).memoizedState,baseState:Vs.baseState,baseQueue:Vs.baseQueue,queue:Vs.queue,next:null},null===qs?Hs.memoizedState=qs=e:qs=qs.next=e}return qs}function uo(e){var t=Qs;return Qs+=1,null===Js&&(Js=[]),e=rs(Js,e,t),t=Hs,null===(null===qs?t.memoizedState:qs.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?ya:va),e}function ho(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return uo(e);if(e.$$typeof===k)return Oi(e)}throw Error(o(438,String(e)))}function fo(e){var t=null,n=Hs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Hs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function po(e,t){return"function"===typeof t?t(e):t}function mo(e){return go(co(),Vs,e)}function go(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=a=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(yc&h)===h:(Ws&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Vi&&(d=!0);else{if((Ws&f)===f){u=u.next,f===Vi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=s):c=c.next=h,Hs.lanes|=f,Cc|=f}h=u.action,Ys&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=s):c=c.next=f,Hs.lanes|=h,Cc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=s:c.next=l,!Zn(s,e.memoizedState)&&(La=!0,d&&null!==(n=qi)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function yo(e){var t=co(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);Zn(s,t.memoizedState)||(La=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function vo(e,t,n){var r=Hs,i=co(),s=hi;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!Zn((Vs||i).memoizedState,n);if(a&&(i.memoizedState=n,La=!0),i=i.queue,Ho(ko.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==qs&&1&qs.memoizedState.tag){if(r.flags|=2048,Fo(9,{destroy:void 0},_o.bind(null,r,i,n,t),null),null===mc)throw Error(o(349));s||0!==(127&Ws)||bo(r,t,n)}return n}function bo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Hs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _o(e,t,n,r){t.value=n,t.getSnapshot=r,wo(t)&&So(e)}function ko(e,t,n){return n(function(){wo(t)&&So(e)})}function wo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(en){return!0}}function So(e){var t=Lr(e,2);null!==t&&$c(t,e,2)}function xo(e){var t=lo();if("function"===typeof e){var n=e;if(e=n(),Ys){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:e},t}function Co(e,t,n,r){return e.baseState=n,go(e,Vs,"function"===typeof r?r:po)}function Eo(e,t,n,r,i){if(fa(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==L.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Io(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Io(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=L.T,o={};L.T=o;try{var a=n(i,r),l=L.S;null!==l&&l(o,a),To(e,t,a)}catch(en){Po(e,t,en)}finally{null!==s&&null!==o.types&&(s.types=o.types),L.T=s}}else try{To(e,t,s=n(i,r))}catch(c){Po(e,t,c)}}function To(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){No(e,t,n)},function(n){return Po(e,t,n)}):No(e,t,n)}function No(e,t,n){t.status="fulfilled",t.value=n,Ro(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Io(e,n)))}function Po(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ro(t),t=t.next}while(t!==r)}e.action=null}function Ro(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ao(e,t){return t}function Oo(e,t){if(hi){var n=mc.formState;if(null!==n){e:{var r=Hs;if(hi){if(di){t:{for(var i=di,s=pi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=Ld(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){di=Ld(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=lo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:t},n.queue=r,n=ua.bind(null,Hs,r),r.dispatch=n,r=xo(!1),s=ha.bind(null,Hs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=lo()).queue=i,n=Eo.bind(null,Hs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Lo(e){return Do(co(),Vs,e)}function Do(e,t,n){if(t=go(e,t,Ao)[0],e=mo(po)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=uo(t)}catch(o){if(o===Xi)throw es;throw o}else r=t;var i=(t=co()).queue,s=i.dispatch;return n!==t.memoizedState&&(Hs.flags|=2048,Fo(9,{destroy:void 0},Mo.bind(null,i,n),null)),[r,s,e]}function Mo(e,t){e.action=t}function jo(e){var t=co(),n=Vs;if(null!==n)return Do(t,n,e);co(),t=t.memoizedState;var r=(n=co()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Fo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Hs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return co().memoizedState}function Uo(e,t,n,r){var i=lo();Hs.flags|=e,i.memoizedState=Fo(1|t,{destroy:void 0},n,void 0===r?null:r)}function Bo(e,t,n,r){var i=co();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==Vs&&null!==r&&eo(r,Vs.memoizedState.deps)?i.memoizedState=Fo(t,s,n,r):(Hs.flags|=e,i.memoizedState=Fo(1|t,s,n,r))}function Wo(e,t){Uo(8390656,8,e,t)}function Ho(e,t){Bo(2048,8,e,t)}function Vo(e){var t=co().memoizedState;return function(e){Hs.flags|=4;var t=Hs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function qo(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Yo(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function $o(){}function Qo(e,t){var n=co();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=co();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&eo(t,r[1]))return r[0];if(r=e(),Ys){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Xo(e,t,n){return void 0===n||0!==(1073741824&Ws)&&0===(261930&yc)?e.memoizedState=t:(e.memoizedState=n,e=Yc(),Hs.lanes|=e,Cc|=e,n)}function Zo(e,t,n,r){return Zn(n,t)?n:null!==Ts.current?(e=Xo(e,n,r),Zn(e,t)||(La=!0),e):0===(42&Ws)||0!==(1073741824&Ws)&&0===(261930&yc)?(La=!0,e.memoizedState=n):(e=Yc(),Hs.lanes|=e,Cc|=e,t)}function ea(e,t,n,r,i){var s=D.p;D.p=0!==s&&8>s?s:8;var o=L.T,a={};L.T=a,ha(e,!1,t,n);try{var l=i(),c=L.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);da(e,t,u,Gc())}else da(e,t,r,Gc())}catch(en){da(e,t,{then:function(){},status:"rejected",reason:en},Gc())}finally{D.p=s,null!==o&&null!==a.types&&(o.types=a.types),L.T=o}}function ta(){}function na(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=ra(e).queue;ea(e,i,t,M,null===n?ta:function(){return ia(e),n(r)})}function ra(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ia(e){var t=ra(e);null===t.next&&(t=e.alternate.memoizedState),da(e,t.next.queue,{},Gc())}function sa(){return Oi(dh)}function oa(){return co().memoizedState}function aa(){return co().memoizedState}function la(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gc(),r=_s(t,e=bs(n),n);return null!==r&&($c(r,t,n),ks(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function ca(e,t,n){var r=Gc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fa(e)?pa(t,n):null!==(n=Or(e,t,n,r))&&($c(n,e,r),ma(n,t,r))}function ua(e,t,n){da(e,t,n,Gc())}function da(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fa(e))pa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Zn(a,o))return Ar(e,t,i,0),null===mc&&Rr(),!1}catch(en){}if(null!==(n=Or(e,t,i,r)))return $c(n,e,r),ma(n,t,r),!0}return!1}function ha(e,t,n,r){if(r={lane:2,revertLane:Hu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fa(e)){if(t)throw Error(o(479))}else null!==(t=Or(e,n,r,2))&&$c(t,e,2)}function fa(e){var t=e.alternate;return e===Hs||null!==t&&t===Hs}function pa(e,t){Gs=Ks=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ma(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}var ga={readContext:Oi,use:ho,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useLayoutEffect:Zs,useInsertionEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useSyncExternalStore:Zs,useId:Zs,useHostTransitionStatus:Zs,useFormState:Zs,useActionState:Zs,useOptimistic:Zs,useMemoCache:Zs,useCacheRefresh:Zs};ga.useEffectEvent=Zs;var ya={readContext:Oi,use:ho,useCallback:function(e,t){return lo().memoizedState=[e,void 0===t?null:t],e},useContext:Oi,useEffect:Wo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){Uo(4,2,e,t)},useMemo:function(e,t){var n=lo();t=void 0===t?null:t;var r=e();if(Ys){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=lo();if(void 0!==n){var i=n(t);if(Ys){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ca.bind(null,Hs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},lo().memoizedState=e},useState:function(e){var t=(e=xo(e)).queue,n=ua.bind(null,Hs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:$o,useDeferredValue:function(e,t){return Xo(lo(),e,t)},useTransition:function(){var e=xo(!1);return e=ea.bind(null,Hs,e.queue,!0,!1),lo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Hs,i=lo();if(hi){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===mc)throw Error(o(349));0!==(127&yc)||bo(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Wo(ko.bind(null,r,s,e),[e]),r.flags|=2048,Fo(9,{destroy:void 0},_o.bind(null,r,s,n,t),null),n},useId:function(){var e=lo(),t=mc.identifierPrefix;if(hi){var n=ii;t="_"+t+"R_"+(n=(ri&~(1<<32-_e(ri)-1)).toString(32)+n),0<(n=$s++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Xs++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:sa,useFormState:Oo,useActionState:Oo,useOptimistic:function(e){var t=lo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ha.bind(null,Hs,!0,n),n.dispatch=t,[e,t]},useMemoCache:fo,useCacheRefresh:function(){return lo().memoizedState=la.bind(null,Hs)},useEffectEvent:function(e){var t=lo(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(o(440));return n.impl.apply(void 0,arguments)}}},va={readContext:Oi,use:ho,useCallback:Qo,useContext:Oi,useEffect:Ho,useImperativeHandle:Yo,useInsertionEffect:qo,useLayoutEffect:Ko,useMemo:Jo,useReducer:mo,useRef:zo,useState:function(){return mo(po)},useDebugValue:$o,useDeferredValue:function(e,t){return Zo(co(),Vs.memoizedState,e,t)},useTransition:function(){var e=mo(po)[0],t=co().memoizedState;return["boolean"===typeof e?e:uo(e),t]},useSyncExternalStore:vo,useId:oa,useHostTransitionStatus:sa,useFormState:Lo,useActionState:Lo,useOptimistic:function(e,t){return Co(co(),0,e,t)},useMemoCache:fo,useCacheRefresh:aa};va.useEffectEvent=Vo;var ba={readContext:Oi,use:ho,useCallback:Qo,useContext:Oi,useEffect:Ho,useImperativeHandle:Yo,useInsertionEffect:qo,useLayoutEffect:Ko,useMemo:Jo,useReducer:yo,useRef:zo,useState:function(){return yo(po)},useDebugValue:$o,useDeferredValue:function(e,t){var n=co();return null===Vs?Xo(n,e,t):Zo(n,Vs.memoizedState,e,t)},useTransition:function(){var e=yo(po)[0],t=co().memoizedState;return["boolean"===typeof e?e:uo(e),t]},useSyncExternalStore:vo,useId:oa,useHostTransitionStatus:sa,useFormState:jo,useActionState:jo,useOptimistic:function(e,t){var n=co();return null!==Vs?Co(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:fo,useCacheRefresh:aa};function _a(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ba.useEffectEvent=Vo;var ka={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=bs(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=_s(e,i,r))&&($c(t,e,r),ks(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=bs(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=_s(e,i,r))&&($c(t,e,r),ks(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gc(),r=bs(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=_s(e,r,n))&&($c(t,e,n),ks(t,e,n))}};function wa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!er(n,r)||!er(i,s))}function Sa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ka.enqueueReplaceState(t,t.state,null)}function xa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Ca(e){Ir(e)}function Ea(e){console.error(e)}function Ia(e){Ir(e)}function Ta(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Na(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Pa(e,t,n){return(n=bs(n)).tag=3,n.payload={element:null},n.callback=function(){Ta(e,t)},n}function Ra(e){return(e=bs(e)).tag=3,e}function Aa(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Na(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Na(t,n,r),"function"!==typeof i&&(null===jc?jc=new Set([this]):jc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Oa=Error(o(461)),La=!1;function Da(e,t,n,r){t.child=null===e?ms(t,null,n,r):ps(t,e.child,n,r)}function Ma(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return Ai(t),r=to(e,t,n,o,s,i),a=so(),null===e||La?(hi&&a&&ai(t),t.flags|=1,Da(e,t,r,i),t.child):(oo(e,t,i),sl(e,t,i))}function ja(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ur(s)||void 0!==s.defaultProps||null!==n.compare?((e=Hr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Fa(e,t,s,r,i))}if(s=e.child,!ol(e,i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:er)(o,r)&&e.ref===t.ref)return sl(e,t,i)}return t.flags|=1,(e=Br(s,r)).ref=t.ref,e.return=t,t.child=e}function Fa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(er(s,r)&&e.ref===t.ref){if(La=!1,t.pendingProps=r=s,!ol(e,i))return t.lanes=e.lanes,sl(e,t,i);0!==(131072&e.flags)&&(La=!0)}}return qa(e,t,n,r,i)}function za(e,t,n,r){var i=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,t.child=null;return Ba(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Ba(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qi(0,null!==s?s.cachePool:null),null!==s?Ps(t,s):Rs(),js(t)}else null!==s?(Qi(0,s.cachePool),Ps(t,s),Fs(),t.memoizedState=null):(null!==e&&Qi(0,null),Rs(),Fs());return Da(e,t,i,n),t.child}function Ua(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ba(e,t,n,r,i){var s=$i();return s=null===s?null:{parent:zi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Qi(0,null),Rs(),js(t),null!==e&&Pi(e,t,r,!0),t.childLanes=i,null}function Wa(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ha(e,t,n){return ps(t,e.child,null,n),(e=Wa(t,t.pendingProps)).flags|=2,zs(t),t.memoizedState=null,e}function Va(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function qa(e,t,n,r,i){return Ai(t),n=to(e,t,n,r,void 0,i),r=so(),null===e||La?(hi&&r&&ai(t),t.flags|=1,Da(e,t,n,i),t.child):(oo(e,t,i),sl(e,t,i))}function Ka(e,t,n,r,i,s){return Ai(t),t.updateQueue=null,n=ro(t,r,n,i),no(e),r=so(),null===e||La?(hi&&r&&ai(t),t.flags|=1,Da(e,t,n,s),t.child):(oo(e,t,s),sl(e,t,s))}function Ga(e,t,n,r,i){if(Ai(t),null===t.stateNode){var s=jr,o=n.contextType;"object"===typeof o&&null!==o&&(s=Oi(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=ka,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ys(t),o=n.contextType,s.context="object"===typeof o&&null!==o?Oi(o):jr,s.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(_a(t,n,o,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&ka.enqueueReplaceState(s,s.state,null),Cs(t,r,s,i),xs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,l=xa(n,a);s.props=l;var c=s.context,u=n.contextType;o=jr,"object"===typeof u&&null!==u&&(o=Oi(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||c!==o)&&Sa(t,s,r,o),gs=!1;var h=t.memoizedState;s.state=h,Cs(t,r,s,i),xs(),c=t.memoizedState,a||h!==c||gs?("function"===typeof d&&(_a(t,n,d,r),c=t.memoizedState),(l=gs||wa(t,n,l,r,h,c,o))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=o,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,vs(e,t),u=xa(n,o=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=jr,"object"===typeof c&&null!==c&&(l=Oi(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||h!==l)&&Sa(t,s,r,l),gs=!1,h=t.memoizedState,s.state=h,Cs(t,r,s,i),xs();var f=t.memoizedState;o!==d||h!==f||gs||null!==e&&null!==e.dependencies&&Ri(e.dependencies)?("function"===typeof a&&(_a(t,n,a,r),f=t.memoizedState),(u=gs||wa(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ri(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Va(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=ps(t,e.child,null,i),t.child=ps(t,null,n,i)):Da(e,t,n,i),t.memoizedState=s.state,e=t.child):e=sl(e,t,i),e}function Ya(e,t,n,r){return _i(),t.flags|=256,Da(e,t,n,r),t.child}var $a={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qa(e){return{baseLanes:e,cachePool:Ji()}}function Ja(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tc),e}function Xa(e,t,n){var r,i=t.pendingProps,s=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Us.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(hi){if(s?Ds(t):Fs(),(e=di)?null!==(e=null!==(e=Rd(e,pi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,ui=t,di=null):e=null,null===e)throw gi(t);return Od(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Fs(),l=el({mode:"hidden",children:l},s=t.mode),i=Vr(i,s,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Qa(n),i.childLanes=Ja(e,r,n),t.memoizedState=$a,Ua(null,i)):(Ds(t),Za(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(a)256&t.flags?(Ds(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(Fs(),t.child=e.child,t.flags|=128,t=null):(Fs(),l=i.fallback,s=t.mode,i=el({mode:"visible",children:i.children},s),(l=Vr(l,s,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,ps(t,e.child,null,n),(i=t.child).memoizedState=Qa(n),i.childLanes=Ja(e,r,n),t.memoizedState=$a,t=Ua(null,i));else if(Ds(t),Od(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,wi({value:i,source:null,stack:null}),t=tl(e,t,n)}else if(La||Pi(e,t,n,!1),r=0!==(n&e.childLanes),La||r){if(null!==(r=mc)&&(0!==(i=De(r,n))&&i!==c.retryLane))throw c.retryLane=i,Lr(e,i),$c(r,e,i),Oa;Ad(l)||au(),t=tl(e,t,n)}else Ad(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,di=Ld(l.nextSibling),ui=t,hi=!0,fi=null,pi=!1,null!==e&&ci(t,e),(t=Za(t,i.children)).flags|=4096);return t}return s?(Fs(),l=i.fallback,s=t.mode,u=(c=e.child).sibling,(i=Br(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Br(u,l):(l=Vr(l,s,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Ua(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Qa(n):(null!==(s=l.cachePool)?(c=zi._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Ji(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=Ja(e,r,n),t.memoizedState=$a,Ua(e.child,i)):(Ds(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Za(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=zr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return ps(t,e.child,null,n),(e=Za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function rl(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=s)}function il(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var o=Us.current,a=0!==(2&o);if(a?(o=1&o|2,t.flags|=128):o&=1,B(Us,o),Da(e,t,r,n),r=hi?Zr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Bs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rl(t,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Bs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rl(t,!0,n,null,s,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function sl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Cc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Pi(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ri(e))}function al(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)La=!0;else{if(!ol(e,n)&&0===(128&t.flags))return La=!1,function(e,t,n){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),Ei(0,zi,e.memoizedState.cache),_i();break;case 27:case 5:Q(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:Ei(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ms(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ds(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Xa(e,t,n):(Ds(t),null!==(e=sl(e,t,n))?e.sibling:null);Ds(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Pi(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return il(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(Us,Us.current),r)break;return null;case 22:return t.lanes=0,za(e,t,n,t.pendingProps);case 24:Ei(0,zi,e.memoizedState.cache)}return sl(e,t,n)}(e,t,n);La=0!==(131072&e.flags)}else La=!1,hi&&0!==(1048576&t.flags)&&oi(t,Zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=is(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===w){t.tag=11,t=Ma(null,t,e,r,n);break e}if(i===C){t.tag=14,t=ja(null,t,e,r,n);break e}}throw t=A(e)||e,Error(o(306,t,""))}Ur(e)?(r=xa(e,r),t.tag=1,t=Ga(null,t,e,r,n)):(t.tag=0,t=qa(null,t,e,r,n))}return t;case 0:return qa(e,t,t.type,t.pendingProps,n);case 1:return Ga(e,t,r=t.type,i=xa(r,t.pendingProps),n);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,vs(e,t),Cs(t,r,null,n);var a=t.memoizedState;if(r=a.cache,Ei(0,zi,r),r!==s.cache&&Ni(t,[zi],n,!0),xs(),r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ya(e,t,r,n);break e}if(r!==i){wi(i=$r(Error(o(424)),t)),t=Ya(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(di=Ld(e.firstChild),ui=t,hi=!0,fi=null,pi=!0,n=ms(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(_i(),r===i){t=sl(e,t,n);break e}Da(e,t,r,n)}t=t.child}return t;case 26:return Va(e,t),null===e?(n=Kd(t.type,null,t.pendingProps,null))?t.memoizedState=n:hi||(n=t.type,e=t.pendingProps,(r=yd(K.current).createElement(n))[Be]=t,r[We]=e,fd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Kd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&hi&&(r=t.stateNode=Fd(t.type,t.pendingProps,K.current),ui=t,pi=!0,i=di,Id(t.type)?(Dd=i,di=Ld(r.firstChild)):di=i),Da(e,t,t.pendingProps.children,n),Va(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&hi&&((i=r=di)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ye])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=Ld(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,pi))?(t.stateNode=r,ui=t,di=Ld(r.firstChild),pi=!1,i=!0):i=!1),i||gi(t)),Q(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,r=s.children,_d(i,s)?r=null:null!==a&&_d(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=to(e,t,io,null,null,n),dh._currentValue=i),Va(e,t),Da(e,t,r,n),t.child;case 6:return null===e&&hi&&((e=n=di)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Ld(e.nextSibling)))return null}return e}(n,t.pendingProps,pi))?(t.stateNode=n,ui=t,di=null,e=!0):e=!1),e||gi(t)),null;case 13:return Xa(e,t,n);case 4:return Y(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ps(t,null,r,n):Da(e,t,r,n),t.child;case 11:return Ma(e,t,t.type,t.pendingProps,n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ei(0,t.type,r.value),Da(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ai(t),r=r(i=Oi(i)),t.flags|=1,Da(e,t,r,n),t.child;case 14:return ja(e,t,t.type,t.pendingProps,n);case 15:return Fa(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(hi){if("hidden"===r.mode)return e=Wa(t,r),t.lanes=536870912,Ua(null,e);if(Ms(t),(e=di)?null!==(e=null!==(e=Rd(e,pi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,ui=t,di=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return Wa(t,r)}var s=e.memoizedState;if(null!==s){var a=s.dehydrated;if(Ms(t),i)if(256&t.flags)t.flags&=-257,t=Ha(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(La||Pi(e,t,n,!1),i=0!==(n&e.childLanes),La||i){if(null!==(r=mc)&&0!==(a=De(r,n))&&a!==s.retryLane)throw s.retryLane=a,Lr(e,a),$c(r,e,a),Oa;au(),t=Ha(e,t,n)}else e=s.treeContext,di=Ld(a.nextSibling),ui=t,hi=!0,fi=null,pi=!1,null!==e&&ci(t,e),(t=Wa(t,r)).flags|=4096;return t}return(e=Br(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return za(e,t,n,t.pendingProps);case 24:return Ai(t),r=Oi(zi),null===e?(null===(i=$i())&&(i=mc,s=Ui(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ys(t),Ei(0,zi,i)):(0!==(e.lanes&n)&&(vs(e,t),Cs(t,null,null,n),xs()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ei(0,zi,r)):(r=s.cache,Ei(0,zi,r),r!==i.cache&&Ni(t,[zi],n,!0))),Da(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw ss=ts,Zi;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!sh(t)){if(!iu())throw ss=ts,Zi;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Nc|=t)}function hl(e,t){if(!hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(li(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ii(zi),$(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bi(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ki())),fl(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(ll(t),null!==s?(fl(t),ul(t,s)):(fl(t),cl(t,i,0,0,n))):s?s!==e.memoizedState?(ll(t),fl(t),ul(t,s)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),fl(t),cl(t,i,0,0,n)),null;case 27:if(J(t),n=K.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return fl(t),null}e=V.current,bi(t)?yi(t):(e=Fd(i,r,n),t.stateNode=e,ll(t))}return fl(t),null;case 5:if(J(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return fl(t),null}if(s=V.current,bi(t))yi(t);else{var a=yd(K.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=a.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?a.createElement(i,{is:r.is}):a.createElement(i)}}s[Be]=t,s[We]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)s.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;e:switch(fd(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return fl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=K.current,bi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ui))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||gi(t,!0)}else(e=yd(e).createTextNode(r))[Be]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bi(t),null!==n){if(null===e){if(!r)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[Be]=t}else _i(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=ki(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(zs(t),t):(zs(t),null);if(0!==(128&t.flags))throw Error(o(558))}return fl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=bi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Be]=t}else _i(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),i=!1}else i=ki(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(zs(t),t):(zs(t),null)}return zs(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),fl(t),null);case 4:return $(),null===e&&ed(t.stateNode.containerInfo),fl(t),null;case 10:return Ii(t.type),fl(t),null;case 19:if(U(Us),null===(r=t.memoizedState))return fl(t),null;if(i=0!==(128&t.flags),null===(s=r.rendering))if(i)hl(r,!1);else{if(0!==xc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Bs(e))){for(t.flags|=128,hl(r,!1),e=s.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Wr(n,e),n=n.sibling;return B(Us,1&Us.current|2),hi&&si(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Dc&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Bs(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!hi)return fl(t),null}else 2*le()-r.renderingStartTime>Dc&&536870912!==n&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Us.current,B(Us,i?1&n|2:1&n),hi&&si(t,r.treeForkCount),e):(fl(t),null);case 22:case 23:return zs(t),As(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Yi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ii(zi),fl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function ml(e,t){switch(li(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ii(zi),$(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 31:if(null!==t.memoizedState){if(zs(t),null===t.alternate)throw Error(o(340));_i()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));_i()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(Us),null;case 4:return $(),null;case 10:return Ii(t.type),null;case 22:case 23:return zs(t),As(),null!==e&&U(Yi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ii(zi),null;default:return null}}function gl(e,t){switch(li(t),t.tag){case 3:Ii(zi),$();break;case 26:case 27:case 5:J(t);break;case 4:$();break;case 31:null!==t.memoizedState&&zs(t);break;case 13:zs(t);break;case 19:U(Us);break;case 10:Ii(t.type);break;case 22:case 23:zs(t),As(),null!==e&&U(Yi);break;case 24:Ii(zi)}}function yl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(en){xu(t,t.return,en)}}function vl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(en){xu(i,l,en)}}}r=r.next}while(r!==s)}}catch(en){xu(t,t.return,en)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Is(t,n)}catch(en){xu(e,e.return,en)}}}function _l(e,t,n){n.props=xa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(en){xu(e,t,en)}}function kl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(en){xu(e,t,en)}}function wl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(en){xu(e,t,en)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){xu(e,t,i)}else n.current=null}function Sl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(en){xu(e,e.return,en)}}function xl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||dd(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==h&&dd(e,t,f,p,r,h)}}return void vt(e,a,l,c,u,d,s,i);case"select":for(s in p=a=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||dd(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==c&&dd(e,t,i,s,r,c)}return t=l,n=a,r=p,void(null!=f?kt(e,!!n,f,!1):!!r!==!!n&&(null!=t?kt(e,!!n,t,!0):kt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dd(e,t,l,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(null!=i||null!=s))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==s&&dd(e,t,a,i,r,s)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else dd(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else dd(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&dd(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:dd(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&hd(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||hd(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&dd(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||dd(e,t,h,f,r,p)}(r,e.type,n,t),r[We]=t}catch(en){xu(e,e.return,en)}}function Cl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Id(e.type)||4===e.tag}function El(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Cl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Id(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Il(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=At));else if(4!==r&&(27===r&&Id(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Il(e,t,n),e=e.sibling;null!==e;)Il(e,t,n),e=e.sibling}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Id(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Nl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fd(t,r,n),t[Be]=e,t[We]=n}catch(en){xu(e,e.return,en)}}var Pl=!1,Rl=!1,Al=!1,Ol="function"===typeof WeakSet?WeakSet:Set,Ll=null;function Dl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:$l(e,n),4&r&&yl(5,n);break;case 1:if($l(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(en){xu(n,n.return,en)}else{var i=xa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){xu(n,n.return,o)}}64&r&&bl(n),512&r&&kl(n,n.return);break;case 3:if($l(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Is(e,t)}catch(en){xu(n,n.return,en)}}break;case 27:null===t&&4&r&&Nl(n);case 26:case 5:$l(e,n),null===t&&4&r&&Sl(n),512&r&&kl(n,n.return);break;case 12:$l(e,n);break;case 31:$l(e,n),4&r&&Bl(e,n);break;case 13:$l(e,n),4&r&&Wl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Tu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Pl)){t=null!==t&&null!==t.memoizedState||Rl,i=Pl;var s=Rl;Pl=r,(Rl=t)&&!s?Jl(e,n,0!==(8772&n.subtreeFlags)):$l(e,n),Pl=i,Rl=s}break;case 30:break;default:$l(e,n)}}function Ml(e){var t=e.alternate;null!==t&&(e.alternate=null,Ml(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var jl=null,Fl=!1;function zl(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(s){}switch(n.tag){case 26:Rl||wl(n,t),zl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Rl||wl(n,t);var r=jl,i=Fl;Id(n.type)&&(jl=n.stateNode,Fl=!1),zl(e,t,n),zd(n.stateNode),jl=r,Fl=i;break;case 5:Rl||wl(n,t);case 6:if(r=jl,i=Fl,jl=null,zl(e,t,n),Fl=i,null!==(jl=r))if(Fl)try{(9===jl.nodeType?jl.body:"HTML"===jl.nodeName?jl.ownerDocument.body:jl).removeChild(n.stateNode)}catch(en){xu(n,t,en)}else try{jl.removeChild(n.stateNode)}catch(en){xu(n,t,en)}break;case 18:null!==jl&&(Fl?(Td(9===(e=jl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),qh(e)):Td(jl,n.stateNode));break;case 4:r=jl,i=Fl,jl=n.stateNode.containerInfo,Fl=!0,zl(e,t,n),jl=r,Fl=i;break;case 0:case 11:case 14:case 15:vl(2,n,t),Rl||vl(4,n,t),zl(e,t,n);break;case 1:Rl||(wl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&_l(n,t,r)),zl(e,t,n);break;case 21:zl(e,t,n);break;case 22:Rl=(r=Rl)||null!==n.memoizedState,zl(e,t,n),Rl=r;break;default:zl(e,t,n)}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{qh(e)}catch(en){xu(t,t.return,en)}}}function Wl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{qh(e)}catch(en){xu(t,t.return,en)}}function Hl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ol),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ol),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Nu.bind(null,e,t);t.then(r,r)}})}function Vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(Id(l.type)){jl=l.stateNode,Fl=!1;break e}break;case 5:jl=l.stateNode,Fl=!1;break e;case 3:case 4:jl=l.stateNode.containerInfo,Fl=!0;break e}l=l.return}if(null===jl)throw Error(o(160));Ul(s,a,i),jl=null,Fl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Kl(t,e),t=t.sibling}var ql=null;function Kl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vl(t,e),Gl(e),4&r&&(vl(3,e,e.return),yl(3,e),vl(5,e,e.return));break;case 1:Vl(t,e),Gl(e),512&r&&(Rl||null===n||wl(n,n.return)),64&r&&Pl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=ql;if(Vl(t,e),Gl(e),512&r&&(Rl||null===n||wl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Ye]||s[Be]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),fd(s,r,n),s[Be]=e,et(s),r=s;break e;case"link":var a=rh("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((s=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}fd(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(a=rh("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((s=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}fd(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(o(468,r))}s[Be]=e,et(s),r=s}e.stateNode=r}else ih(i,e.type,e.stateNode);else e.stateNode=Xd(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?ih(i,e.type,e.stateNode):Xd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&xl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Vl(t,e),Gl(e),512&r&&(Rl||null===n||wl(n,n.return)),null!==n&&4&r&&xl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Vl(t,e),Gl(e),512&r&&(Rl||null===n||wl(n,n.return)),32&e.flags){i=e.stateNode;try{xt(i,"")}catch(en){xu(e,e.return,en)}}4&r&&null!=e.stateNode&&xl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Al=!0);break;case 6:if(Vl(t,e),Gl(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(en){xu(e,e.return,en)}}break;case 3:if(nh=null,i=ql,ql=Wd(t.containerInfo),Vl(t,e),ql=i,Gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qh(t.containerInfo)}catch(en){xu(e,e.return,en)}Al&&(Al=!1,Yl(e));break;case 4:r=ql,ql=Wd(e.stateNode.containerInfo),Vl(t,e),Gl(e),ql=r;break;case 12:default:Vl(t,e),Gl(e);break;case 31:case 19:Vl(t,e),Gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 13:Vl(t,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Oc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Pl,d=Rl;if(Pl=u||i,Rl=d||c,Vl(t,e),Rl=d,Pl=u,Gl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Pl||Rl||Ql(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(en){xu(c,c.return,en)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(en){xu(c,c.return,en)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Nd(p,!0):Nd(c.stateNode,!1)}catch(en){xu(c,c.return,en)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Hl(e,n))));case 30:case 21:}}function Gl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Cl(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;Tl(e,El(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(xt(s,""),n.flags&=-33),Tl(e,El(e),s);break;case 3:case 4:var a=n.stateNode.containerInfo;Il(e,El(e),a);break;default:throw Error(o(161))}}catch(en){xu(e,e.return,en)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Yl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Yl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function $l(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Dl(e,t.alternate,t),t=t.sibling}function Ql(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Ql(t);break;case 1:wl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&_l(t,t.return,n),Ql(t);break;case 27:zd(t.stateNode);case 26:case 5:wl(t,t.return),Ql(t);break;case 22:null===t.memoizedState&&Ql(t);break;default:Ql(t)}e=e.sibling}}function Jl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Jl(i,s,n),yl(4,s);break;case 1:if(Jl(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(en){xu(r,r.return,en)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Es(l[i],a)}catch(en){xu(r,r.return,en)}}n&&64&o&&bl(s),kl(s,s.return);break;case 27:Nl(s);case 26:case 5:Jl(i,s,n),n&&null===r&&4&o&&Sl(s),kl(s,s.return);break;case 12:Jl(i,s,n);break;case 31:Jl(i,s,n),n&&4&o&&Bl(i,s);break;case 13:Jl(i,s,n),n&&4&o&&Wl(i,s);break;case 22:null===s.memoizedState&&Jl(i,s,n),kl(s,s.return);break;case 30:break;default:Jl(i,s,n)}t=t.sibling}}function Xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bi(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&i&&yl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e)));break;case 12:if(2048&i){ec(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(en){xu(t,t.return,en)}}else ec(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?ec(e,t,n,r):rc(e,t):2&s._visibility?ec(e,t,n,r):(s._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Xl(o,t);break;case 24:ec(e,t,n,r),2048&i&&Zl(t.alternate,t)}}function nc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,o=t,a=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:nc(s,o,a,l,i),yl(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?nc(s,o,a,l,i):rc(s,o):(u._visibility|=2,nc(s,o,a,l,i)),i&&2048&c&&Xl(o.alternate,o);break;case 24:nc(s,o,a,l,i),i&&2048&c&&Zl(o.alternate,o);break;default:nc(s,o,a,l,i)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:rc(n,r),2048&i&&Xl(r.alternate,r);break;case 24:rc(n,r),2048&i&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var ic=8192;function sc(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)oc(e,t,n),e=e.sibling}function oc(e,t,n){switch(e.tag){case 26:sc(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Gd(r.href),s=t.querySelector(Yd(i));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ah.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=$d(r),(i=Ud.get(i))&&eh(r,i),et(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),fd(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ah.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,ql,e.memoizedState,e.memoizedProps);break;case 5:default:sc(e,t,n);break;case 3:case 4:var r=ql;ql=Wd(e.stateNode.containerInfo),sc(e,t,n),ql=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ic,ic=16777216,sc(e,t,n),ic=r):sc(e,t,n))}}function ac(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ll=r,dc(r,e)}ac(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ll=r,dc(r,e)}ac(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function dc(e,t){for(;null!==Ll;){var n=Ll;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ll=r;else e:for(n=e;null!==Ll;){var i=(r=Ll).sibling,s=r.return;if(Ml(r),r===n){Ll=null;break e}if(null!==i){i.return=s,Ll=i;break e}Ll=s}}}var hc={getCacheForType:function(e){var t=Oi(zi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Oi(zi).controller.signal}},fc="function"===typeof WeakMap?WeakMap:Map,pc=0,mc=null,gc=null,yc=0,vc=0,bc=null,_c=!1,kc=!1,wc=!1,Sc=0,xc=0,Cc=0,Ec=0,Ic=0,Tc=0,Nc=0,Pc=null,Rc=null,Ac=!1,Oc=0,Lc=0,Dc=1/0,Mc=null,jc=null,Fc=0,zc=null,Uc=null,Bc=0,Wc=0,Hc=null,Vc=null,qc=0,Kc=null;function Gc(){return 0!==(2&pc)&&0!==yc?yc&-yc:null!==L.T?Hu():Fe()}function Yc(){if(0===Tc)if(0===(536870912&yc)||hi){var e=xe;0===(3932160&(xe<<=1))&&(xe=262144),Tc=e}else Tc=536870912;return null!==(e=Os.current)&&(e.flags|=32),Tc}function $c(e,t,n){(e!==mc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,yc,Tc,!1)),Ae(e,n),0!==(2&pc)&&e===mc||(e===mc&&(0===(2&pc)&&(Ec|=n),4===xc&&Zc(e,yc,Tc,!1)),Mu(e))}function Qc(e,t,n){if(0!==(6&pc))throw Error(o(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Te(e,t),i=r?function(e,t){var n=pc;pc|=2;var r=su(),i=ou();mc!==e||yc!==t?(Mc=null,Dc=le()+500,nu(e,t)):kc=Te(e,t);e:for(;;)try{if(0!==vc&&null!==gc){t=gc;var s=bc;t:switch(vc){case 1:vc=0,bc=null,fu(e,t,s,1);break;case 2:case 9:if(ns(s)){vc=0,bc=null,hu(t);break}t=function(){2!==vc&&9!==vc||mc!==e||(vc=7),Mu(e)},s.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ns(s)?(vc=0,bc=null,hu(t)):(vc=0,bc=null,fu(e,t,s,7));break;case 5:var a=null;switch(gc.tag){case 26:a=gc.memoizedState;case 5:case 27:var l=gc;if(a?sh(a):l.stateNode.complete){vc=0,bc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,pu(u)):gc=null}break t}}vc=0,bc=null,fu(e,t,s,5);break;case 6:vc=0,bc=null,fu(e,t,s,6);break;case 8:tu(),xc=6;break e;default:throw Error(o(462))}}uu();break}catch(d){ru(e,d)}return Ci=xi=null,L.H=r,L.A=i,pc=n,null!==gc?0:(mc=null,yc=0,Rr(),xc)}(e,t):lu(e,t,!0),s=r;;){if(0===i){kc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!s||Xc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=Pc;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,a).flags|=256),2!==(a=lu(l,a,!1))){if(wc&&!c){l.errorRecoveryDisabledLanes|=s,Ec|=s,i=4;break e}s=Rc,Rc=i,null!==s&&(null===Rc?Rc=s:Rc.push.apply(Rc,s))}i=a}if(s=!1,2!==i)continue}}if(1===i){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,Tc,!_c);break e;case 2:Rc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=Oc+300-le())){if(Zc(r,t,Tc,!_c),0!==Ie(r,0,!0))break e;Bc=t,r.timeoutHandle=wd(Jc.bind(null,r,n,Rc,Mc,Ac,t,Tc,Ec,Nc,_c,s,"Throttled",-0,0),i)}else Jc(r,n,Rc,Mc,Ac,t,Tc,Ec,Nc,_c,s,null,-0,0)}break}i=lu(e,t,!1),s=!1}Mu(e)}function Jc(e,t,n,r,i,s,o,a,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){oc(t,s,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:At});var p=(62914560&s)===s?Oc-le():(4194048&s)===s?Lc-le():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===oh&&(oh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,o=i.initiatorType,a=i.duration;if(s&&a&&pd(o)){for(o=0,a=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>a)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(o+=u*((l=l.responseEnd)<a?1:(a-c)/(l-c)))}if(--r,t+=8*(s+o)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>oh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,p)))return Bc=s,e.cancelPendingCommit=p(gu.bind(null,e,t,s,n,r,i,o,a,l,u,d,null,h,f)),void Zc(e,s,o,!c)}gu(e,t,s,n,r,i,o,a,l)}function Xc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zn(s(),i))return!1}catch(en){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Ic,t&=~Ec,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-_e(i),o=1<<s;r[s]=-1,i&=~o}0!==n&&Oe(e,n,t)}function eu(){return 0!==(6&pc)||(ju(0,!1),!1)}function tu(){if(null!==gc){if(0===vc)var e=gc.return;else Ci=xi=null,ao(e=gc),ls=null,cs=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Sd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc=0,tu(),mc=e,gc=n=Br(e.current,null),yc=t,vc=0,bc=null,_c=!1,kc=Te(e,t),wc=!1,Nc=Tc=Ic=Ec=Cc=xc=0,Rc=Pc=null,Ac=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-_e(r),s=1<<i;t|=e[i],r&=~s}return Sc=t,Rr(),n}function ru(e,t){Hs=null,L.H=ga,t===Xi||t===es?(t=os(),vc=3):t===Zi?(t=os(),vc=4):vc=t===Oa?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===gc&&(xc=1,Ta(e,$r(t,e.current)))}function iu(){var e=Os.current;return null===e||((4194048&yc)===yc?null===Ls:((62914560&yc)===yc||0!==(536870912&yc))&&e===Ls)}function su(){var e=L.H;return L.H=ga,null===e?ga:e}function ou(){var e=L.A;return L.A=hc,e}function au(){xc=4,_c||(4194048&yc)!==yc&&null!==Os.current||(kc=!0),0===(134217727&Cc)&&0===(134217727&Ec)||null===mc||Zc(mc,yc,Tc,!1)}function lu(e,t,n){var r=pc;pc|=2;var i=su(),s=ou();mc===e&&yc===t||(Mc=null,nu(e,t)),t=!1;var o=xc;e:for(;;)try{if(0!==vc&&null!==gc){var a=gc,l=bc;switch(vc){case 8:tu(),o=6;break e;case 3:case 2:case 9:case 6:null===Os.current&&(t=!0);var c=vc;if(vc=0,bc=null,fu(e,a,l,c),n&&kc){o=0;break e}break;default:c=vc,vc=0,bc=null,fu(e,a,l,c)}}cu(),o=xc;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,Ci=xi=null,pc=r,L.H=i,L.A=s,null===gc&&(mc=null,yc=0,Rr()),o}function cu(){for(;null!==gc;)du(gc)}function uu(){for(;null!==gc&&!oe();)du(gc)}function du(e){var t=al(e.alternate,e,Sc);e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ka(n,t,t.pendingProps,t.type,void 0,yc);break;case 11:t=Ka(n,t,t.pendingProps,t.type.render,t.ref,yc);break;case 5:ao(t);default:gl(n,t),t=al(n,t=gc=Wr(t,Sc),Sc)}e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function fu(e,t,n,r){Ci=xi=null,ao(t),ls=null,cs=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Pi(t,n,i,!0),null!==(n=Os.current)){switch(n.tag){case 31:case 13:return null===Ls?au():null===n.alternate&&0===xc&&(xc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ts?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Cu(e,r,i)),!1;case 22:return n.flags|=65536,r===ts?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Cu(e,r,i)),!1}throw Error(o(435,n.tag))}return Cu(e,r,i),au(),!1}if(hi)return null!==(t=Os.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==mi&&wi($r(e=Error(o(422),{cause:r}),n))):(r!==mi&&wi($r(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=$r(r,n),ws(e,i=Pa(e.stateNode,r,i)),4!==xc&&(xc=2)),!1;var s=Error(o(520),{cause:r});if(s=$r(s,n),null===Pc?Pc=[s]:Pc.push(s),4!==xc&&(xc=2),null===t)return!0;r=$r(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ws(n,e=Pa(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===jc||!jc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Aa(i=Ra(i),e,n,r),ws(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,yc))return xc=1,Ta(e,$r(n,e.current)),void(gc=null)}catch(en){if(null!==i)throw gc=i,en;return xc=1,Ta(e,$r(n,e.current)),void(gc=null)}32768&t.flags?(hi||1===r?e=!0:kc||0!==(536870912&yc)?e=!1:(_c=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Os.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,_c);e=t.return;var n=pl(t.alternate,t,Sc);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===xc&&(xc=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);xc=6,gc=null}function gu(e,t,n,r,i,s,a,l,c){e.cancelPendingCommit=null;do{ku()}while(0!==Fc);if(0!==(6&pc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-_e(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Oe(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,s|=Pr,a,l,c),e===mc&&(gc=mc=null,yc=0),Uc=t,zc=e,Bc=n,Wc=s,Hc=i,Vc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return wu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=L.T,L.T=null,i=D.p,D.p=2,a=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,md=_h,sr(e=ir(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},_h=!1,Ll=t;null!==Ll;)if(e=(t=Ll).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ll=e;else for(;null!==Ll;){switch(s=(t=Ll).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=xa(n.type,i);e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(en){xu(n,n.return,en)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Pd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Ll=e;break}Ll=t.return}}(e,t)}finally{pc=a,D.p=i,L.T=r}}Fc=1,yu(),vu(),bu()}}function yu(){if(1===Fc){Fc=0;var e=zc,t=Uc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=L.T,L.T=null;var r=D.p;D.p=2;var i=pc;pc|=4;try{Kl(t,e);var s=gd,o=ir(e.containerInfo),a=s.focusedElem,l=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&rr(a.ownerDocument.documentElement,a)){if(null!==l&&sr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var y=nr(a,m),v=nr(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var _=d[a];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}_h=!!md,gd=md=null}finally{pc=i,D.p=r,L.T=n}}e.current=t,Fc=2}}function vu(){if(2===Fc){Fc=0;var e=zc,t=Uc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=L.T,L.T=null;var r=D.p;D.p=2;var i=pc;pc|=4;try{Dl(e,t.alternate,t)}finally{pc=i,D.p=r,L.T=n}}Fc=3}}function bu(){if(4===Fc||3===Fc){Fc=0,ae();var e=zc,t=Uc,n=Bc,r=Vc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fc=5:(Fc=0,Uc=zc=null,_u(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(jc=null),je(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=L.T,i=D.p,D.p=2,L.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];s(a.value,{componentStack:a.stack})}}finally{L.T=t,D.p=i}}0!==(3&Bc)&&ku(),Mu(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Kc?qc++:(qc=0,Kc=e):qc=0,ju(0,!1)}}function _u(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bi(t)))}function ku(){return yu(),vu(),bu(),wu()}function wu(){if(5!==Fc)return!1;var e=zc,t=Wc;Wc=0;var n=je(Bc),r=L.T,i=D.p;try{D.p=32>n?32:n,L.T=null,n=Hc,Hc=null;var s=zc,a=Bc;if(Fc=0,Uc=zc=null,Bc=0,0!==(6&pc))throw Error(o(331));var l=pc;if(pc|=4,cc(s.current),tc(s,s.current,a,n),pc=l,ju(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,s)}catch(c){}return!0}finally{D.p=i,L.T=r,_u(e,t)}}function Su(e,t,n){t=$r(n,t),null!==(e=_s(e,t=Pa(e.stateNode,t,2),2))&&(Ae(e,2),Mu(e))}function xu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===jc||!jc.has(r))){e=$r(n,e),null!==(r=_s(t,n=Ra(2),2))&&(Aa(n,r,t,e),Ae(r,2),Mu(r));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(wc=!0,i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(yc&n)===n&&(4===xc||3===xc&&(62914560&yc)===yc&&300>le()-Oc?0===(2&pc)&&nu(e,0):Ic|=n,Nc===yc&&(Nc=0)),Mu(e)}function Iu(e,t){0===t&&(t=Pe()),null!==(e=Lr(e,t))&&(Ae(e,t),Mu(e))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Iu(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),Iu(e,n)}var Pu=null,Ru=null,Au=!1,Ou=!1,Lu=!1,Du=0;function Mu(e){e!==Ru&&null===e.next&&(null===Ru?Pu=Ru=e:Ru=Ru.next=e),Ou=!0,Au||(Au=!0,Cd(function(){0!==(6&pc)?ie(ue,Fu):zu()}))}function ju(e,t){if(!Lu&&Ou){Lu=!0;do{for(var n=!1,r=Pu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-_e(42|e)+1)-1,s=201326741&(s&=i&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Wu(r,s))}else s=yc,0===(3&(s=Ie(r,r===mc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Te(r,s)||(n=!0,Wu(r,s));r=r.next}}while(n);Lu=!1}}function Fu(){zu()}function zu(){Ou=Au=!1;var e=0;0!==Du&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==kd&&(kd=e,!0);return kd=null,!1}()&&(e=Du);for(var t=le(),n=null,r=Pu;null!==r;){var i=r.next,s=Uu(r,t);0===s?(r.next=null,null===n?Pu=i:n.next=i,null===i&&(Ru=n)):(n=r,(0!==e||0!==(3&s))&&(Ou=!0)),r=i}0!==Fc&&5!==Fc||ju(e,!1),0!==Du&&(Du=0)}function Uu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-_e(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=Ne(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}if(n=yc,n=Ie(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Te(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),je(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=Bu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function Bu(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=yc;return 0===(r=Ie(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Qc(e,r,t),Uu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Bu.bind(null,e):null)}function Wu(e,t){if(ku())return null;Qc(e,t,!0)}function Hu(){if(0===Du){var e=Vi;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),Du=e}return Du}function Vu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function qu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ku=0;Ku<Cr.length;Ku++){var Gu=Cr[Ku];Er(Gu.toLowerCase(),"on"+(Gu[0].toUpperCase()+Gu.slice(1)))}Er(yr,"onAnimationEnd"),Er(vr,"onAnimationIteration"),Er(br,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(_r,"onTransitionRun"),Er(kr,"onTransitionStart"),Er(wr,"onTransitionCancel"),Er(Sr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$u=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yu));function Qu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(en){Ir(en)}i.currentTarget=null,s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(en){Ir(en)}i.currentTarget=null,s=l}}}}function Ju(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function Xu(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&($u.has(t)||Xu(t,!1,e),Xu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Xu("selectionchange",!1,t))}}function td(e,t,n,r){switch(Ih(t)){case 2:var i=kh;break;case 8:i=wh;break;default:i=Sh}n=i.bind(null,t,n,e),i=void 0,!Wt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nd(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==a;){if(null===(o=Qe(a)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=s=o;continue e}a=a.parentNode}}r=r.return}zt(function(){var r=s,i=Lt(n),o=[];e:{var a=xr.get(e);if(void 0!==a){var c=rn,u=e;switch(e){case"keypress":if(0===Yt(n))break e;case"keydown":case"keyup":c=bn;break;case"focusin":u="focus",c=un;break;case"focusout":u="blur",c=un;break;case"beforeblur":case"afterblur":c=un;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=kn;break;case yr:case vr:case br:c=dn;break;case Sr:c=wn;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=Sn;break;case"copy":case"cut":case"paste":c=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=_n;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==a?a+"Capture":null:a;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ut(m,f))&&d.push(rd(m,g,p)),h)break;m=m.return}0<d.length&&(a=new c(a,u,null,n,i),o.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Ot||!(u=n.relatedTarget||n.fromElement)||!Qe(u)&&!u[He])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Qe(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=ln,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=_n,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?a:Xe(c),p=null==u?a:Xe(u),(a=new d(g,m+"leave",c,n,i)).target=h,a.relatedTarget=p,g=null,Qe(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=sd,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var y=m;y;y=d(y))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&od(o,a,c,d,!1),null!==u&&null!==h&&od(o,h,u,d,!0)}if("select"===(c=(a=r?Xe(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var v=Wn;else if(Mn(a))if(Hn)v=Xn;else{v=Qn;var b=$n}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Tt(r.elementType)&&(v=Wn):v=Jn;switch(v&&(v=v(e,r))?jn(o,v,n,i):(b&&b(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&_t(a,"number",a.value)),b=r?Xe(r):window,e){case"focusin":(Mn(b)||"true"===b.contentEditable)&&(ar=b,lr=r,cr=null);break;case"focusout":cr=lr=ar=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,dr(o,n,i);break;case"selectionchange":if(or)break;case"keydown":case"keyup":dr(o,n,i)}var _;if(En)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ln?An(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Nn&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==k?"onCompositionEnd"===k&&Ln&&(_=Gt()):(qt="value"in(Vt=i)?Vt.value:Vt.textContent,Ln=!0)),0<(b=id(r,k)).length&&(k=new fn(k,e,null,n,i),o.push({event:k,listeners:b}),_?k.data=_:null!==(_=On(n))&&(k.data=_))),(_=Tn?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(Rn=!0,Pn);case"textInput":return(e=t.data)===Pn&&Rn?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!En&&An(e,t)?(e=Gt(),Kt=qt=Vt=null,Ln=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(k=id(r,"onBeforeInput")).length&&(b=new fn("onBeforeInput","beforeinput",null,n,i),o.push({event:b,listeners:k}),b.data=_)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Vu((i[We]||null).action),o=r.submitter;o&&null!==(t=(t=o[We]||null)?Vu(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new rn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Du){var e=o?qu(i,o):new FormData(i);na(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?qu(i,o):new FormData(i),na(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}Qu(o,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Ut(e,n))&&r.unshift(rd(e,i,s)),null!=(i=Ut(e,t))&&r.push(rd(e,i,s))),3===e.tag)return r;e=e.return}return[]}function sd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function od(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=Ut(n,s))&&o.unshift(rd(n,c,l)):i||null!=(c=Ut(n,s))&&o.push(rd(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var ad=/\r\n?/g,ld=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(ad,"\n").replace(ld,"")}function ud(e,t){return t=cd(t),cd(e)===t}function dd(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||xt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&xt(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":It(e,r,s);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&dd(e,t,"name",i.name,i,null),dd(e,t,"formEncType",i.formEncType,i,null),dd(e,t,"formMethod",i.formMethod,i,null),dd(e,t,"formTarget",i.formTarget,i,null)):(dd(e,t,"encType",i.encType,i,null),dd(e,t,"method",i.method,i,null),dd(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=At);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Rt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ju("beforetoggle",e),Ju("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Nt.get(n)||n,r)}}function hd(e,t,n,r,i,s){switch(n){case"style":It(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?xt(e,r):("number"===typeof r||"bigint"===typeof r)&&xt(e,""+r);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"onClick":null!=r&&(e.onclick=At);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[We]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function fd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ju("error",e),Ju("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:dd(e,t,r,a,n,null)}}return s&&dd(e,t,"srcSet",n.srcSet,n,null),void(i&&dd(e,t,"src",n.src,n,null));case"input":Ju("invalid",e);var l=r=a=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":s=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:dd(e,t,i,d,n,null)}}return void bt(e,r,l,c,u,a,s,!1);case"select":for(s in Ju("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:dd(e,t,s,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?kt(e,!!i,t,!1):null!=n&&kt(e,!!i,n,!0));case"textarea":for(a in Ju("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:dd(e,t,a,l,n,null)}return void St(e,i,s,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else dd(e,t,c,i,n,null);return;case"dialog":Ju("beforetoggle",e),Ju("toggle",e),Ju("cancel",e),Ju("close",e);break;case"iframe":case"object":Ju("load",e);break;case"video":case"audio":for(i=0;i<Yu.length;i++)Ju(Yu[i],e);break;case"image":Ju("error",e),Ju("load",e);break;case"details":Ju("toggle",e);break;case"embed":case"source":case"link":Ju("error",e),Ju("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:dd(e,t,u,i,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&hd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&dd(e,t,l,i,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,gd=null;function yd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function _d(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var kd=null;var wd="function"===typeof setTimeout?setTimeout:void 0,Sd="function"===typeof clearTimeout?clearTimeout:void 0,xd="function"===typeof Promise?Promise:void 0,Cd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof xd?function(e){return xd.resolve(null).then(e).catch(Ed)}:wd;function Ed(e){setTimeout(function(){throw e})}function Id(e){return"head"===e}function Td(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void qh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)zd(e.ownerDocument.documentElement);else if("head"===n){zd(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var o=s.nextSibling,a=s.nodeName;s[Ye]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}else"body"===n&&zd(e.ownerDocument.body);n=i}while(n);qh(t)}function Nd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pd(n),$e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Rd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Ld(e.nextSibling)))return null}return e}function Ad(e){return"$?"===e.data||"$~"===e.data}function Od(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Ld(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Dd=null;function Md(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Ld(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function jd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fd(e,t,n){switch(t=yd(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function zd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var Ud=new Map,Bd=new Set;function Wd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hd=D.d;D.d={f:function(){var e=Hd.f(),t=eu();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?ia(t):Hd.r(e)},D:function(e){Hd.D(e),qd("dns-prefetch",e,null)},C:function(e,t){Hd.C(e,t),qd("preconnect",e,t)},L:function(e,t,n){Hd.L(e,t,n);var r=Vd;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var s=i;switch(t){case"style":s=Gd(e);break;case"script":s=Qd(e)}Ud.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ud.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Yd(s))||"script"===t&&r.querySelector(Jd(s))||(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Hd.m(e,t);var n=Vd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Qd(e)}if(!Ud.has(s)&&(e=f({rel:"modulepreload",href:e},t),Ud.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Jd(s)))return}fd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Hd.X(e,t);var n=Vd;if(n&&e){var r=Ze(n).hoistableScripts,i=Qd(e),s=r.get(i);s||((s=n.querySelector(Jd(i)))||(e=f({src:e,async:!0},t),(t=Ud.get(i))&&th(e,t),et(s=n.createElement("script")),fd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Hd.S(e,t,n);var r=Vd;if(r&&e){var i=Ze(r).hoistableStyles,s=Gd(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Yd(s)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ud.get(s))&&eh(e,n);var l=o=r.createElement("link");et(l),fd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Zd(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}},M:function(e,t){Hd.M(e,t);var n=Vd;if(n&&e){var r=Ze(n).hoistableScripts,i=Qd(e),s=r.get(i);s||((s=n.querySelector(Jd(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Ud.get(i))&&th(e,t),et(s=n.createElement("script")),fd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Vd="undefined"===typeof document?null:document;function qd(e,t,n){var r=Vd;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Bd.has(i)||(Bd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Kd(e,t,n,r){var i,s,a,l,c=(c=K.current)?Wd(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Gd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Gd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Yd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ud.set(e,n),u||(i=c,s=e,a=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),fd(s,"link",a),et(s),i.head.appendChild(s))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Qd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Gd(e){return'href="'+yt(e)+'"'}function Yd(e){return'link[rel="stylesheet"]['+e+"]"}function $d(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Qd(e){return'[src="'+yt(e)+'"]'}function Jd(e){return"script[async]"+e}function Xd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fd(r,"style",i),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Gd(n.href);var s=e.querySelector(Yd(i));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=$d(n),(i=Ud.get(i))&&eh(r,i),et(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),fd(s,"link",r),t.state.loading|=4,Zd(s,n.precedence,e),t.instance=s;case"script":return s=Qd(n.src),(i=e.querySelector(Jd(s)))?(t.instance=i,et(i),i):(r=n,(i=Ud.get(s))&&th(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),fd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nh=null;function rh(e,t,n){if(null===nh){var r=new Map,i=nh=new Map;i.set(n,r)}else(r=(i=nh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ye]||s[Be]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function ih(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function sh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var oh=0;function ah(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lh=new Map,t.forEach(uh,e),lh=null,ah.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=lh.get(e);if(n)var r=n.get(null);else{n=new Map,lh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=ah.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var dh={$$typeof:k,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function hh(e,t,n,r,i,s,o,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fh(e,t,n,r,i,s,o,a,l,c,u,d){return e=new hh(e,t,n,o,l,c,u,d,a),t=1,!0===s&&(t|=24),s=zr(3,null,null,t),e.current=s,s.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ys(s),e}function ph(e){return e?e=jr:jr}function mh(e,t,n,r,i,s){i=ph(i),null===r.context?r.context=i:r.pendingContext=i,(r=bs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=_s(e,r,t))&&($c(n,0,t),ks(n,e,t))}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yh(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Lr(e,67108864);null!==t&&$c(t,0,67108864),yh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=Gc(),n=Lr(e,t=Me(t));null!==n&&$c(n,0,t),yh(e,t)}}var _h=!0;function kh(e,t,n,r){var i=L.T;L.T=null;var s=D.p;try{D.p=2,Sh(e,t,n,r)}finally{D.p=s,L.T=i}}function wh(e,t,n,r){var i=L.T;L.T=null;var s=D.p;try{D.p=8,Sh(e,t,n,r)}finally{D.p=s,L.T=i}}function Sh(e,t,n,r){if(_h){var i=xh(r);if(null===i)nd(e,t,r,Ch,n),Mh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nh=jh(Nh,e,t,n,r,i),!0;case"dragenter":return Ph=jh(Ph,e,t,n,r,i),!0;case"mouseover":return Rh=jh(Rh,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ah.set(s,jh(Ah.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Oh.set(s,jh(Oh.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mh(e,r),4&t&&-1<Dh.indexOf(e)){for(;null!==i;){var s=Je(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=Ee(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-_e(o);a.entanglements[1]|=l,o&=~l}Mu(s),0===(6&pc)&&(Dc=le()+500,ju(0,!1))}}break;case 31:case 13:null!==(a=Lr(s,2))&&$c(a,0,2),eu(),yh(s,2)}if(null===(s=xh(r))&&nd(e,t,r,Ch,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else nd(e,t,r,null,n)}}function xh(e){return Eh(e=Lt(e))}var Ch=null;function Eh(e){if(Ch=null,null!==(e=Qe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ch=e,null}function Ih(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Th=!1,Nh=null,Ph=null,Rh=null,Ah=new Map,Oh=new Map,Lh=[],Dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mh(e,t){switch(e){case"focusin":case"focusout":Nh=null;break;case"dragenter":case"dragleave":Ph=null;break;case"mouseover":case"mouseout":Rh=null;break;case"pointerover":case"pointerout":Ah.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oh.delete(t.pointerId)}}function jh(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Je(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fh(e){var t=Qe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void ze(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void ze(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=xh(e.nativeEvent);if(null!==n)return null!==(t=Je(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ot=r,n.target.dispatchEvent(r),Ot=null,t.shift()}return!0}function Uh(e,t,n){zh(e)&&n.delete(t)}function Bh(){Th=!1,null!==Nh&&zh(Nh)&&(Nh=null),null!==Ph&&zh(Ph)&&(Ph=null),null!==Rh&&zh(Rh)&&(Rh=null),Ah.forEach(Uh),Oh.forEach(Uh)}function Wh(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bh)))}var Hh=null;function Vh(e){Hh!==e&&(Hh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hh===e&&(Hh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Eh(r||n))continue;break}var s=Je(n);null!==s&&(e.splice(t,3),t-=3,na(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function qh(e){function t(t){return Wh(t,e)}null!==Nh&&Wh(Nh,e),null!==Ph&&Wh(Ph,e),null!==Rh&&Wh(Rh,e),Ah.forEach(t),Oh.forEach(t);for(var n=0;n<Lh.length;n++){var r=Lh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Lh.length&&null===(n=Lh[0]).blockedOn;)Fh(n),null===n.blockedOn&&Lh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[We]||null;if("function"===typeof s)o||Vh(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[We]||null)a=o.formAction;else if(null!==Eh(i))continue}else a=o.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Vh(n)}}}function Kh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Gh(e){this._internalRoot=e}function Yh(e){this._internalRoot=e}Yh.prototype.render=Gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));mh(t.current,Gc(),e,t,null,null)},Yh.prototype.unmount=Gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),eu(),t[He]=null}},Yh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lh.length&&0!==t&&t<Lh[n].priority;n++);Lh.splice(n,0,e),0===n&&Fh(e)}};var $h=i.version;if("19.2.3"!==$h)throw Error(o(527,$h,"19.2.3"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return d(i),e;if(s===r)return d(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Qh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{ye=Jh.inject(Qh),ve=Jh}catch(Zh){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var n=!1,r="",i=Ca,s=Ea,l=Ia;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fh(e,1,!1,null,0,n,r,null,i,s,l,Kh),e[He]=t.current,ed(e),new Gh(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(o(299));var r=!1,i="",s=Ca,l=Ea,c=Ia,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=fh(e,1,!0,t,0,r,i,u,s,l,c,Kh)).context=ph(null),n=t.current,(i=bs(r=Me(r=Gc()))).callback=null,_s(n,i,r),n=r,t.current.lanes=n,Ae(t,n),Mu(t),e[He]=t.current,ed(e),new Yh(t)},t.version="19.2.3"},43(e,t,n){e.exports=n(288)},288(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function _(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var k=_.prototype=new b;k.constructor=_,g(k,v.prototype),k.isPureReactComponent=!0;var w=Array.isArray;function S(){}var x={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function E(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return P((u=e._init)(e._payload),t,i,s,o)}}if(u)return o=o(e),u=""===s?"."+N(e,0):s,w(o)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),P(o,t,i,"",function(e){return e})):null!=o&&(I(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+u,o=E(l.type,c,l.props)),t.push(o)),1;u=0;var d,f=""===s?".":s+":";if(w(e))for(var m=0;m<e.length;m++)u+=P(s=e[m],t,i,a=f+N(s,m),o);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,a=f+N(s,m++),o);else if("object"===a){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},L={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=L,t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return x.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.key&&(i=""+t.key),t)!C.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];r.children=o}return E(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)C.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return E(e,s,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.T,n={};x.T=n;try{var r=e(),i=x.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(S,O)}catch(en){O(en)}finally{null!==t&&null!==n.types&&(t.types=n.types),x.T=t}},t.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},t.use=function(e){return x.H.use(e)},t.useActionState=function(e,t,n){return x.H.useActionState(e,t,n)},t.useCallback=function(e,t){return x.H.useCallback(e,t)},t.useContext=function(e){return x.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return x.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return x.H.useEffect(e,t)},t.useEffectEvent=function(e){return x.H.useEffectEvent(e)},t.useId=function(){return x.H.useId()},t.useImperativeHandle=function(e,t,n){return x.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.H.useMemo(e,t)},t.useOptimistic=function(e,t){return x.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return x.H.useReducer(e,t,n)},t.useRef=function(e){return x.H.useRef(e)},t.useState=function(e){return x.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.H.useTransition()},t.version="19.2.3"},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579(e,t,n){e.exports=n(799)},672(e,t,n){var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},799(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853(e,t,n){e.exports=n(896)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,k(e),!m)if(null!==r(c))m=!0,x||(x=!0,S());else{var t=r(u);null!==t&&A(w,t.startTime-e)}}var S,x=!1,C=-1,E=5,I=-1;function T(){return!!y||!(t.unstable_now()-I<E)}function N(){if(y=!1,x){var e=t.unstable_now();I=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(C),C=-1),p=!0;var s=f;try{t:{for(k(e),h=r(c);null!==h&&!(h.expirationTime>e&&T());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,k(e),n=!0;break t}h===r(c)&&i(c),k(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&A(w,l.startTime-e),n=!1}}break e}finally{h=null,f=s,p=!1}n=void 0}}finally{n?S():x=!1}}}if("function"===typeof _)S=function(){_(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=N,S=function(){R.postMessage(null)}}else S=function(){v(N,0)};function A(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(C),C=-1):g=!0,A(w,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,x||(x=!0,S()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".69eb5c60.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="shiden-game:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.p="/shiden/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,[o,a,l]=r,c=0;if(o.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkshiden_game=self.webpackChunkshiden_game||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function o(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function a(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u={};!function e(t,n,r,i){var s=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o="function"===typeof Path2D&&"function"===typeof DOMMatrix;function a(){}function l(e){var r=n.exports.Promise,i=void 0!==r?r:t.Promise;return"function"===typeof i?new i(e):(e(a,a),null)}var c,u=function(e,t){return{transform:function(n){if(e)return n;if(t.has(n))return t.get(n);var r=new OffscreenCanvas(n.width,n.height);return r.getContext("2d").drawImage(n,0,0),t.set(n,r),r},clear:function(){t.clear()}}}(function(){if(!t.OffscreenCanvas)return!1;try{var e=new OffscreenCanvas(1,1),n=e.getContext("2d");n.fillRect(0,0,1,1);var r=e.transferToImageBitmap();n.createPattern(r,"no-repeat")}catch(i){return!1}return!0}(),new Map),d=function(){var e,t,n=Math.floor(1e3/60),r={},i=0;return"function"===typeof requestAnimationFrame&&"function"===typeof cancelAnimationFrame?(e=function(e){var t=Math.random();return r[t]=requestAnimationFrame(function s(o){i===o||i+n-1<o?(i=o,delete r[t],e()):r[t]=requestAnimationFrame(s)}),t},t=function(e){r[e]&&cancelAnimationFrame(r[e])}):(e=function(e){return setTimeout(e,n)},t=function(e){return clearTimeout(e)}),{frame:e,cancel:t}}(),h=function(){var t,n,i={};return function(){if(t)return t;if(!r&&s){var o=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{t=new Worker(URL.createObjectURL(new Blob([o])))}catch(a){return"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn("\ud83c\udf8a Could not load worker",a),null}!function(e){function t(t,n){e.postMessage({options:t||{},callback:n})}e.init=function(t){var n=t.transferControlToOffscreen();e.postMessage({canvas:n},[n])},e.fire=function(r,s,o){if(n)return t(r,null),n;var a=Math.random().toString(36).slice(2);return n=l(function(s){function l(t){t.data.callback===a&&(delete i[a],e.removeEventListener("message",l),n=null,u.clear(),o(),s())}e.addEventListener("message",l),t(r,a),i[a]=l.bind(null,{data:{callback:a}})})},e.reset=function(){for(var t in e.postMessage({reset:!0}),i)i[t](),delete i[t]}}(t)}return t}}(),f={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function p(e,t,n){return function(e,t){return t?t(e):e}(e&&(null!==(r=e[t])&&void 0!==r)?e[t]:f[t],n);var r}function m(e){return e<0?0:Math.floor(e)}function g(e,t){return Math.floor(Math.random()*(t-e))+e}function y(e){return parseInt(e,16)}function v(e){return e.map(b)}function b(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:y(t.substring(0,2)),g:y(t.substring(2,4)),b:y(t.substring(4,6))}}function _(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function k(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function w(e){var t=e.angle*(Math.PI/180),n=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*n-Math.random()*n),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}function S(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var n=t.tick++/t.totalTicks,r=t.x+t.random*t.tiltCos,i=t.y+t.random*t.tiltSin,s=t.wobbleX+t.random*t.tiltCos,a=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-n)+")",e.beginPath(),o&&"path"===t.shape.type&&"string"===typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill(function(e,t,n,r,i,s,o){var a=new Path2D(e),l=new Path2D;l.addPath(a,new DOMMatrix(t));var c=new Path2D;return c.addPath(l,new DOMMatrix([Math.cos(o)*i,Math.sin(o)*i,-Math.sin(o)*s,Math.cos(o)*s,n,r])),c}(t.shape.path,t.shape.matrix,t.x,t.y,.1*Math.abs(s-r),.1*Math.abs(a-i),Math.PI/10*t.wobble));else if("bitmap"===t.shape.type){var l=Math.PI/10*t.wobble,c=.1*Math.abs(s-r),d=.1*Math.abs(a-i),h=t.shape.bitmap.width*t.scalar,f=t.shape.bitmap.height*t.scalar,p=new DOMMatrix([Math.cos(l)*c,Math.sin(l)*c,-Math.sin(l)*d,Math.cos(l)*d,t.x,t.y]);p.multiplySelf(new DOMMatrix(t.shape.matrix));var m=e.createPattern(u.transform(t.shape.bitmap),"no-repeat");m.setTransform(p),e.globalAlpha=1-n,e.fillStyle=m,e.fillRect(t.x-h/2,t.y-f/2,h,f),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(s-r)*t.ovalScalar,Math.abs(a-i)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,n,r,i,s,o,a,l){e.save(),e.translate(t,n),e.rotate(s),e.scale(r,i),e.arc(0,0,1,o,a,l),e.restore()}(e,t.x,t.y,Math.abs(s-r)*t.ovalScalar,Math.abs(a-i)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if("star"===t.shape)for(var g=Math.PI/2*3,y=4*t.scalar,v=8*t.scalar,b=t.x,_=t.y,k=5,w=Math.PI/k;k--;)b=t.x+Math.cos(g)*v,_=t.y+Math.sin(g)*v,e.lineTo(b,_),g+=w,b=t.x+Math.cos(g)*y,_=t.y+Math.sin(g)*y,e.lineTo(b,_),g+=w;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(i)),e.lineTo(Math.floor(s),Math.floor(a)),e.lineTo(Math.floor(r),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}function x(e,n){var o,a=!e,c=!!p(n||{},"resize"),f=!1,y=p(n,"disableForReducedMotion",Boolean),b=s&&!!p(n||{},"useWorker")?h():null,x=a?_:k,C=!(!e||!b)&&!!e.__confetti_initialized,E="function"===typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function I(t,n,s){for(var a=p(t,"particleCount",m),c=p(t,"angle",Number),h=p(t,"spread",Number),f=p(t,"startVelocity",Number),y=p(t,"decay",Number),b=p(t,"gravity",Number),_=p(t,"drift",Number),k=p(t,"colors",v),C=p(t,"ticks",Number),E=p(t,"shapes"),I=p(t,"scalar"),T=!!p(t,"flat"),N=function(e){var t=p(e,"origin",Object);return t.x=p(t,"x",Number),t.y=p(t,"y",Number),t}(t),P=a,R=[],A=e.width*N.x,O=e.height*N.y;P--;)R.push(w({x:A,y:O,angle:c,spread:h,startVelocity:f,color:k[P%k.length],shape:E[g(0,E.length)],ticks:C,decay:y,gravity:b,drift:_,scalar:I,flat:T}));return o?o.addFettis(R):(o=function(e,t,n,s,o){var a,c,h=t.slice(),f=e.getContext("2d"),p=l(function(t){function l(){a=c=null,f.clearRect(0,0,s.width,s.height),u.clear(),o(),t()}a=d.frame(function t(){!r||s.width===i.width&&s.height===i.height||(s.width=e.width=i.width,s.height=e.height=i.height),s.width||s.height||(n(e),s.width=e.width,s.height=e.height),f.clearRect(0,0,s.width,s.height),(h=h.filter(function(e){return S(f,e)})).length?a=d.frame(t):l()}),c=l});return{addFettis:function(e){return h=h.concat(e),p},canvas:e,promise:p,reset:function(){a&&d.cancel(a),c&&c()}}}(e,R,x,n,s),o.promise)}function T(n){var r=y||p(n,"disableForReducedMotion",Boolean),i=p(n,"zIndex",Number);if(r&&E)return l(function(e){e()});a&&o?e=o.canvas:a&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(i),document.body.appendChild(e)),c&&!C&&x(e);var s={width:e.width,height:e.height};function u(){if(b){var t={getBoundingClientRect:function(){if(!a)return e.getBoundingClientRect()}};return x(t),void b.postMessage({resize:{width:t.width,height:t.height}})}s.width=s.height=null}function d(){o=null,c&&(f=!1,t.removeEventListener("resize",u)),a&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,C=!1)}return b&&!C&&b.init(e),C=!0,b&&(e.__confetti_initialized=!0),c&&!f&&(f=!0,t.addEventListener("resize",u,!1)),b?b.fire(n,s,d):I(n,s,d)}return T.reset=function(){b&&b.reset(),o&&o.reset()},T}function C(){return c||(c=x(null,{useWorker:!0,resize:!0})),c}n.exports=function(){return C().apply(this,arguments)},n.exports.reset=function(){C().reset()},n.exports.create=x,n.exports.shapeFromPath=function(e){if(!o)throw new Error("path confetti are not supported in this browser");var t,n;"string"===typeof e?t=e:(t=e.path,n=e.matrix);var r=new Path2D(t),i=document.createElement("canvas").getContext("2d");if(!n){for(var s,a,l=1e3,c=l,u=l,d=0,h=0,f=0;f<l;f+=2)for(var p=0;p<l;p+=2)i.isPointInPath(r,f,p,"nonzero")&&(c=Math.min(c,f),u=Math.min(u,p),d=Math.max(d,f),h=Math.max(h,p));s=d-c,a=h-u;var m=Math.min(10/s,10/a);n=[m,0,0,m,-Math.round(s/2+c)*m,-Math.round(a/2+u)*m]}return{type:"path",path:t,matrix:n}},n.exports.shapeFromText=function(e){var t,n=1,r="#000000",i='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"===typeof e?t=e:(t=e.text,n="scalar"in e?e.scalar:n,i="fontFamily"in e?e.fontFamily:i,r="color"in e?e.color:r);var s=10*n,o=s+"px "+i,a=new OffscreenCanvas(s,s),l=a.getContext("2d");l.font=o;var c=l.measureText(t),u=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft),d=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent),h=c.actualBoundingBoxLeft+2,f=c.actualBoundingBoxAscent+2;u+=4,d+=4,(l=(a=new OffscreenCanvas(u,d)).getContext("2d")).font=o,l.fillStyle=r,l.fillText(t,h,f);var p=1/n;return{type:"bitmap",bitmap:a.transferToImageBitmap(),matrix:[p,0,0,p,-u*p/2,-d*p/2]}}}(function(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:this||{}}(),u,!1);const d=u.exports;u.exports.create;const h=!1,f=!1,p="${JSCORE_VERSION}",m=function(e,t){if(!e)throw g(t)},g=function(e){return new Error("Firebase Database ("+p+") INTERNAL ASSERT FAILED: "+e)},y=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(y(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new b;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class b extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _=function(e){const t=y(e);return v.encodeByteArray(t,!0)},k=function(e){return _(e).replace(/\./g,"")},w=function(e){try{return v.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function S(e){return x(void 0,e)}function x(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&C(n)&&(e[n]=x(e[n],t[n]));return e}function C(e){return"__proto__"!==e}const E=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,I=()=>{try{return E()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/shiden",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&w(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},T=e=>{var t;return null===(t=I())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},N=()=>{var e;return null===(e=I())||void 0===e?void 0:e.config},P=e=>{var t;return null===(t=I())||void 0===t?void 0:t["_".concat(e)]};class R{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function A(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function O(e){return(await fetch(e,{credentials:"include"})).ok}const L={};let D=!1;function M(e,t){if("undefined"===typeof window||"undefined"===typeof document||!A(window.location.host)||L[e]===t||L[e]||D)return;function n(e){return"__firebase__banner__".concat(e)}L[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(L))L[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{D=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function j(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function F(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(j())}function z(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function U(){return!0===h||!0===f}class B extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,B.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W.prototype.create)}}class W{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(H,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new B(n,s,t)}}const H=/\{\$([^}]+)}/g;function V(e){return JSON.parse(e)}function q(e){return JSON.stringify(e)}const K=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=V(w(s[0])||""),n=V(w(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}};function G(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Y(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function $(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Q(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function J(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(X(n)&&X(s)){if(!J(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function X(e){return null!==e&&"object"===typeof e}function Z(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ee(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function te(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ne{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class re{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ie),void 0===r.error&&(r.error=ie),void 0===r.complete&&(r.complete=ie);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ie(){}function se(e,t){return"".concat(e," failed: ").concat(t," argument ")}const oe=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function ae(e){return e&&e._delegate?e._delegate:e}class le{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ce="[DEFAULT]";class ue{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new R;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ce})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ce?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce;return this.component?this.component.multipleInstances?e:ce:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ue(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const he=[];var fe;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(fe||(fe={}));const pe={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},me=fe.INFO,ge={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},ye=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ge[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class ve{constructor(e){this.name=e,this._logLevel=me,this._logHandler=ye,this._userLogHandler=null,he.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?pe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...t),this._logHandler(this,fe.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...t),this._logHandler(this,fe.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fe.INFO,...t),this._logHandler(this,fe.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fe.WARN,...t),this._logHandler(this,fe.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...t),this._logHandler(this,fe.ERROR,...t)}}let be,_e;const ke=new WeakMap,we=new WeakMap,Se=new WeakMap,xe=new WeakMap,Ce=new WeakMap;let Ee={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return we.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Se.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ne(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ie(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Pe(this),n),Ne(ke.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ne(e.apply(Pe(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Pe(this),t,...r);return Se.set(s,t.sort?t.sort():[t]),Ne(s)}}function Te(e){return"function"===typeof e?Ie(e):(e instanceof IDBTransaction&&function(e){if(we.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});we.set(e,t)}(e),t=e,(be||(be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Ee):e);var t}function Ne(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Ne(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&ke.set(t,e)}).catch(()=>{}),Ce.set(t,e),t}(e);if(xe.has(e))return xe.get(e);const t=Te(e);return t!==e&&(xe.set(e,t),Ce.set(t,e)),t}const Pe=e=>Ce.get(e);const Re=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],Oe=new Map;function Le(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Oe.get(t))return Oe.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Re.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Oe.set(t,s),s}Ee=(e=>c(c({},e),{},{get:(t,n,r)=>Le(t,n)||e.get(t,n,r),has:(t,n)=>!!Le(t,n)||e.has(t,n)}))(Ee);class De{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Me="@firebase/app",je="0.14.7",Fe=new ve("@firebase/app"),ze="@firebase/app-compat",Ue="@firebase/analytics-compat",Be="@firebase/analytics",We="@firebase/app-check-compat",He="@firebase/app-check",Ve="@firebase/auth",qe="@firebase/auth-compat",Ke="@firebase/database",Ge="@firebase/data-connect",Ye="@firebase/database-compat",$e="@firebase/functions",Qe="@firebase/functions-compat",Je="@firebase/installations",Xe="@firebase/installations-compat",Ze="@firebase/messaging",et="@firebase/messaging-compat",tt="@firebase/performance",nt="@firebase/performance-compat",rt="@firebase/remote-config",it="@firebase/remote-config-compat",st="@firebase/storage",ot="@firebase/storage-compat",at="@firebase/firestore",lt="@firebase/ai",ct="@firebase/firestore-compat",ut="firebase",dt="[DEFAULT]",ht={[Me]:"fire-core",[ze]:"fire-core-compat",[Be]:"fire-analytics",[Ue]:"fire-analytics-compat",[He]:"fire-app-check",[We]:"fire-app-check-compat",[Ve]:"fire-auth",[qe]:"fire-auth-compat",[Ke]:"fire-rtdb",[Ge]:"fire-data-connect",[Ye]:"fire-rtdb-compat",[$e]:"fire-fn",[Qe]:"fire-fn-compat",[Je]:"fire-iid",[Xe]:"fire-iid-compat",[Ze]:"fire-fcm",[et]:"fire-fcm-compat",[tt]:"fire-perf",[nt]:"fire-perf-compat",[rt]:"fire-rc",[it]:"fire-rc-compat",[st]:"fire-gcs",[ot]:"fire-gcs-compat",[at]:"fire-fst",[ct]:"fire-fst-compat",[lt]:"fire-vertex","fire-js":"fire-js",[ut]:"fire-js-all"},ft=new Map,pt=new Map,mt=new Map;function gt(e,t){try{e.container.addComponent(t)}catch(n){Fe.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function yt(e){const t=e.name;if(mt.has(t))return Fe.debug("There were multiple attempts to register component ".concat(t,".")),!1;mt.set(t,e);for(const n of ft.values())gt(n,e);for(const n of pt.values())gt(n,e);return!0}function vt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function bt(e){return null!==e&&void 0!==e&&void 0!==e.settings}const _t=new W("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class kt{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new le("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _t.create("app-deleted",{appName:this._name})}}const wt="12.8.0";function St(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:dt,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw _t.create("bad-app-name",{appName:String(i)});if(n||(n=N()),!n)throw _t.create("no-options");const s=ft.get(i);if(s){if(J(n,s.options)&&J(r,s.config))return s;throw _t.create("duplicate-app",{appName:i})}const o=new de(i);for(const l of mt.values())o.addComponent(l);const a=new kt(n,r,o);return ft.set(i,a),a}function xt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt;const t=ft.get(e);if(!t&&e===dt&&N())return St();if(!t)throw _t.create("no-app",{appName:e});return t}function Ct(e,t,n){var r;let i=null!==(r=ht[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Fe.warn(e.join(" "))}yt(new le("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Et="firebase-heartbeat-store";let It=null;function Tt(){return It||(It=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Ne(o);return r&&o.addEventListener("upgradeneeded",e=>{r(Ne(o.result),e.oldVersion,e.newVersion,Ne(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Et)}catch(n){console.warn(n)}}}).catch(e=>{throw _t.create("idb-open",{originalErrorMessage:e.message})})),It}async function Nt(e,t){try{const n=(await Tt()).transaction(Et,"readwrite"),r=n.objectStore(Et);await r.put(t,Pt(e)),await n.done}catch(n){if(n instanceof B)Fe.warn(n.message);else{const e=_t.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Fe.warn(e.message)}}}function Pt(e){return"".concat(e.name,"!").concat(e.options.appId)}class Rt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ot(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=At();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Fe.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=At(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Lt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Lt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=k(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Fe.warn(t),""}}}function At(){return(new Date).toISOString().substring(0,10)}class Ot{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(en){t(en)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Tt()).transaction(Et),n=await t.objectStore(Et).get(Pt(e));return await t.done,n}catch(t){if(t instanceof B)Fe.warn(t.message);else{const e=_t.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Fe.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Nt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Nt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Lt(e){return k(JSON.stringify({version:2,heartbeats:e})).length}var Dt;Dt="",yt(new le("platform-logger",e=>new De(e),"PRIVATE")),yt(new le("heartbeat",e=>new Rt(e),"PRIVATE")),Ct(Me,je,Dt),Ct(Me,je,"esm2020"),Ct("fire-js","");const Mt="@firebase/database",jt="1.1.0";let Ft="";function zt(e){Ft=e}class Ut{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),q(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:V(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Bt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return G(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Wt=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ut(t)}}catch(t){}return new Bt},Ht=Wt("localStorage"),Vt=Wt("sessionStorage"),qt=new ve("@firebase/database"),Kt=function(){let e=1;return function(){return e++}}(),Gt=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,m(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new ne;n.update(t);const r=n.digest();return v.encodeByteArray(r)},Yt=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Yt.apply(null,n):e+="object"===typeof n?q(n):n,e+=" "}return e};let $t=null,Qt=!0;const Jt=function(e,t){m(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(qt.logLevel=fe.VERBOSE,$t=qt.log.bind(qt),t&&Vt.set("logging_enabled",!0)):"function"===typeof e?$t=e:($t=null,Vt.remove("logging_enabled"))},Xt=function(){if(!0===Qt&&(Qt=!1,null===$t&&!0===Vt.get("logging_enabled")&&Jt(!0)),$t){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Yt.apply(null,t);$t(r)}},Zt=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Xt(e,...n)}},en=function(){const e="FIREBASE INTERNAL ERROR: "+Yt(...arguments);qt.error(e)},tn=function(){const e="FIREBASE FATAL ERROR: ".concat(Yt(...arguments));throw qt.error(e),new Error(e)},nn=function(){const e="FIREBASE WARNING: "+Yt(...arguments);qt.warn(e)},rn=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},sn="[MIN_NAME]",on="[MAX_NAME]",an=function(e,t){if(e===t)return 0;if(e===sn||t===on)return-1;if(t===sn||e===on)return 1;{const n=mn(e),r=mn(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},ln=function(e,t){return e===t?0:e<t?-1:1},cn=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+q(t))},un=function(e){if("object"!==typeof e||null===e)return q(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=q(t[r]),n+=":",n+=un(e[t[r]]);return n+="}",n},dn=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function hn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const fn=function(e){m(!rn(e),"Invalid JSON number");const t=1023;let n,r,i,s,o;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(l.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const pn=new RegExp("^-?(0*)\\d{1,10}$"),mn=function(e){if(pn.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},gn=function(e){try{e()}catch(t){setTimeout(()=>{const e=t.stack||"";throw nn("Exception was thrown by user callback.",e),t},Math.floor(0))}},yn=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class vn{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,bt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){nn('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class bn{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(Xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nn(e)}}class _n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}_n.OWNER="owner";const kn="5",wn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Sn="ac",xn="websocket",Cn="long_polling";class En{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ht.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ht.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function In(e,t,n){let r;if(m("string"===typeof t,"typeof type must == string"),m("object"===typeof n,"typeof params must == object"),t===xn)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Cn)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return hn(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class Tn{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;G(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return S(this.counters_)}}const Nn={},Pn={};function Rn(e){const t=e.toString();return Nn[t]||(Nn[t]=new Tn),Nn[t]}class An{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&gn(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const On="start";class Ln{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zt(e),this.stats_=Rn(t),this.urlFn=e=>(this.appCheckToken&&(e[Sn]=this.appCheckToken),In(t,Cn,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new An(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(U()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Dn(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,o,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===On)n.id=s,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)},()=>{this.onClosed_()},this.urlFn);const e={};e[On]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=kn,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Sn]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&wn.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ln.forceAllow_=!0}static forceDisallow(){Ln.forceDisallow_=!0}static isAvailable(){return!U()&&(!!Ln.forceAllow_||!Ln.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=q(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=_(t),r=dn(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(U())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=q(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Dn{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,U())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Kt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Dn.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){Xt("frame writing exception"),i.stack&&Xt(i.stack),Xt(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Xt("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){U()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Xt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let Mn=null;"undefined"!==typeof MozWebSocket?Mn=MozWebSocket:"undefined"!==typeof WebSocket&&(Mn=WebSocket);class jn{constructor(e,t,n,r,i,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zt(this.connId),this.stats_=Rn(t),this.connURL=jn.connectionURL_(t,s,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=kn,!U()&&"undefined"!==typeof location&&location.hostname&&wn.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[Sn]=r),i&&(s.p=i),In(e,xn,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ht.set("previous_websocket_failure",!0);try{let e;if(U()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(kn,"/").concat(Ft,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/shiden",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Mn(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){jn.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Mn&&!jn.forceDisallow_}static previouslyFailed(){return Ht.isInMemoryStorage||!0===Ht.get("previous_websocket_failure")}markConnectionHealthy(){Ht.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=V(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(m(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=q(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=dn(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}jn.responsesRequiredToBeHealthy=2,jn.healthyTimeout=3e4;class Fn{static get ALL_TRANSPORTS(){return[Ln,jn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=jn&&jn.isAvailable();let n=t&&!jn.previouslyFailed();if(e.webSocketOnly&&(t||nn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[jn];else{const e=this.transports_=[];for(const t of Fn.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Fn.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Fn.globalTransportInitialized_=!1;class zn{constructor(e,t,n,r,i,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zt("c:"+this.id+":"),this.transportManager_=new Fn(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=yn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=cn("t",e),n=cn("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=cn("t",e),n=cn("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=cn("t",e);if("d"in e){const n=e.d;if("h"===t){const e=c({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?en("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):en("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),kn!==n&&nn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),yn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ht.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Un{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Bn{constructor(e){this.allowedEvents_=e,this.listeners_={},m(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){m(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Wn extends Bn{static getInstance(){return new Wn}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||F()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return m("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Hn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Vn(){return new Hn("")}function qn(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Kn(e){return e.pieces_.length-e.pieceNum_}function Gn(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Hn(e.pieces_,t)}function Yn(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function $n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Qn(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Hn(t,0)}function Jn(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Hn)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Hn(n,0)}function Xn(e){return e.pieceNum_>=e.pieces_.length}function Zn(e,t){const n=qn(e),r=qn(t);if(null===n)return t;if(n===r)return Zn(Gn(e),Gn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function er(e,t){const n=$n(e,0),r=$n(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=an(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function tr(e,t){if(Kn(e)!==Kn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function nr(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Kn(e)>Kn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class rr{constructor(e,t){this.errorPrefix_=t,this.parts_=$n(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=oe(this.parts_[n]);ir(this)}}function ir(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+sr(e))}function sr(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class or extends Bn{static getInstance(){return new or}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return m("visible"===e,"Unknown event type: "+e),[this.visible_]}}const ar=1e3;class lr extends Un{constructor(e,t,n,r,i,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=lr.nextPersistentConnectionId_++,this.log_=Zt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ar,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!U())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");or.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Wn.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(q(i)),m(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new R,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),m(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),m(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{const s=i.d,o=i.s;lr.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,s))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&G(e,"w")){const n=Y(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();nn("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=K(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=K(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),m(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+q(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):en("Unrecognized action received from server: "+q(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){m(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ar,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ar,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ar),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+lr.nextConnectionId_++,i=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},l=function(e){m(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?Xt("getToken() completed but was canceled"):(Xt("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new zn(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{nn(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(en){this.log_("Failed to get token: "+en),s||(this.repoInfo_.nodeAdmin&&nn(en),a())}}}interrupt(e){Xt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],$(this.interruptReasons_)&&(this.reconnectDelay_=ar,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>un(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Hn(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Xt("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Xt("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";U()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ft.replace(/\./g,"-")]=1,F()?e["framework.cordova"]=1:z()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Wn.getInstance().currentlyOnline();return $(this.interruptReasons_)&&e}}lr.nextPersistentConnectionId_=0,lr.nextConnectionId_=0;class cr{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new cr(e,t)}}class ur{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new cr(sn,e),r=new cr(sn,t);return 0!==this.compare(n,r)}minPost(){return cr.MIN}}let dr;class hr extends ur{static get __EMPTY_NODE(){return dr}static set __EMPTY_NODE(e){dr=e}compare(e,t){return an(e.name,t.name)}isDefinedOn(e){throw g("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return cr.MIN}maxPost(){return new cr(on,dr)}makePost(e,t){return m("string"===typeof e,"KeyIndex indexValue must always be a string."),new cr(e,dr)}toString(){return".key"}}const fr=new hr;class pr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class mr{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:mr.RED,this.left=null!=r?r:gr.EMPTY_NODE,this.right=null!=i?i:gr.EMPTY_NODE}copy(e,t,n,r,i){return new mr(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return gr.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return gr.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}mr.RED=!0,mr.BLACK=!1;class gr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gr.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new gr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,mr.BLACK,null,null))}remove(e){return new gr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,mr.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new pr(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new pr(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new pr(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new pr(this.root_,null,this.comparator_,!0,e)}}function yr(e,t){return an(e.name,t.name)}function vr(e,t){return an(e,t)}let br;gr.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new mr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const _r=function(e){return"number"===typeof e?"number:"+fn(e):"string:"+e},kr=function(e){if(e.isLeafNode()){const t=e.val();m("string"===typeof t||"number"===typeof t||"object"===typeof t&&G(t,".sv"),"Priority must be a string or number.")}else m(e===br||e.isEmpty(),"priority of unexpected type.");m(e===br||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let wr,Sr,xr;class Cr{static set __childrenNodeConstructor(e){wr=e}static get __childrenNodeConstructor(){return wr}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cr.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,m(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),kr(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Cr(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Cr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Xn(e)?this:".priority"===qn(e)?this.priorityNode_:Cr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Cr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=qn(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(m(".priority"!==n||1===Kn(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Cr.__childrenNodeConstructor.EMPTY_NODE.updateChild(Gn(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_r(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?fn(this.value_):this.value_,this.lazyHash_=Gt(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Cr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Cr.__childrenNodeConstructor?-1:(m(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Cr.VALUE_TYPE_ORDER.indexOf(t),i=Cr.VALUE_TYPE_ORDER.indexOf(n);return m(r>=0,"Unknown leaf type: "+t),m(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Cr.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Er=new class extends ur{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?an(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return cr.MIN}maxPost(){return new cr(on,new Cr("[PRIORITY-POST]",xr))}makePost(e,t){const n=Sr(e);return new cr(t,new Cr("[PRIORITY-POST]",n))}toString(){return".priority"}},Ir=Math.log(2);class Tr{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Ir,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Nr=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new mr(a,o.node,mr.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return o=e[l],a=n?n(o):o,new mr(a,o.node,mr.BLACK,c,u)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const c=i(s+1,a),u=e[s],d=n?n(u):u;l(new mr(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,mr.BLACK):(a(r,mr.BLACK),a(r,mr.RED))}return s}(new Tr(e.length));return new gr(r||t,s)};let Pr;const Rr={};class Ar{static get Default(){return m(Rr&&Er,"ChildrenNode.ts has not been loaded"),Pr=Pr||new Ar({".priority":Rr},{".priority":Er}),Pr}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Y(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof gr?t:null}hasIndex(e){return G(this.indexSet_,e.toString())}addIndex(e,t){m(e!==fr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(cr.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?Nr(n,e.getCompare()):Rr;const a=e.toString(),l=c({},this.indexSet_);l[a]=e;const u=c({},this.indexes_);return u[a]=s,new Ar(u,l)}addToIndexes(e,t){const n=Q(this.indexes_,(n,r)=>{const i=Y(this.indexSet_,r);if(m(i,"Missing index implementation for "+r),n===Rr){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(cr.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),Nr(n,i.getCompare())}return Rr}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new cr(e.name,r))),i.insert(e,e.node)}});return new Ar(n,this.indexSet_)}removeFromIndexes(e,t){const n=Q(this.indexes_,n=>{if(n===Rr)return n;{const r=t.get(e.name);return r?n.remove(new cr(e.name,r)):n}});return new Ar(n,this.indexSet_)}}let Or;class Lr{static get EMPTY_NODE(){return Or||(Or=new Lr(new gr(vr),null,Ar.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&kr(this.priorityNode_),this.children_.isEmpty()&&m(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Or}updatePriority(e){return this.children_.isEmpty()?this:new Lr(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Or:t}}getChild(e){const t=qn(e);return null===t?this:this.getImmediateChild(t).getChild(Gn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(m(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new cr(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?Or:this.priorityNode_;return new Lr(r,s,i)}}updateChild(e,t){const n=qn(e);if(null===n)return t;{m(".priority"!==qn(e)||1===Kn(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Gn(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Er,(s,o)=>{t[s]=o.val(e),n++,i&&Lr.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1}),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+_r(this.getPriority().val())+":"),this.forEachChild(Er,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":Gt(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new cr(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new cr(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new cr(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,cr.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,cr.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Dr?-1:0}withIndex(e){if(e===fr||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Lr(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===fr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Er),n=t.getIterator(Er);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===fr?null:this.indexMap_.get(e.toString())}}Lr.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Dr=new class extends Lr{constructor(){super(new gr(vr),Lr.EMPTY_NODE,Ar.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Lr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(cr,{MIN:{value:new cr(sn,Lr.EMPTY_NODE)},MAX:{value:new cr(on,Dr)}}),hr.__EMPTY_NODE=Lr.EMPTY_NODE,Cr.__childrenNodeConstructor=Lr,br=Dr,function(e){xr=e}(Dr);function Mr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Lr.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),m(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Cr(e,Mr(t))}if(e instanceof Array){let n=Lr.EMPTY_NODE;return hn(e,(t,r)=>{if(G(e,t)&&"."!==t.substring(0,1)){const e=Mr(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(Mr(t))}{const n=[];let r=!1;if(hn(e,(e,t)=>{if("."!==e.substring(0,1)){const i=Mr(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new cr(e,i)))}}),0===n.length)return Lr.EMPTY_NODE;const i=Nr(n,yr,e=>e.name,vr);if(r){const e=Nr(n,Er.getCompare());return new Lr(i,Mr(t),new Ar({".priority":e},{".priority":Er}))}return new Lr(i,Mr(t),Ar.Default)}}!function(e){Sr=e}(Mr);class jr extends ur{constructor(e){super(),this.indexPath_=e,m(!Xn(e)&&".priority"!==qn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?an(e.name,t.name):i}makePost(e,t){const n=Mr(e),r=Lr.EMPTY_NODE.updateChild(this.indexPath_,n);return new cr(t,r)}maxPost(){const e=Lr.EMPTY_NODE.updateChild(this.indexPath_,Dr);return new cr(on,e)}toString(){return $n(this.indexPath_,0).join("/")}}const Fr=new class extends ur{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?an(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return cr.MIN}maxPost(){return cr.MAX}makePost(e,t){const n=Mr(e);return new cr(t,n)}toString(){return".value"}};function zr(e){return{type:"value",snapshotNode:e}}function Ur(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Br(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Wr(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Hr{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){m(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(Br(t,o)):m(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(Ur(t,n)):s.trackChildChange(Wr(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Er,(e,r)=>{t.hasChild(e)||n.trackChildChange(Br(e,r))}),t.isLeafNode()||t.forEachChild(Er,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Wr(t,r,i))}else n.trackChildChange(Ur(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Lr.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Vr{constructor(e){this.indexedFilter_=new Hr(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Vr.getStartPost_(e),this.endPost_=Vr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,s){return this.matches(new cr(t,n))||(n=Lr.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Lr.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Lr.EMPTY_NODE);const i=this;return t.forEachChild(Er,(e,t)=>{i.matches(new cr(e,t))||(r=r.updateImmediateChild(e,Lr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class qr{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Vr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new cr(t,n))||(n=Lr.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Lr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Lr.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Lr.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Lr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const o=e;m(o.numChildren()===this.limit_,"");const a=new cr(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||o.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:s(u,a);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Wr(t,n,e)),o.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Br(t,e));const n=o.updateImmediateChild(t,Lr.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(Ur(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&s(l,a)>=0?(null!=i&&(i.trackChildChange(Br(l.name,l.node)),i.trackChildChange(Ur(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,Lr.EMPTY_NODE)):e}}class Kr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Er}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return m(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return m(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sn}hasEnd(){return this.endSet_}getIndexEndValue(){return m(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return m(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:on}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return m(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Er}copy(){const e=new Kr;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Gr(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Er?n="$priority":e.index_===Fr?n="$value":e.index_===fr?n="$key":(m(e.index_ instanceof jr,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=q(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=q(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+q(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=q(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+q(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Yr(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Er&&(t.i=e.index_.toString()),t}class $r extends Un{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(m(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Zt("p:rest:"),this.listens_={}}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=$r.getListenId_(e,n),o={};this.listens_[s]=o;const a=Gr(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),Y(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=$r.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Gr(e._queryParams),n=e._path.toString(),r=new R;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Z(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=V(a.responseText)}catch(e){nn("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&nn("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()})}}class Qr{constructor(){this.rootNode_=Lr.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Jr(){return{value:null,children:new Map}}function Xr(e,t,n){if(Xn(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=qn(t);e.children.has(r)||e.children.set(r,Jr());Xr(e.children.get(r),t=Gn(t),n)}}function Zr(e,t){if(Xn(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Er,(t,n)=>{Xr(e,new Hn(t),n)}),Zr(e,t)}}if(e.children.size>0){const n=qn(t);if(t=Gn(t),e.children.has(n)){Zr(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function ei(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{ei(r,new Hn(t.toString()+"/"+e),n)})}class ti{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=c({},e);return this.last_&&hn(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class ni{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new ti(e);const n=1e4+2e4*Math.random();yn(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;hn(e,(e,r)=>{r>0&&G(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),yn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ri;function ii(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ri||(ri={}));class si{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ri.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Xn(this.path)){if(null!=this.affectedTree.value)return m(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Hn(e));return new si(Vn(),t,this.revert)}}return m(qn(this.path)===e,"operationForChild called for unrelated child."),new si(Gn(this.path),this.affectedTree,this.revert)}}class oi{constructor(e,t){this.source=e,this.path=t,this.type=ri.LISTEN_COMPLETE}operationForChild(e){return Xn(this.path)?new oi(this.source,Vn()):new oi(this.source,Gn(this.path))}}class ai{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ri.OVERWRITE}operationForChild(e){return Xn(this.path)?new ai(this.source,Vn(),this.snap.getImmediateChild(e)):new ai(this.source,Gn(this.path),this.snap)}}class li{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ri.MERGE}operationForChild(e){if(Xn(this.path)){const t=this.children.subtree(new Hn(e));return t.isEmpty()?null:t.value?new ai(this.source,Vn(),t.value):new li(this.source,Vn(),t)}return m(qn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new li(this.source,Gn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ci{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Xn(e))return this.isFullyInitialized()&&!this.filtered_;const t=qn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class ui{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function di(e,t,n,r,i,s){const o=r.filter(e=>e.type===n);o.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw g("Should only compare child_ events.");const r=new cr(t.childName,t.snapshotNode),i=new cr(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),o.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function hi(e,t){return{eventCache:e,serverCache:t}}function fi(e,t,n,r){return hi(new ci(t,n,r),e.serverCache)}function pi(e,t,n,r){return hi(e.eventCache,new ci(t,n,r))}function mi(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function gi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let yi;class vi{static fromObject(e){let t=new vi(null);return hn(e,(e,n)=>{t=t.set(new Hn(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(yi||(yi=new gr(ln)),yi);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Vn(),value:this.value};if(Xn(e))return null;{const n=qn(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Gn(e),t);if(null!=i){return{path:Jn(new Hn(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Xn(e))return this;{const t=qn(e),n=this.children.get(t);return null!==n?n.subtree(Gn(e)):new vi(null)}}set(e,t){if(Xn(e))return new vi(t,this.children);{const n=qn(e),r=(this.children.get(n)||new vi(null)).set(Gn(e),t),i=this.children.insert(n,r);return new vi(this.value,i)}}remove(e){if(Xn(e))return this.children.isEmpty()?new vi(null):new vi(null,this.children);{const t=qn(e),n=this.children.get(t);if(n){const r=n.remove(Gn(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new vi(null):new vi(this.value,i)}return this}}get(e){if(Xn(e))return this.value;{const t=qn(e),n=this.children.get(t);return n?n.get(Gn(e)):null}}setTree(e,t){if(Xn(e))return t;{const n=qn(e),r=(this.children.get(n)||new vi(null)).setTree(Gn(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new vi(this.value,i)}}fold(e){return this.fold_(Vn(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(Jn(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Vn(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Xn(e))return null;{const r=qn(e),i=this.children.get(r);return i?i.findOnPath_(Gn(e),Jn(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Vn(),t)}foreachOnPath_(e,t,n){if(Xn(e))return this;{this.value&&n(t,this.value);const r=qn(e),i=this.children.get(r);return i?i.foreachOnPath_(Gn(e),Jn(t,r),n):new vi(null)}}foreach(e){this.foreach_(Vn(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(Jn(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class bi{constructor(e){this.writeTree_=e}static empty(){return new bi(new vi(null))}}function _i(e,t,n){if(Xn(t))return new bi(new vi(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=Zn(i,t);return s=s.updateChild(o,n),new bi(e.writeTree_.set(i,s))}{const r=new vi(n),i=e.writeTree_.setTree(t,r);return new bi(i)}}}function ki(e,t,n){let r=e;return hn(n,(e,n)=>{r=_i(r,Jn(t,e),n)}),r}function wi(e,t){if(Xn(t))return bi.empty();{const n=e.writeTree_.setTree(t,new vi(null));return new bi(n)}}function Si(e,t){return null!=xi(e,t)}function xi(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Zn(n.path,t)):null}function Ci(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Er,(e,n)=>{t.push(new cr(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new cr(e,n.value))}),t}function Ei(e,t){if(Xn(t))return e;{const n=xi(e,t);return new bi(null!=n?new vi(n):e.writeTree_.subtree(t))}}function Ii(e){return e.writeTree_.isEmpty()}function Ti(e,t){return Ni(Vn(),e.writeTree_,t)}function Ni(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?(m(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ni(Jn(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Jn(e,".priority"),r)),n}}function Pi(e,t){return Hi(t,e)}function Ri(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);m(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&Ai(t,r.path)?i=!1:nr(r.path,t.path)&&(s=!0)),o--}if(i){if(s)return function(e){e.visibleWrites=Li(e.allWrites,Oi,Vn()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=wi(e.visibleWrites,r.path);else{hn(r.children,t=>{e.visibleWrites=wi(e.visibleWrites,Jn(r.path,t))})}return!0}return!1}function Ai(e,t){if(e.snap)return nr(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&nr(Jn(e.path,n),t))return!0;return!1}function Oi(e){return e.visible}function Li(e,t,n){let r=bi.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)nr(n,e)?(t=Zn(n,e),r=_i(r,t,s.snap)):nr(e,n)&&(t=Zn(e,n),r=_i(r,Vn(),s.snap.getChild(t)));else{if(!s.children)throw g("WriteRecord should have .snap or .children");if(nr(n,e))t=Zn(n,e),r=ki(r,t,s.children);else if(nr(e,n))if(t=Zn(e,n),Xn(t))r=ki(r,Vn(),s.children);else{const e=Y(s.children,qn(t));if(e){const n=e.getChild(Gn(t));r=_i(r,Vn(),n)}}}}}return r}function Di(e,t,n,r,i){if(r||i){const s=Ei(e.visibleWrites,t);if(!i&&Ii(s))return n;if(i||null!=n||Si(s,Vn())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(nr(e.path,t)||nr(t,e.path))};return Ti(Li(e.allWrites,s,t),n||Lr.EMPTY_NODE)}return null}{const r=xi(e.visibleWrites,t);if(null!=r)return r;{const r=Ei(e.visibleWrites,t);if(Ii(r))return n;if(null!=n||Si(r,Vn())){return Ti(r,n||Lr.EMPTY_NODE)}return null}}}function Mi(e,t,n,r){return Di(e.writeTree,e.treePath,t,n,r)}function ji(e,t){return function(e,t,n){let r=Lr.EMPTY_NODE;const i=xi(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Er,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=Ei(e.visibleWrites,t);return n.forEachChild(Er,(e,t)=>{const n=Ti(Ei(i,new Hn(e)),t);r=r.updateImmediateChild(e,n)}),Ci(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return Ci(Ei(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function Fi(e,t,n,r){return function(e,t,n,r,i){m(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Jn(t,n);if(Si(e.visibleWrites,s))return null;{const t=Ei(e.visibleWrites,s);return Ii(t)?i.getChild(n):Ti(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function zi(e,t){return function(e,t){return xi(e.visibleWrites,t)}(e.writeTree,Jn(e.treePath,t))}function Ui(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const l=Ei(e.visibleWrites,t),c=xi(l,Vn());if(null!=c)a=c;else{if(null==n)return[];a=Ti(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function Bi(e,t,n){return function(e,t,n,r){const i=Jn(t,n),s=xi(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return Ti(Ei(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Wi(e,t){return Hi(Jn(e.treePath,t),e.writeTree)}function Hi(e,t){return{treePath:e,writeTree:t}}class Vi{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;m("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),m(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Wr(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Br(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Ur(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw g("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Wr(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const qi=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Ki{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new ci(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bi(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:gi(this.viewCache_),i=Ui(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Gi(e,t,n,r,i){const s=new Vi;let o,a;if(n.type===ri.OVERWRITE){const l=n;l.source.fromUser?o=Qi(e,t,l.path,l.snap,r,i,s):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Xn(l.path),o=$i(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===ri.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach((r,l)=>{const c=Jn(n,r);Ji(t,qn(c))&&(a=Qi(e,a,c,l,i,s,o))}),r.foreach((r,l)=>{const c=Jn(n,r);Ji(t,qn(c))||(a=Qi(e,a,c,l,i,s,o))}),a}(e,t,l.path,l.children,r,i,s):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=Zi(e,t,l.path,l.children,r,i,a,s))}else if(n.type===ri.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=zi(r,n))return t;{const a=new Ki(r,t,i),l=t.eventCache.getNode();let c;if(Xn(n)||".priority"===qn(n)){let n;if(t.serverCache.isFullyInitialized())n=Mi(r,gi(t));else{const e=t.serverCache.getNode();m(e instanceof Lr,"serverChildren would be complete if leaf node"),n=ji(r,e)}c=e.filter.updateFullNode(l,n,s)}else{const i=qn(n);let u=Bi(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,Gn(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Lr.EMPTY_NODE,Gn(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Mi(r,gi(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=zi(r,Vn()),fi(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=zi(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Xn(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return $i(e,t,n,l.getNode().getChild(n),i,s,a,o);if(Xn(n)){let r=new vi(null);return l.getNode().forEachChild(fr,(e,t)=>{r=r.set(new Hn(e),t)}),Zi(e,t,n,r,i,s,a,o)}return t}{let c=new vi(null);return r.foreach((e,t)=>{const r=Jn(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),Zi(e,t,n,c,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==ri.LISTEN_COMPLETE)throw g("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache,o=pi(t,s.getNode(),s.isFullyInitialized()||Xn(n),s.isFiltered());return Yi(e,o,n,r,qi,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=mi(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(zr(mi(t)))}}(t,o,l),{viewCache:o,changes:l}}function Yi(e,t,n,r,i,s){const o=t.eventCache;if(null!=zi(r,n))return t;{let a,l;if(Xn(n))if(m(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=gi(t),i=ji(r,n instanceof Lr?n:Lr.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=Mi(r,gi(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=qn(n);if(".priority"===c){m(1===Kn(n),"Can't have a priority with additional path components");const i=o.getNode();l=t.serverCache.getNode();const s=Fi(r,n,i,l);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const u=Gn(n);let d;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Fi(r,n,o.getNode(),l);d=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else d=Bi(r,c,t.serverCache);a=null!=d?e.filter.updateChild(o.getNode(),c,d,u,i,s):o.getNode()}}return fi(t,a,o.isFullyInitialized()||Xn(n),e.filter.filtersNodes())}}function $i(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(Xn(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=qn(n);if(!l.isCompleteForPath(n)&&Kn(n)>1)return t;const i=Gn(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,qi,null)}const d=pi(t,c,l.isFullyInitialized()||Xn(n),u.filtersNodes());return Yi(e,d,n,i,new Ki(i,d,s),a)}function Qi(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const u=new Ki(i,t,s);if(Xn(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=fi(t,c,!0,e.filter.filtersNodes());else{const i=qn(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=fi(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=Gn(n),c=a.getNode().getImmediateChild(i);let d;if(Xn(s))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===Yn(s)&&e.getChild(Qn(s)).isEmpty()?e:e.updateChild(s,r):Lr.EMPTY_NODE}if(c.equals(d))l=t;else{l=fi(t,e.filter.updateChild(a.getNode(),i,d,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Ji(e,t){return e.eventCache.isCompleteForChild(t)}function Xi(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function Zi(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Xn(n)?r:new vi(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=Xi(0,t.serverCache.getNode().getImmediateChild(n),r);c=$i(e,c,new Hn(n),l,i,s,o,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Xi(0,t.serverCache.getNode().getImmediateChild(n),r);c=$i(e,c,new Hn(n),l,i,s,o,a)}}),c}class es{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Hr(n.getIndex()),i=(s=n).loadsAllData()?new Hr(s.getIndex()):s.hasLimit()?new qr(s):new Vr(s);var s;this.processor_=function(e){return{filter:e}}(i);const o=t.serverCache,a=t.eventCache,l=r.updateFullNode(Lr.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(Lr.EMPTY_NODE,a.getNode(),null),u=new ci(l,o.isFullyInitialized(),r.filtersNodes()),d=new ci(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=hi(d,u),this.eventGenerator_=new ui(this.query_)}get query(){return this.query_}}function ts(e,t){const n=gi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Xn(t)&&!n.getImmediateChild(qn(t)).isEmpty())?n.getChild(t):null}function ns(e){return 0===e.eventRegistrations_.length}function rs(e,t,n){const r=[];if(n){m(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function is(e,t,n,r){t.type===ri.MERGE&&null!==t.source.queryId&&(m(gi(e.viewCache_),"We should always have a full cache before handling merges"),m(mi(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=Gi(e.processor_,i,t,n,r);var o,a;return o=e.processor_,a=s.viewCache,m(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),m(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),m(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,ss(e,s.changes,s.viewCache.eventCache.getNode(),null)}function ss(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),di(e,i,"child_removed",t,r,n),di(e,i,"child_added",t,r,n),di(e,i,"child_moved",s,r,n),di(e,i,"child_changed",t,r,n),di(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let os,as;class ls{constructor(){this.views=new Map}}function cs(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return m(null!=s,"SyncTree gave us an op for an invalid query."),is(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(is(s,t,n,r));return i}}function us(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let e=Mi(n,i?r:null),s=!1;e?s=!0:r instanceof Lr?(e=ji(n,r),s=!1):(e=Lr.EMPTY_NODE,s=!1);const o=hi(new ci(e,s,!1),new ci(r,i,!1));return new es(t,o)}return o}function ds(e,t,n,r,i,s){const o=us(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Er,(e,t)=>{r.push(Ur(e,t))});return n.isFullyInitialized()&&r.push(zr(n.getNode())),ss(e,r,n.getNode(),t)}(o,n)}function hs(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=ys(e);if("default"===i)for(const[l,c]of e.views.entries())o=o.concat(rs(c,n,r)),ns(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(i);t&&(o=o.concat(rs(t,n,r)),ns(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!ys(e)&&s.push(new(m(os,"Reference.ts has not been loaded"),os)(t._repo,t._path)),{removed:s,events:o}}function fs(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ps(e,t){let n=null;for(const r of e.views.values())n=n||ts(r,t);return n}function ms(e,t){if(t._queryParams.loadsAllData())return vs(e);{const n=t._queryIdentifier;return e.views.get(n)}}function gs(e,t){return null!=ms(e,t)}function ys(e){return null!=vs(e)}function vs(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let bs=1;class _s{constructor(e){this.listenProvider_=e,this.syncPointTree_=new vi(null),this.pendingWriteTree_={visibleWrites:bi.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ks(e,t,n,r,i){return function(e,t,n,r,i){m(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=_i(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Ts(e,new ai({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ws(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Ri(e.pendingWriteTree_,t)){let t=new vi(null);return null!=r.snap?t=t.set(Vn(),!0):hn(r.children,e=>{t=t.set(new Hn(e),!0)}),Ts(e,new si(r.path,t,n))}return[]}function Ss(e,t,n){return Ts(e,new ai({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function xs(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&("default"===t._queryIdentifier||gs(o,t))){const l=hs(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(s,(e,t)=>ys(t));if(n&&!i){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&ys(t)){return[vs(t)]}{let e=[];return t&&(e=fs(t)),hn(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=Rs(e,r);e.listenProvider_.startListening(js(i),As(e,i),s.hashFn,s.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(js(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(Os(t));e.listenProvider_.stopListening(js(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Os(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function Cs(e,t,n,r){const i=Ls(e,r);if(null!=i){const r=Ds(i),s=r.path,o=r.queryId,a=Zn(s,t);return Ms(e,s,new ai(ii(o),a,n))}return[]}function Es(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(e,t)=>{const n=Zn(e,i);s=s||ps(t,n),o=o||ys(t)});let a,l=e.syncPointTree_.get(i);if(l?(o=o||ys(l),s=s||ps(l,Vn())):(l=new ls,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=s)a=!0;else{a=!1,s=Lr.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild((e,t)=>{const n=ps(t,Vn());n&&(s=s.updateImmediateChild(e,n))})}const c=gs(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Os(t);m(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=bs++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=ds(l,t,n,Pi(e.pendingWriteTree_,i),s,a);if(!c&&!o&&!r){const n=ms(l,t);u=u.concat(function(e,t,n){const r=t._path,i=As(e,t),s=Rs(e,n),o=e.listenProvider_.startListening(js(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)m(!ys(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!Xn(e)&&t&&ys(t))return[vs(t).query];{let e=[];return t&&(e=e.concat(fs(t).map(e=>e.query))),hn(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(js(r),As(e,r))}}return o}(e,t,n))}return u}function Is(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=ps(n,Zn(e,t));if(r)return r});return Di(r,t,i,n,!0)}function Ts(e,t){return Ns(t,e.syncPointTree_,null,Pi(e.pendingWriteTree_,Vn()))}function Ns(e,t,n,r){if(Xn(e.path))return Ps(e,t,n,r);{const i=t.get(Vn());null==n&&null!=i&&(n=ps(i,Vn()));let s=[];const o=qn(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=Wi(r,o);s=s.concat(Ns(a,l,e,t))}return i&&(s=s.concat(cs(i,e,r,n))),s}}function Ps(e,t,n,r){const i=t.get(Vn());null==n&&null!=i&&(n=ps(i,Vn()));let s=[];return t.children.inorderTraversal((t,i)=>{const o=n?n.getImmediateChild(t):null,a=Wi(r,t),l=e.operationForChild(t);l&&(s=s.concat(Ps(l,i,o,a)))}),i&&(s=s.concat(cs(i,e,r,n))),s}function Rs(e,t){const n=t.query,r=As(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Lr.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Ls(e,n);if(r){const n=Ds(r),i=n.path,s=n.queryId,o=Zn(i,t);return Ms(e,i,new oi(ii(s),o))}return[]}(e,n._path,r):function(e,t){return Ts(e,new oi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return xs(e,n,null,r)}}}}function As(e,t){const n=Os(t);return e.queryToTagMap.get(n)}function Os(e){return e._path.toString()+"$"+e._queryIdentifier}function Ls(e,t){return e.tagToQueryMap.get(t)}function Ds(e){const t=e.indexOf("$");return m(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Hn(e.substr(0,t))}}function Ms(e,t,n){const r=e.syncPointTree_.get(t);m(r,"Missing sync point for query tag that we're tracking");return cs(r,n,Pi(e.pendingWriteTree_,t),null)}function js(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(m(as,"Reference.ts has not been loaded"),as)(e._repo,e._path):e}class Fs{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Fs(t)}node(){return this.node_}}class zs{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Jn(this.path_,e);return new zs(this.syncTree_,t)}node(){return Is(this.syncTree_,this.path_)}}const Us=function(e,t,n){return e&&"object"===typeof e?(m(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Bs(e[".sv"],t,n):"object"===typeof e[".sv"]?Ws(e[".sv"],t):void m(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Bs=function(e,t,n){if("timestamp"===e)return n.timestamp;m(!1,"Unexpected server value: "+e)},Ws=function(e,t,n){e.hasOwnProperty("increment")||m(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&m(!1,"Unexpected increment value: "+r);const i=t.node();if(m(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},Hs=function(e,t,n,r){return qs(t,new zs(n,e),r)},Vs=function(e,t,n){return qs(e,new Fs(t),n)};function qs(e,t,n){const r=e.getPriority().val(),i=Us(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=Us(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new Cr(s,Mr(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new Cr(i))),r.forEachChild(Er,(e,r)=>{const i=qs(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))}),s}}class Ks{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Gs(e,t){let n=t instanceof Hn?t:new Hn(t),r=e,i=qn(n);for(;null!==i;){const e=Y(r.node.children,i)||{children:{},childCount:0};r=new Ks(i,r,e),n=Gn(n),i=qn(n)}return r}function Ys(e){return e.node.value}function $s(e,t){e.node.value=t,eo(e)}function Qs(e){return e.node.childCount>0}function Js(e,t){hn(e.node.children,(n,r)=>{t(new Ks(n,e,r))})}function Xs(e,t,n,r){n&&!r&&t(e),Js(e,e=>{Xs(e,t,!0,r)}),n&&r&&t(e)}function Zs(e){return new Hn(null===e.parent?e.name:Zs(e.parent)+"/"+e.name)}function eo(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Ys(e)&&!Qs(e)}(n),i=G(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,eo(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,eo(e))}(e.parent,e.name,e)}const to=/[\[\].#$\/\u0000-\u001F\u007F]/,no=/[\[\].#$\u0000-\u001F\u007F]/,ro=10485760,io=function(e){return"string"===typeof e&&0!==e.length&&!to.test(e)},so=function(e){return"string"===typeof e&&0!==e.length&&!no.test(e)},oo=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!rn(e)||e&&"object"===typeof e&&G(e,".sv")},ao=function(e,t,n,r){r&&void 0===t||lo(se(e,"value"),t,n)},lo=function(e,t,n){const r=n instanceof Hn?new rr(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+sr(r));if("function"===typeof t)throw new Error(e+"contains a function "+sr(r)+" with contents = "+t.toString());if(rn(t))throw new Error(e+"contains "+t.toString()+" "+sr(r));if("string"===typeof t&&t.length>ro/3&&oe(t)>ro)throw new Error(e+"contains a string greater than "+ro+" utf8 bytes "+sr(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(hn(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!io(t)))throw new Error(e+" contains an invalid key ("+t+") "+sr(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=oe(t),ir(e)}(r,t),lo(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=oe(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+sr(r)+" in addition to actual children.")}},co=function(e,t,n,r){if(r&&void 0===t)return;const i=se(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];hn(t,(e,t)=>{const r=new Hn(e);if(lo(i,t,Jn(n,r)),".priority"===Yn(r)&&!oo(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=$n(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!io(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(er);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&nr(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},uo=function(e,t,n){if(!n||void 0!==t){if(rn(t))throw new Error(se(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!oo(t))throw new Error(se(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ho=function(e,t,n,r){if((!r||void 0!==n)&&!so(n))throw new Error(se(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},fo=function(e,t){if(".info"===qn(t))throw new Error(e+" failed = Can't modify data under /.info/")},po=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!io(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),so(e)}(n))throw new Error(se(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class mo{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function go(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||tr(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function yo(e,t,n){go(e,n),bo(e,e=>tr(e,t))}function vo(e,t,n){go(e,n),bo(e,e=>nr(e,t)||nr(t,e))}function bo(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(_o(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function _o(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();$t&&Xt("event: "+n.toString()),gn(r)}}}const ko="repo_interrupt";class wo{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mo,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jr(),this.transactionQueueTree_=new Ks,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function So(e,t,n){if(e.stats_=Rn(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new $r(e.repoInfo_,(t,n,r,i)=>{Eo(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Io(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{q(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new lr(e.repoInfo_,t,(t,n,r,i)=>{Eo(e,t,n,r,i)},t=>{Io(e,t)},t=>{!function(e,t){hn(t,(t,n)=>{To(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return Pn[n]||(Pn[n]=t()),Pn[n]}(e.repoInfo_,()=>new ni(e.stats_,e.server_)),e.infoData_=new Qr,e.infoSyncTree_=new _s({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=Ss(e.infoSyncTree_,t._path,o),setTimeout(()=>{i("ok")},0)),s},stopListening:()=>{}}),To(e,"connected",!1),e.serverSyncTree_=new _s({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const s=i(n,r);vo(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function xo(e){const t=e.infoData_.getNode(new Hn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Co(e){return(t=(t={timestamp:xo(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Eo(e,t,n,r,i){e.dataUpdateCount++;const s=new Hn(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=Q(n,e=>Mr(e));o=function(e,t,n,r){const i=Ls(e,r);if(i){const r=Ds(i),s=r.path,o=r.queryId,a=Zn(s,t),l=vi.fromObject(n);return Ms(e,s,new li(ii(o),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=Mr(n);o=Cs(e.serverSyncTree_,s,t,i)}else if(r){const t=Q(n,e=>Mr(e));o=function(e,t,n){const r=vi.fromObject(n);return Ts(e,new li({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=Mr(n);o=Ss(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=zo(e,s)),vo(e.eventQueue_,a,o)}function Io(e,t){To(e,"connected",t),!1===t&&function(e){Do(e,"onDisconnectEvents");const t=Co(e),n=Jr();ei(e.onDisconnect_,Vn(),(r,i)=>{const s=Hs(r,i,e.serverSyncTree_,t);Xr(n,r,s)});let r=[];ei(n,Vn(),(t,n)=>{r=r.concat(Ss(e.serverSyncTree_,t,n));const i=Vo(e,t);zo(e,i)}),e.onDisconnect_=Jr(),vo(e.eventQueue_,Vn(),r)}(e)}function To(e,t,n){const r=new Hn("/.info/"+t),i=Mr(n);e.infoData_.updateSnapshot(r,i);const s=Ss(e.infoSyncTree_,r,i);vo(e.eventQueue_,r,s)}function No(e){return e.nextWriteId_++}function Po(e,t,n,r,i){Do(e,"set",{path:t.toString(),value:n,priority:r});const s=Co(e),o=Mr(n,r),a=Is(e.serverSyncTree_,t),l=Vs(o,a,s),c=No(e),u=ks(e.serverSyncTree_,t,l,c,!0);go(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),(n,r)=>{const s="ok"===n;s||nn("set at "+t+" failed: "+n);const o=ws(e.serverSyncTree_,c,!s);vo(e.eventQueue_,t,o),Mo(e,i,n,r)});const d=Vo(e,t);zo(e,d),vo(e.eventQueue_,d,[])}function Ro(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&Zr(e.onDisconnect_,t),Mo(e,n,r,i)})}function Ao(e,t,n,r){const i=Mr(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(n,s)=>{"ok"===n&&Xr(e.onDisconnect_,t,i),Mo(e,r,n,s)})}function Oo(e,t,n){let r;r=".info"===qn(t._path)?xs(e.infoSyncTree_,t,n):xs(e.serverSyncTree_,t,n),yo(e.eventQueue_,t._path,r)}function Lo(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ko)}function Do(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Xt(t,...r)}function Mo(e,t,n,r){t&&gn(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}})}function jo(e,t,n){return Is(e.serverSyncTree_,t,n)||Lr.EMPTY_NODE}function Fo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Ho(e,t),Ys(t)){const n=Bo(e,t);m(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=jo(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const e=n[c];m(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Zn(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,r=>{Do(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(ws(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();Ho(e,Gs(e.transactionQueueTree_,t)),Fo(e,e.transactionQueueTree_),vo(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)gn(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{nn("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}zo(e,t)}},o)}(e,Zs(t),n)}else Qs(t)&&Js(t,t=>{Fo(e,t)})}function zo(e,t){const n=Uo(e,t),r=Zs(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(e=>0===e.status),o=s.map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){const s=t[a],l=Zn(n,s.path);let c,u=!1;if(m(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)u=!0,c=s.abortReason,i=i.concat(ws(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)u=!0,c="maxretry",i=i.concat(ws(e.serverSyncTree_,s.currentWriteId,!0));else{const n=jo(e,s.path,o);s.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){lo("transaction failed: Data returned ",r,s.path);let t=Mr(r);"object"===typeof r&&null!=r&&G(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=s.currentWriteId,l=Co(e),c=Vs(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=No(e),o.splice(o.indexOf(a),1),i=i.concat(ks(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),i=i.concat(ws(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",i=i.concat(ws(e.serverSyncTree_,s.currentWriteId,!0))}vo(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===c?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(c),!1,null))))}Ho(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)gn(r[a]);Fo(e,e.transactionQueueTree_)}(e,Bo(e,n),r),r}function Uo(e,t){let n,r=e.transactionQueueTree_;for(n=qn(t);null!==n&&void 0===Ys(r);)r=Gs(r,n),n=qn(t=Gn(t));return r}function Bo(e,t){const n=[];return Wo(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Wo(e,t,n){const r=Ys(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Js(t,t=>{Wo(e,t,n)})}function Ho(e,t){const n=Ys(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,$s(t,n.length>0?n:void 0)}Js(t,t=>{Ho(e,t)})}function Vo(e,t){const n=Zs(Uo(e,t)),r=Gs(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{qo(e,t)}),qo(e,r),Xs(r,t=>{qo(e,t)}),n}function qo(e,t){const n=Ys(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(m(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(m(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(ws(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?$s(t,void 0):n.length=s+1,vo(e.eventQueue_,Zs(t),i);for(let e=0;e<r.length;e++)gn(r[e])}}const Ko=function(e,t){const n=Go(e),r=n.namespace;"firebase.com"===n.domain&&tn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&nn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new En(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Hn(n.pathString)}},Go=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):nn("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in h&&(s=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},Yo="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$o=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Yo.charAt(n%64),n=Math.floor(n/64);m(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=Yo.charAt(t[i]);return m(20===o.length,"nextPushId: Length should be 20."),o}}();class Qo{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+q(this.snapshot.exportVal())}}class Jo{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Xo{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return m(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Zo{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new R;return Ro(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){fo("OnDisconnect.remove",this._path);const e=new R;return Ao(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){fo("OnDisconnect.set",this._path),ao("OnDisconnect.set",e,this._path,!1);const t=new R;return Ao(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){fo("OnDisconnect.setWithPriority",this._path),ao("OnDisconnect.setWithPriority",e,this._path,!1),uo("OnDisconnect.setWithPriority",t,!1);const n=new R;return function(e,t,n,r,i){const s=Mr(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),(n,r)=>{"ok"===n&&Xr(e.onDisconnect_,t,s),Mo(0,i,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){fo("OnDisconnect.update",this._path),co("OnDisconnect.update",e,this._path,!1);const t=new R;return function(e,t,n,r){if($(n))return Xt("onDisconnect().update() called with empty data.  Don't do anything."),void Mo(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(i,s)=>{"ok"===i&&hn(n,(n,r)=>{const i=Mr(r);Xr(e.onDisconnect_,Jn(t,n),i)}),Mo(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class ea{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Xn(this._path)?null:Yn(this._path)}get ref(){return new ta(this._repo,this._path)}get _queryIdentifier(){const e=Yr(this._queryParams),t=un(e);return"{}"===t?"default":t}get _queryObject(){return Yr(this._queryParams)}isEqual(e){if(!((e=ae(e))instanceof ea))return!1;const t=this._repo===e._repo,n=tr(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class ta extends ea{constructor(e,t){super(e,t,new Kr,!1)}get parent(){const e=Qn(this._path);return null===e?null:new ta(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class na{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Hn(e),n=ia(this.ref,e);return new na(this._node.getChild(t),n,Er)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new na(n,ia(this.ref,t),Er)))}hasChild(e){const t=new Hn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ra(e,t){return(e=ae(e))._checkNotDeleted("ref"),void 0!==t?ia(e._root,t):e._root}function ia(e,t){var n,r,i,s;return null===qn((e=ae(e))._path)?(n="child",r="path",s=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ho(n,r,i,s)):ho("child","path",t,!1),new ta(e._repo,Jn(e._path,t))}function sa(e,t){e=ae(e),fo("set",e._path),ao("set",t,e._path,!1);const n=new R;return Po(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}class oa{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Qo("value",this,new na(e.snapshotNode,new ta(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Jo(this,e,t):null}matches(e){return e instanceof oa&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class aa{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Jo(this,e,t):null}createEvent(e,t){m(null!=e.childName,"Child events should have a childName.");const n=ia(new ta(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Qo(e.type,this,new na(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof aa&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function la(e,t,n,r,i){let s;if("object"===typeof r&&(s=void 0,i=r),"function"===typeof r&&(s=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{Oo(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new Xo(n,s||void 0),a="value"===t?new oa(o):new aa(t,o);return function(e,t,n){let r;r=".info"===qn(t._path)?Es(e.infoSyncTree_,t,n):Es(e.serverSyncTree_,t,n),yo(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>Oo(e._repo,e,a)}function ca(e,t,n,r){return la(e,"value",t,n,r)}!function(e){m(!os,"__referenceConstructor has already been defined"),os=e}(ta),function(e){m(!as,"__referenceConstructor has already been defined"),as=e}(ta);const ua={};let da=!1;function ha(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xt("Using default host for project ",e.options.projectId),s="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let o,a,l=Ko(s,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/shiden",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s="http://".concat(a,"?ns=").concat(c.namespace),l=Ko(s,i),c=l.repoInfo):o=!l.repoInfo.secure;const u=i&&o?new _n(_n.OWNER):new bn(e.name,e.options,t);po("Invalid Firebase Database URL",l),Xn(l.path)||tn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=ua[t.name];i||(i={},ua[t.name]=i);let s=i[e.toURLString()];s&&tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new wo(e,da,n,r),i[e.toURLString()]=s,s}(c,e,u,new vn(e,n));return new fa(d,e)}class fa{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(So(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ta(this._repo,Vn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=ua[t];n&&n[e.key]===e||tn("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Lo(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&tn("Cannot call "+e+" on a deleted database.")}}const pa={".sv":"timestamp"};lr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},lr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){zt(wt),yt(new le("database",(e,t)=>{let{instanceIdentifier:n}=t;return ha(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),Ct(Mt,jt,e),Ct(Mt,jt,"esm2020")}();function ma(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Ct("firebase","12.8.0","app");const ga=["providerId"],ya=["uid","auth","stsTokenManager"],va=["providerId","signInMethod"];function ba(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _a=ba,ka=new W("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wa=new ve("@firebase/auth");function Sa(e){if(wa.logLevel<=fe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wa.error("Auth (".concat(wt,"): ").concat(e),...n)}}function xa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Na(e,...n)}function Ca(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Na(e,...n)}function Ea(e,t,n){const r=c(c({},_a()),{},{[t]:n});return new W("auth","Firebase",r).create(t,{appName:e.name})}function Ia(e){return Ea(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ta(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&xa(e,"argument-error"),Ea(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Na(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ka.create(e,...n)}function Pa(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Na(t,...r)}}function Ra(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Sa(t),new Error(t)}function Aa(e,t){e||Ra(t)}function Oa(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function La(){return"http:"===Da()||"https:"===Da()}function Da(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ma(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(La()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class ja{constructor(e,t){this.shortDelay=e,this.longDelay=t,Aa(t>e,"Short delay should be less than long delay!"),this.isMobile=F()||z()}get(){return Ma()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fa(e,t){Aa(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class za{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ra("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ra("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ra("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ua={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ba=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Wa=new ja(3e4,6e4);function Ha(e,t){return e.tenantId&&!t.tenantId?c(c({},t),{},{tenantId:e.tenantId}):t}async function Va(e,t,n,r){return qa(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Z(c({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=c({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&A(e.emulatorConfig.host)&&(l.credentials="include"),za.fetch()(await Ga(e,e.config.apiHost,n,o),l)})}async function qa(e,t,n){e._canInitEmulator=!1;const r=c(c({},Ua),t);try{const t=new $a(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Qa(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Qa(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Qa(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Qa(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Ea(e,a,o);xa(e,a)}}catch(i){if(i instanceof B)throw i;xa(e,"network-request-failed",{message:String(i)})}}async function Ka(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Va(e,t,n,r,i);return"mfaPendingCredential"in s&&xa(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Ga(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,o=s.config.emulator?Fa(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Ba.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(o).toString()}return o}function Ya(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $a{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Ca(this.auth,"network-request-failed")),Wa.get())})}}function Qa(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ca(e,t,r);return i.customData._tokenResponse=n,i}function Ja(e){return void 0!==e&&void 0!==e.enterprise}class Xa{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ya(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Za(e,t){return Va(e,"GET","/v2/recaptchaConfig",Ha(e,t))}async function el(e,t){return Va(e,"POST","/v1/accounts:lookup",t)}function tl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function nl(e){return 1e3*Number(e)}function rl(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Sa("JWT malformed, contained fewer than 3 sections"),null;try{const e=w(n);return e?JSON.parse(e):(Sa("Failed to decode base64 JWT payload"),null)}catch(i){return Sa("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function il(e){const t=rl(e);return Pa(t,"internal-error"),Pa("undefined"!==typeof t.exp,"internal-error"),Pa("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function sl(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof B&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class ol{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class al{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ll(e){var t;const n=e.auth,r=await e.getIdToken(),i=await sl(e,el(n,{idToken:r}));Pa(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?cl(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null!==a&&void 0!==a&&a.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new al(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function cl(e){return e.map(e=>{let{providerId:t}=e,n=ma(e,ga);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pa(e.idToken,"internal-error"),Pa("undefined"!==typeof e.idToken,"internal-error"),Pa("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):il(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pa(0!==e.length,"internal-error");const t=il(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Pa(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await qa(e,{},async()=>{const n=Z({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await Ga(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:o,body:n};return e.emulatorConfig&&A(e.emulatorConfig.host)&&(a.credentials="include"),za.fetch()(s,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ul;return n&&(Pa("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Pa("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Pa("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return Ra("not implemented")}}function dl(e,t){Pa("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class hl{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=ma(e,ya);this.providerId="firebase",this.proactiveRefresh=new ol(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new al(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await sl(this,this.stsTokenManager.getToken(this.auth,e));return Pa(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ae(e),r=await n.getIdToken(t),i=rl(r);Pa(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:tl(nl(i.auth_time)),issuedAtTime:tl(nl(i.iat)),expirationTime:tl(nl(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ae(e);await ll(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Pa(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>c({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hl(c(c({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pa(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ll(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bt(this.auth.app))return Promise.reject(Ia(this.auth));const e=await this.getIdToken();return await sl(this,async function(e,t){return Va(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return c(c({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>c({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:_,isAnonymous:k,providerData:w,stsTokenManager:S}=t;Pa(b&&S,e,"internal-error");const x=ul.fromJSON(this.name,S);Pa("string"===typeof b,e,"internal-error"),dl(d,e.name),dl(h,e.name),Pa("boolean"===typeof _,e,"internal-error"),Pa("boolean"===typeof k,e,"internal-error"),dl(f,e.name),dl(p,e.name),dl(m,e.name),dl(g,e.name),dl(y,e.name),dl(v,e.name);const C=new hl({uid:b,auth:e,email:h,emailVerified:_,displayName:d,isAnonymous:k,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:x,createdAt:y,lastLoginAt:v});return w&&Array.isArray(w)&&(C.providerData=w.map(e=>c({},e))),g&&(C._redirectEventId=g),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ul;r.updateFromServerResponse(t);const i=new hl({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ll(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Pa(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?cl(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),o=new ul;o.updateFromIdToken(n);const a=new hl({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new al(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const fl=new Map;function pl(e){Aa(e instanceof Function,"Expected a class definition");let t=fl.get(e);return t?(Aa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fl.set(e,t),t)}class ml{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ml.type="NONE";const gl=ml;function yl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class vl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=yl(this.userKey,r.apiKey,i),this.fullPersistenceKey=yl("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await el(this.auth,{idToken:e}).catch(()=>{});return t?hl._fromGetAccountInfoResponse(this.auth,t,e):null}return hl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new vl(pl(gl),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||pl(gl);const s=yl(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await el(e,{idToken:t}).catch(()=>{});if(!r)break;n=await hl._fromGetAccountInfoResponse(e,r,t)}else n=hl._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(t){}})),new vl(i,e,n)):new vl(i,e,n)}}function bl(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Sl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_l(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cl(t))return"Blackberry";if(El(t))return"Webos";if(kl(t))return"Safari";if((t.includes("chrome/")||wl(t))&&!t.includes("edge/"))return"Chrome";if(xl(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function _l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return/firefox\//i.test(e)}function kl(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:j()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return/crios\//i.test(e)}function Sl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return/iemobile/i.test(e)}function xl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return/android/i.test(e)}function Cl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return/blackberry/i.test(e)}function El(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return/webos/i.test(e)}function Il(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Tl(){return function(){const e=j();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Nl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return Il(e)||xl(e)||El(e)||Cl(e)||/windows phone/i.test(e)||Sl(e)}function Pl(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=bl(j());break;case"Worker":t="".concat(bl(j()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(wt,"/").concat(r)}class Rl{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Al{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ol{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dl(this),this.idTokenSubscription=new Dl(this),this.beforeStateQueue=new Rl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ka,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pl(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await vl.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await el(this,{idToken:e}),n=await hl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bt(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,s;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,o=null===(s=n)||void 0===s?void 0:s._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==o||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Pa(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ll(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bt(this.app))return Promise.reject(Ia(this));const t=e?ae(e):null;return t&&Pa(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Pa(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bt(this.app)?Promise.reject(Ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bt(this.app)?Promise.reject(Ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pl(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Va(e,"GET","/v2/passwordPolicy",Ha(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Al(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new W("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Va(e,"POST","/v2/accounts:revokeToken",Ha(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&pl(e)||this._popupRedirectResolver;Pa(t,this,"argument-error"),this.redirectPersistenceManager=await vl.create(this,[pl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pa(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pa(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(bt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(wa.logLevel<=fe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wa.warn("Auth (".concat(wt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ll(e){return ae(e)}class Dl{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new re(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Pa(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ml={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jl(e){return Ml.loadJS(e)}function Fl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class zl{constructor(){this.enterprise=new Ul}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ul{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Bl="NO_RECAPTCHA";class Wl{constructor(e){this.type="recaptcha-enterprise",this.auth=Ll(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ja(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Bl)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new zl).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Za(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Xa(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Ja(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ml.recaptchaEnterpriseScript;0!==t.length&&(t+=i),jl(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Hl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Wl(e);let o;if(i)o=Bl;else try{o=await s.verify(n)}catch(en){o=await s.verify(n,!0)}const a=c({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Vl(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Hl(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Hl(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("PHONE_PROVIDER")){const i=await Hl(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Hl(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Hl(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function ql(e){const t=Ll(e),n=await Za(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Xa(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Wl(t).verify()}}function Kl(e,t,n){const r=Ll(e);Pa(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),s=Gl(t),{host:o,port:a}=function(e){const t=Gl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Yl(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Yl(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(s,"//").concat(o).concat(l,"/")},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Pa(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Pa(J(c,r.config.emulator)&&J(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,A(o)?(O("".concat(s,"//").concat(o).concat(l)),M("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Gl(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Yl(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class $l{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ra("not implemented")}_getIdTokenResponse(e){return Ra("not implemented")}_linkToIdToken(e,t){return Ra("not implemented")}_getReauthenticationResolver(e){return Ra("not implemented")}}async function Ql(e,t){return Va(e,"POST","/v1/accounts:signUp",t)}async function Jl(e,t){return Ka(e,"POST","/v1/accounts:signInWithPassword",Ha(e,t))}async function Xl(e,t){return Va(e,"POST","/v1/accounts:sendOobCode",Ha(e,t))}class Zl extends $l{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Zl(e,t,"password")}static _fromEmailAndCode(e,t){return new Zl(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Vl(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Jl,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ka(e,"POST","/v1/accounts:signInWithEmailLink",Ha(e,t))}(e,{email:this._email,oobCode:this._password});default:xa(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Vl(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ql,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ka(e,"POST","/v1/accounts:signInWithEmailLink",Ha(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:xa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ec(e,t){return Ka(e,"POST","/v1/accounts:signInWithIdp",Ha(e,t))}class tc extends $l{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new tc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xa("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ma(t,va);if(!n||!r)return null;const s=new tc(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ec(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ec(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ec(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Z(t)}return e}}async function nc(e,t){return Va(e,"POST","/v1/accounts:sendVerificationCode",Ha(e,t))}const rc={USER_NOT_FOUND:"user-not-found"};class ic extends $l{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ic({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ic({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ka(e,"POST","/v1/accounts:signInWithPhoneNumber",Ha(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ka(e,"POST","/v1/accounts:signInWithPhoneNumber",Ha(e,t));if(n.temporaryProof)throw Qa(e,"account-exists-with-different-credential",n);return n}(e,c({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ka(e,"POST","/v1/accounts:signInWithPhoneNumber",Ha(e,c(c({},t),{},{operation:"REAUTH"})),rc)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ic({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class sc{constructor(e){var t,n,r,i,s,o;const a=ee(te(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Pa(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=ee(te(e)).link,n=t?ee(te(t)).deep_link_id:null,r=ee(te(e)).deep_link_id;return(r?ee(te(r)).link:null)||r||n||t||e}(e);try{return new sc(t)}catch(n){return null}}}class oc{constructor(){this.providerId=oc.PROVIDER_ID}static credential(e,t){return Zl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=sc.parseLink(t);return Pa(n,"argument-error"),Zl._fromEmailAndCode(e,n.code,n.tenantId)}}oc.PROVIDER_ID="password",oc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",oc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ac{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lc extends ac{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cc extends lc{constructor(){super("facebook.com")}static credential(e){return tc._fromParams({providerId:cc.PROVIDER_ID,signInMethod:cc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cc.credentialFromTaggedObject(e)}static credentialFromError(e){return cc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return cc.credential(t.oauthAccessToken)}catch(n){return null}}}cc.FACEBOOK_SIGN_IN_METHOD="facebook.com",cc.PROVIDER_ID="facebook.com";class uc extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return tc._fromParams({providerId:uc.PROVIDER_ID,signInMethod:uc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return uc.credentialFromTaggedObject(e)}static credentialFromError(e){return uc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return uc.credential(n,r)}catch(i){return null}}}uc.GOOGLE_SIGN_IN_METHOD="google.com",uc.PROVIDER_ID="google.com";class dc extends lc{constructor(){super("github.com")}static credential(e){return tc._fromParams({providerId:dc.PROVIDER_ID,signInMethod:dc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dc.credentialFromTaggedObject(e)}static credentialFromError(e){return dc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return dc.credential(t.oauthAccessToken)}catch(n){return null}}}dc.GITHUB_SIGN_IN_METHOD="github.com",dc.PROVIDER_ID="github.com";class hc extends lc{constructor(){super("twitter.com")}static credential(e,t){return tc._fromParams({providerId:hc.PROVIDER_ID,signInMethod:hc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hc.credentialFromTaggedObject(e)}static credentialFromError(e){return hc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return hc.credential(n,r)}catch(i){return null}}}async function fc(e,t){return Ka(e,"POST","/v1/accounts:signUp",Ha(e,t))}hc.TWITTER_SIGN_IN_METHOD="twitter.com",hc.PROVIDER_ID="twitter.com";class pc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await hl._fromIdTokenResponse(e,n,r),s=mc(n);return new pc({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=mc(n);return new pc({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function mc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class gc extends B{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,gc.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new gc(e,t,n,r)}}function yc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw gc._fromErrorAndOperation(e,n,t,r);throw n})}async function vc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await sl(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return pc._forOperation(e,"link",r)}async function bc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(bt(r.app))return Promise.reject(Ia(r));const i="reauthenticate";try{const s=await sl(e,yc(r,i,t,e),n);Pa(s.idToken,r,"internal-error");const o=rl(s.idToken);Pa(o,r,"internal-error");const{sub:a}=o;return Pa(e.uid===a,r,"user-mismatch"),pc._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&xa(r,"user-mismatch"),s}}async function _c(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(bt(e.app))return Promise.reject(Ia(e));const r="signIn",i=await yc(e,r,t),s=await pc._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function kc(e,t){return _c(Ll(e),t)}function wc(e,t,n){var r;Pa((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Pa("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Pa("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Pa(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Pa(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Sc(e){const t=Ll(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function xc(e,t){const n=ae(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&wc(n.auth,r,t);const{email:i}=await async function(e,t){return Xl(e,t)}(n.auth,r);i!==e.email&&await e.reload()}function Cc(e,t,n,r){return ae(e).onAuthStateChanged(t,n,r)}function Ec(e,t){return Va(e,"POST","/v2/accounts/mfaEnrollment:start",Ha(e,t))}new WeakMap;const Ic="__sak";class Tc{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ic,"1"),this.storage.removeItem(Ic),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Nc extends Tc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nl(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Tl()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nc.type="LOCAL";const Pc=Nc;function Rc(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Ac(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Oc{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Ac(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Rc(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Ac(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Ac(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Rc(n);const i=setInterval(()=>{const e=Rc(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Oc.type="COOKIE";class Lc extends Tc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Lc.type="SESSION";const Dc=Lc;class Mc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Mc(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(null===s||void 0===s||!s.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function jc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Mc.receivers=[];class Fc{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const l=jc("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function zc(){return window}function Uc(){return"undefined"!==typeof zc().WorkerGlobalScope&&"function"===typeof zc().importScripts}const Bc="firebaseLocalStorageDb",Wc="firebaseLocalStorage",Hc="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qc(e,t){return e.transaction([Wc],t?"readwrite":"readonly").objectStore(Wc)}function Kc(){const e=indexedDB.open(Bc,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Wc,{keyPath:Hc})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Wc)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Bc);return new Vc(e).toPromise()}(),t(await Kc()))})})}async function Gc(e,t,n){const r=qc(e,!0).put({[Hc]:t,value:n});return new Vc(r).toPromise()}function Yc(e,t){const n=qc(e,!0).delete(t);return new Vc(n).toPromise()}class $c{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Kc()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Uc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mc._getInstance(Uc()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Fc(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kc();return await Gc(e,Ic,"1"),await Yc(e,Ic),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gc(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=qc(e,!1).get(t),r=await new Vc(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Yc(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=qc(e,!1).getAll();return new Vc(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}$c.type="LOCAL";const Qc=$c;function Jc(e,t){return Va(e,"POST","/v2/accounts/mfaSignIn:start",Ha(e,t))}Fl("rcb"),new ja(3e4,6e4);const Xc="recaptcha";async function Zc(e,t,n){if(!e._getRecaptchaConfig())try{await ql(e)}catch(en){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Pa("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Vl(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Bl){Pa((null===n||void 0===n?void 0:n.type)===Xc,e,"argument-error");return Ec(e,await eu(e,t,n))}return Ec(e,t)},"PHONE_PROVIDER"),o=await s.catch(e=>Promise.reject(e));return o.phoneSessionInfo.sessionInfo}{var r;Pa("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Pa(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Vl(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Bl){Pa((null===n||void 0===n?void 0:n.type)===Xc,e,"argument-error");return Jc(e,await eu(e,t,n))}return Jc(e,t)},"PHONE_PROVIDER"),l=await a.catch(e=>Promise.reject(e));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Vl(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Bl){Pa((null===n||void 0===n?void 0:n.type)===Xc,e,"argument-error");return nc(e,await eu(e,t,n))}return nc(e,t)},"PHONE_PROVIDER"),s=await r.catch(e=>Promise.reject(e));return s.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function eu(e,t,n){Pa(n.type===Xc,e,"argument-error");const r=await n.verify();Pa("string"===typeof r,e,"argument-error");const i=c({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class tu{constructor(e){this.providerId=tu.PROVIDER_ID,this.auth=Ll(e)}verifyPhoneNumber(e,t){return Zc(this.auth,e,ae(t))}static credential(e,t){return ic._fromVerification(e,t)}static credentialFromResult(e){const t=e;return tu.credentialFromTaggedObject(t)}static credentialFromError(e){return tu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ic._fromTokenResponse(n,r):null}}function nu(e,t){return t?pl(t):(Pa(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}tu.PROVIDER_ID="phone",tu.PHONE_SIGN_IN_METHOD="phone";class ru extends $l{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ec(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ec(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ec(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iu(e){return _c(e.auth,new ru(e),e.bypassAuthState)}function su(e){const{auth:t,user:n}=e;return Pa(n,t,"internal-error"),bc(n,new ru(e),e.bypassAuthState)}async function ou(e){const{auth:t,user:n}=e;return Pa(n,t,"internal-error"),vc(n,new ru(e),e.bypassAuthState)}class au{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iu;case"linkViaPopup":case"linkViaRedirect":return ou;case"reauthViaPopup":case"reauthViaRedirect":return su;default:xa(this.auth,"internal-error")}}resolve(e){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lu=new ja(2e3,1e4);class cu extends au{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,cu.currentPopupAction&&cu.currentPopupAction.cancel(),cu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pa(e,this.auth,"internal-error"),e}async onExecution(){Aa(1===this.filter.length,"Popup operations only handle one event");const e=jc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ca(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ca(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ca(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,lu.get())};e()}}cu.currentPopupAction=null;const uu=new Map;class du extends au{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=uu.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=pu(t),r=fu(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}uu.set(this.auth._key(),e)}return this.bypassAuthState||uu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function hu(e,t){uu.set(e._key(),t)}function fu(e){return pl(e._redirectPersistence)}function pu(e){return yl("pendingRedirect",e.config.apiKey,e.name)}async function mu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(bt(e.app))return Promise.reject(Ia(e));const r=Ll(e),i=nu(r,t),s=new du(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class gu{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!vu(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ca(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yu(e))}saveEventToCache(e){this.cachedEventUids.add(yu(e)),this.lastProcessedEventTime=Date.now()}}function yu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function vu(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const bu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_u=/^https?/;async function ku(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Va(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(wu(r))return}catch(n){}xa(e,"unauthorized-domain")}function wu(e){const t=Oa(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!_u.test(n))return!1;if(bu.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Su=new ja(3e4,6e4);function xu(){const e=zc().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Cu(e){return new Promise((t,n)=>{var r,i;function s(){xu(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xu(),n(Ca(e,"network-request-failed"))},timeout:Su.get()})}if(null!==(r=zc().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=zc().gapi)||void 0===i||!i.load){const t=Fl("iframefcb");return zc()[t]=()=>{gapi.load?s():n(Ca(e,"network-request-failed"))},jl("".concat(Ml.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw Eu=null,e})}let Eu=null;const Iu=new ja(5e3,15e3),Tu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pu(e){const t=e.config;Pa(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Fa(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:wt},i=Nu.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Z(r).slice(1))}async function Ru(e){const t=await function(e){return Eu=Eu||Cu(e),Eu}(e),n=zc().gapi;return Pa(n,e,"internal-error"),t.open({where:document.body,url:Pu(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tu,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ca(e,"network-request-failed"),s=zc().setTimeout(()=>{r(i)},Iu.get());function o(){zc().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const Au={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ou{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Lu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=c(c({},Au),{},{width:r.toString(),height:i.toString(),top:s,left:o}),u=j().toLowerCase();n&&(a=wl(u)?"_blank":n),_l(u)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Il(arguments.length>0&&void 0!==arguments[0]?arguments[0]:j())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Ou(null);const h=window.open(t||"",a,d);Pa(h,e,"popup-blocked");try{h.focus()}catch(f){}return new Ou(h)}const Du="__/auth/handler",Mu="emulator/auth/handler",ju=encodeURIComponent("fac");async function Fu(e,t,n,r,i,s){Pa(e.config.authDomain,e,"auth-domain-config-required"),Pa(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:wt,eventId:i};if(t instanceof ac){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",$(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof lc){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ju,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Du);return Fa(t,Mu)}(e),"?").concat(Z(a).slice(1)).concat(c)}const zu="webStorageSupport";const Uu=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dc,this._completeRedirectFn=mu,this._overrideRedirectResult=hu}async _openPopup(e,t,n,r){var i;Aa(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Lu(e,await Fu(e,t,n,Oa(),r),jc())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){zc().location.href=e}(await Fu(e,t,n,Oa(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Aa(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ru(e),n=new gu(e);return t.register("authEvent",t=>{Pa(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zu,{type:zu},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[zu];void 0!==i&&t(!!i),xa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ku(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Nl()||kl()||Il()}};var Bu="@firebase/auth",Wu="1.12.0";class Hu{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pa(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Vu=P("authIdTokenMaxAge")||300;let qu=null;var Ku,Gu;Ku={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ca("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ml=Ku,Gu="Browser",yt(new le("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Pa(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Gu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pl(Gu)},c=new Ol(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pl);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),yt(new le("auth-internal",e=>(e=>new Hu(e))(Ll(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Ct(Bu,Wu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Gu)),Ct(Bu,Wu,"esm2020");const Yu=St({apiKey:"AIzaSyDEOQ0xiSg2MfqmL5qVlm-MP6fRC32OpVQ",authDomain:"shiden-games.firebaseapp.com",databaseURL:"https://shiden-games-default-rtdb.firebaseio.com",projectId:"shiden-games",storageBucket:"shiden-games.firebasestorage.app",messagingSenderId:"764248462785",appId:"1:764248462785:web:aa3e68326893a71d288b40",measurementId:"G-V0VXR4MERY"}),$u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt(),t=arguments.length>1?arguments[1]:void 0;const n=vt(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=(e=>{const t=T(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=ae(e),e._checkNotDeleted("useEmulator");const i="".concat(t,":").concat(n),s=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&J(r,s.repoInfo_.emulatorOptions))return;tn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new _n(_n.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[k(JSON.stringify({alg:"none",type:"JWT"})),k(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e.app.options.projectId);o=new _n(t)}A(t)&&(O(t),M("Database",!0));!function(e,t,n,r){const i=t.lastIndexOf(":"),s=A(t.substring(0,i));e.repoInfo_=new En(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(s,i,r,o)}(n,...e)}return n}(Yu),Qu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt();const t=vt(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=vt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(J(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;xa(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Uu,persistence:[Qc,Pc,Dc]}),r=P("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Vu)return;const r=null===t||void 0===t?void 0:t.token;qu!==r&&(qu=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){ae(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){ae(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=T("auth");return s&&Kl(n,"http://".concat(s)),n}(Yu),Ju=new uc;class Xu{constructor(e){this.skillsRaw=void 0,this.playerName="\u540d\u3082\u306a\u304d\u95d8\u58eb",this.skill=[],this.name=[],this.type=[],this.speed=[],this.damage=[],this.scar=[],this.limited=[],this.kage=[],this.gekirin=0,this.musou=0,this.stan=0,this.kakuran=0,this.suijaku=0,this.roubai=0,this.ekibyo=0,this.kakugo=0,this.sensei=0,this.bouheki=0,this.bouheki_=0,this.tate=0;const t=e.split("\uff0f");this.skillsRaw=t[0],t.length>=2&&(this.playerName=t[1]),this.initializeSkills(this.skillsRaw)}initializeSkills(e){this.skill=[],this.name=[],this.type=[],this.speed=[],this.damage=[],this.limited=[],this.scar=[],this.kage=[],this.gekirin=0,this.musou=0,this.stan=0,this.kakuran=0,this.suijaku=0,this.roubai=0,this.ekibyo=0,this.kakugo=0,this.sensei=0,this.bouheki=0,this.bouheki_=0,this.tate=0;for(let t=0;t<e.length;t++){switch(this.skill[t]=e.substring(t,t+1),this.name[t]="\u3000\u3000",this.type[t]=Xu.NONE,this.speed[t]=0,this.damage[t]=0,this.limited[t]=0,this.skill[t]){case"\u4e00":this.name[t]="\u4e00\u9583",this.type[t]=Xu.ATTACK,this.speed[t]=t+1,this.damage[t]=1;break;case"\u523a":this.name[t]="\u523a\u7a81",this.type[t]=Xu.ATTACK,this.speed[t]=1,this.damage[t]=1;break;case"\u679c":this.name[t]="\u679c\u65ad",this.type[t]=Xu.ATTACK,this.speed[t]=1,this.damage[t]=t+1;break;case"\u5263":this.name[t]="\u5263\u821e",this.type[t]=Xu.ATTACK,this.speed[t]=t+1-1,this.damage[t]=0,this.speed[t]<0&&(this.speed[t]=0);break;case"\u7d2b":this.name[t]="\u7d2b\u96fb",this.type[t]=Xu.ATTACK,this.speed[t]=t+1+2,this.damage[t]=1;break;case"\u546a":this.name[t]="\u546a\u8a5b",this.type[t]=Xu.ATTACK,this.speed[t]=1,this.damage[t]=1;break;case"\u96f7":this.name[t]="\u96f7\u706b",this.type[t]=Xu.ATTACK,this.speed[t]=t+1,this.damage[t]=2,this.limited[t]=1;break;case"\u96a0":this.name[t]="\u96a0\u5203",this.type[t]=Xu.ATTACK,this.speed[t]=t+1,this.damage[t]=2;break;case"\u6012":this.name[t]="\u6012\u6fe4",this.type[t]=Xu.ATTACK,this.speed[t]=t+1-2,this.damage[t]=0,this.speed[t]<0&&(this.speed[t]=0);break;case"\u5f31":this.name[t]="\u5f31\u6483",this.type[t]=Xu.ATTACK,this.speed[t]=0,this.damage[t]=1;break;case"\u899a":this.name[t]="\u899a\u609f",this.type[t]=Xu.BUFF,this.speed[t]=t+1,this.limited[t]=1;break;case"\u9632":this.name[t]="\u9632\u58c1",this.type[t]=Xu.BUFF,this.speed[t]=t+1,this.limited[t]=1;break;case"\u5c01":this.name[t]="\u5c01\u5370",this.type[t]=Xu.BUFF,this.speed[t]=t+1,this.limited[t]=1;break;case"\u5f71":this.name[t]="\u5f71\u8a0e",this.type[t]=Xu.BUFF,this.speed[t]=0;break;case"\u4ea4":this.name[t]="\u4ea4\u932f",this.type[t]=Xu.COUNTER,this.speed[t]=t,this.damage[t]=1;break;case"\u6426":this.name[t]="\u6426\u624b",this.type[t]=Xu.COUNTER,this.speed[t]=t+1,this.damage[t]=0;break;case"\u5f85":this.name[t]="\u5f85\u4f0f",this.type[t]=Xu.COUNTER,this.speed[t]=1,this.damage[t]=2;break;case"\u7389":this.name[t]="\u7389\u97ff",this.type[t]=Xu.COUNTER,this.speed[t]=t,this.damage[t]=0;break;case"\u5d29":this.name[t]="\u5d29\u6280",this.type[t]=Xu.COUNTER,this.speed[t]=t+1,this.damage[t]=0;break;case"\u75ab":this.name[t]="\u75ab\u75c5",this.type[t]=Xu.COUNTER,this.speed[t]=t+1,this.damage[t]=0;break;case"\u5f37":this.name[t]="\uff0b\u5f37",this.type[t]=Xu.ENCHANT,this.speed[t]=0;break;case"\u786c":this.name[t]="\uff0b\u786c",this.type[t]=Xu.ENCHANT,this.speed[t]=0;break;case"\u901f":this.name[t]="\uff0b\u901f",this.type[t]=Xu.ENCHANT,this.speed[t]=0;break;case"\u53cd":this.name[t]="\uff0b\u53cd",this.type[t]=Xu.ENCHANT,this.speed[t]=0;break;case"\u76fe":this.name[t]="\uff0b\u76fe",this.type[t]=Xu.ENCHANT,this.speed[t]=0,this.limited[t]=1;break;case"\u932c":this.name[t]="\uff0b\u932c",this.type[t]=Xu.ENCHANT,this.speed[t]=0,this.limited[t]=1;break;case"\u9006":this.name[t]="\u9006\u9c57",this.type[t]=Xu.ENCHANT,this.speed[t]=0;break;case"\u7121":this.name[t]="\u7121\u60f3",this.type[t]=Xu.ENCHANT,this.speed[t]=0,this.limited[t]=1;break;case"\u88cf":this.name[t]="\u88cf\u971e",this.type[t]=Xu.ENCHANT,this.speed[t]=0;break;case"\u5148":this.name[t]="\u5148\u5236",this.type[t]=Xu.ENCHANT,this.speed[t]=0;break;case"\u9023":this.name[t]="\u9023\u6483",this.type[t]=Xu.ENCHANT,this.speed[t]=0,this.limited[t]=1;break;case"\u71d0":this.name[t]="\u71d0\u5149",this.type[t]=Xu.ENCHANT,this.speed[t]=0;break;case"\u7a7a":this.name[t]="\u7a7a\u767d",this.type[t]=Xu.ENCHANT,this.speed[t]=0}this.scar[t]=0}}shuffleArray(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}shuffleSkills(){const e=this.skillsRaw.split("");this.skillsRaw=e.join(""),this.initializeSkills(this.skillsRaw)}getSkillsLength(){return this.skillsRaw.length}getSkillsCount(){return this.skillsRaw.length}}Xu.NONE=0,Xu.ATTACK=1,Xu.COUNTER=2,Xu.ENCHANT=3,Xu.BUFF=4;class Zu{constructor(e,t){this.dataPc1=void 0,this.dataPc2=void 0,this.text="",this.turn=void 0,this.pc1=null,this.pc2=null,this.dataPc1=e,this.dataPc2=t,this.turn=1}start(){Zu.SHORT=0,this.pc1=new Xu(this.dataPc1),this.pc2=new Xu(this.dataPc2);const e=this.pc1,t=this.pc2;for(this.text+="=============================================\n\n",this.text+=e.playerName+"\u3000VS\u3000"+t.playerName+"\n\n",this.text+="\u2015\u2015\u6226\u95d8\u958b\u59cb\u2015\u2015\n\n",this.turn=1;this.turn>=0;this.turn++){let n=0,r=0,i="",s="";if(this.text+="\u3010\u7b2c".concat(this.turn,"\u30e9\u30a6\u30f3\u30c9\u3011\n\n"),0===Zu.SHORT)for(let t=0;t<e.getSkillsLength();t++)this.text+="\u3010".concat(e.name[t],"\u3011");else for(let t=0;t<e.getSkillsLength();t++)this.text+=e.skill[t];if(this.text+="\uff0f".concat(e.playerName),1===e.stan&&(n=1,i+="\u30b9"),1===e.roubai&&(n=1,i+="\u72fc"),1===e.suijaku&&(n=1,i+="\u5fd8"),1===e.kakugo&&(n=1,i+="\u899a"),e.bouheki>=1){n=1;for(let t=0;t<e.bouheki;t++)i+="\u9632"}if(e.gekirin>=1){n=1;for(let t=0;t<e.gekirin;t++)i+="\u9006"}if(1===e.musou&&(n=1,i+="\u7121"),1===e.sensei&&(n=1,i+="\u5148"),1===n&&(this.text+="\u3014".concat(i,"\u3015")),this.text+="\n",0===Zu.SHORT)for(let e=0;e<t.getSkillsLength();e++)this.text+="\u3010".concat(t.name[e],"\u3011");else for(let e=0;e<t.getSkillsLength();e++)this.text+=t.skill[e];if(this.text+="\uff0f".concat(t.playerName),1===t.stan&&(r=1,s+="\u30b9"),1===t.roubai&&(r=1,s+="\u72fc"),1===t.suijaku&&(r=1,s+="\u5fd8"),1===t.kakugo&&(r=1,s+="\u899a"),t.bouheki>=1){r=1;for(let e=0;e<t.bouheki;e++)s+="\u9632"}if(t.gekirin>=1){r=1;for(let e=0;e<t.gekirin;e++)s+="\u9006"}1===t.musou&&(r=1,s+="\u7121"),1===t.sensei&&(r=1,s+="\u5148"),1===r&&(this.text+="\u3014".concat(s,"\u3015")),this.text+="\n";let o=0;this.text+="\n",this.text+="\u25bc\u958b\u59cb\u30d5\u30a7\u30a4\u30ba\n",this.text+="\n",this.turn<=e.getSkillsLength()&&("\u7121"===e.skill[this.turn-1]&&(this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[this.turn-1],"\u3011").concat(this.turn,"\u304c\u767a\u52d5\uff01\n"),this.text+="\uff1e".concat(e.playerName,"\u306b\u7121\u60f3\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),e.musou=1,e.limited[this.turn-1]=2,o=1),"\u5148"===e.skill[this.turn-1]&&(this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[this.turn-1],"\u3011").concat(this.turn,"\u304c\u767a\u52d5\uff01\n"),this.text+="\uff1e".concat(e.playerName,"\u306b\u5148\u5236\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),e.sensei=1,o=1)),this.turn<=t.getSkillsLength()&&("\u7121"===t.skill[this.turn-1]&&(this.text+="".concat(t.playerName,"\u306e\u3010").concat(t.name[this.turn-1],"\u3011").concat(this.turn,"\u304c\u767a\u52d5\uff01\n"),this.text+="\uff1e".concat(t.playerName,"\u306b\u7121\u60f3\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),t.musou=1,t.limited[this.turn-1]=2,o=1),"\u5148"===t.skill[this.turn-1]&&(this.text+="".concat(t.playerName,"\u306e\u3010").concat(t.name[this.turn-1],"\u3011").concat(this.turn,"\u304c\u767a\u52d5\uff01\n"),this.text+="\uff1e".concat(t.playerName,"\u306b\u5148\u5236\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),t.sensei=1,o=1)),1===o&&(this.text+="\n"),this.text+="\u25bc\u5148\u653b\u6c7a\u5b9a\u30d5\u30a7\u30a4\u30ba\n",this.text+="\n";let a,l=0,c=0,u=0,d=0;for(let g=0;g<e.getSkillsLength();g++){if(u=0,d=0,1===e.stan&&0===t.stan){this.text+="\u30b9\u30bf\u30f3\uff01 \u3000\u901f\u5ea6\uff1a\uff0d ",l=-999;break}if(1===e.sensei&&0===t.sensei){this.text+="\u5148\u5236\uff01\u3000 \u3000\u901f\u5ea6\uff1a\uff0d ",l=999;break}if(e.type[g]===Xu.ATTACK&&!(g<e.getSkillsLength()-1&&"\u53cd"===e.skill[g+1])&&("\u96a0"!==e.skill[g]||2*Math.floor(this.turn/2)===this.turn)){if("\u5263"===e.skill[g]){e.damage[g]=0;for(let t=0;t<e.getSkillsLength();t++)e.type[t]!==Xu.ATTACK||t<e.getSkillsLength()-1&&"\u53cd"===e.skill[t+1]||e.damage[g]++;e.speed[g]<0&&(e.speed[g]=0)}g<e.getSkillsLength()-1&&"\u901f"===e.skill[g+1]&&(u+=1),1===e.kakugo&&(u+=2),this.text+="\u3010".concat(e.name[g],"\u3011").concat(g+1,"\u3000\u901f\u5ea6\uff1a").concat(e.speed[g]+u,"\u3000"),l=e.speed[g]+u;break}if(e.type[g]===Xu.BUFF){g<e.getSkillsLength()-1&&"\u901f"===e.skill[g+1]&&(u+=1),this.text+="\u3010".concat(e.name[g],"\u3011").concat(g+1,"\u3000\u901f\u5ea6\uff1a").concat(e.speed[g]+u,"\u3000"),l=e.speed[g]+u;break}if(g===e.getSkillsLength()-1){this.text+="\u30b9\u30ad\u30eb\u306a\u3057 \u901f\u5ea6\uff1a0\u3000",l=0;break}}this.text+="\uff0f".concat(e.playerName,"\n");for(let g=0;g<t.getSkillsLength();g++){if(1===t.stan&&0===e.stan){this.text+="\u30b9\u30bf\u30f3\uff01 \u3000\u901f\u5ea6\uff1a\uff0d ",c=-999;break}if(1===t.sensei&&0===e.sensei){this.text+="\u5148\u5236\uff01 \u3000\u3000\u901f\u5ea6\uff1a\uff0d ",c=999;break}if(t.type[g]===Xu.ATTACK&&!(g<t.getSkillsLength()-1&&"\u53cd"===t.skill[g+1])&&("\u96a0"!==t.skill[g]||2*Math.floor(this.turn/2)===this.turn)){if("\u5263"===t.skill[g]){t.damage[g]=0;for(let n=0;n<t.getSkillsLength();n++)t.type[n]!==Xu.ATTACK||n<e.getSkillsLength()-1&&"\u53cd"===e.skill[n+1]||t.damage[g]++;t.speed[g]<0&&(t.speed[g]=0)}g<t.getSkillsLength()-1&&"\u901f"===t.skill[g+1]&&(d+=1),1===t.kakugo&&(d+=2),this.text+="\u3010".concat(t.name[g],"\u3011").concat(g+1,"\u3000\u901f\u5ea6\uff1a").concat(t.speed[g]+d,"\u3000"),c=t.speed[g]+d;break}if(t.type[g]===Xu.BUFF){g<t.getSkillsLength()-1&&"\u901f"===t.skill[g+1]&&(d+=1),this.text+="\u3010".concat(t.name[g],"\u3011").concat(g+1,"\u3000\u901f\u5ea6\uff1a").concat(t.speed[g]+d,"\u3000"),c=t.speed[g]+d;break}if(g===t.getSkillsLength()-1){this.text+="\u30b9\u30ad\u30eb\u306a\u3057 \u901f\u5ea6\uff1a0\u3000",c=0;break}}if(this.text+="\uff0f".concat(t.playerName,"\n"),this.text+="\n",l>c){if(this.text+="".concat(e.playerName,"\u306e\u5148\u653b\uff01\n"),this.text+="\n",this.text+="\u25bc".concat(e.playerName,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\n"),this.text+="\n",this.rinko(e,t),this.attack(e,t),this.text+="\n",this.effect(e,t)+this.effect(t,e)>=1&&(this.text+="\n"),this.breakup(e)+this.breakup(t)>=1&&(this.text+="\n"),a=this.judge(e,t,2),a>0)return a;if(this.text+="\u25bc".concat(t.playerName,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\n"),this.text+="\n",this.rinko(t,e),this.attack(t,e),this.text+="\n",this.effect(t,e)+this.effect(e,t)>=1&&(this.text+="\n"),this.breakup(t)+this.breakup(e)>=1&&(this.text+="\n"),a=this.judge(e,t,1),a>0)return a}if(l<c){if(this.text+="".concat(t.playerName,"\u306e\u5148\u653b\uff01\n"),this.text+="\n",this.text+="\u25bc".concat(t.playerName,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\n"),this.text+="\n",this.rinko(t,e),this.attack(t,e),this.text+="\n",this.effect(t,e)+this.effect(e,t)>=1&&(this.text+="\n"),this.breakup(t)+this.breakup(e)>=1&&(this.text+="\n"),a=this.judge(e,t,1),a>0)return a;if(this.text+="\u25bc".concat(e.playerName,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\n"),this.text+="\n",this.rinko(e,t),this.attack(e,t),this.text+="\n",this.effect(e,t)+this.effect(t,e)>=1&&(this.text+="\n"),this.breakup(e)+this.breakup(t)>=1&&(this.text+="\n"),a=this.judge(e,t,2),a>0)return a}if(l===c){if(this.text+="".concat(e.playerName,"\u306e\u5148\u653b\uff01\uff08\u901f\u5ea6\u540c\u5024\u306e\u305f\u3081\uff09\n"),this.text+="\n",this.text+="\u25bc".concat(e.playerName,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\n"),this.text+="\n",this.rinko(e,t),this.attack(e,t),this.text+="\n",this.effect(e,t)+this.effect(t,e)>=1&&(this.text+="\n"),this.breakup(e)+this.breakup(t)>=1&&(this.text+="\n"),a=this.judge(e,t,2),a>0)return a;if(this.text+="\u25bc".concat(t.playerName,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\n"),this.text+="\n",this.rinko(t,e),this.attack(t,e),this.text+="\n",this.effect(t,e)+this.effect(e,t)>=1&&(this.text+="\n"),this.breakup(t)+this.breakup(e)>=1&&(this.text+="\n"),a=this.judge(e,t,1),a>0)return a}let h=0,f=0;for(let t=0;t<e.getSkillsLength();t++)if("\u9023"===e.skill[t]){this.text+="\n",this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[t],"\u3011").concat(t+1,"\u304c\u767a\u52d5\uff01\n"),h=1;break}for(let e=0;e<t.getSkillsLength();e++)if("\u9023"===t.skill[e]){this.text+="\n",this.text+="".concat(t.playerName,"\u306e\u3010").concat(t.name[e],"\u3011").concat(e+1,"\u304c\u767a\u52d5\uff01\n"),f=1;break}if(1===h&&(this.text+="\n",this.text+="\u25bc".concat(e.playerName,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\n"),this.text+="\n",this.rinko(e,t),this.attack(e,t),this.text+="\n",this.effect(e,t)+this.effect(t,e)>=1&&(this.text+="\n"),this.breakup(e)+this.breakup(t)>=1&&(this.text+="\n"),a=this.judge(e,t,2),a>0))return a;if(1===f&&(this.text+="\n",this.text+="\u25bc".concat(t.playerName,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\n"),this.text+="\n",this.rinko(t,e),this.attack(t,e),this.text+="\n",this.effect(t,e)+this.effect(e,t)>=1&&(this.text+="\n"),this.breakup(t)+this.breakup(e)>=1&&(this.text+="\n"),a=this.judge(e,t,1),a>0))return a;let p=0;this.text+="\u25bc\u7d42\u4e86\u30d5\u30a7\u30a4\u30ba\n",this.text+="\n";const m=this.text;1===e.musou&&(this.text+="".concat(e.playerName,"\u306e\u7121\u60f3\u304c\u89e3\u9664\u3055\u308c\u305f\uff01\n"),e.musou=0,p=1),1===t.musou&&(this.text+="".concat(t.playerName,"\u306e\u7121\u60f3\u304c\u89e3\u9664\u3055\u308c\u305f\uff01\n"),t.musou=0,p=1),1===e.sensei&&(this.text+="".concat(e.playerName,"\u306e\u5148\u5236\u304c\u89e3\u9664\u3055\u308c\u305f\uff01\n"),e.sensei=0,p=1),1===t.sensei&&(this.text+="".concat(t.playerName,"\u306e\u5148\u5236\u304c\u89e3\u9664\u3055\u308c\u305f\uff01\n"),t.sensei=0,p=1);for(let t=0;t<e.getSkillsLength();t++)1===e.kage[t]&&(e.kage[t]=0,e.scar[t]=1);for(let e=0;e<t.getSkillsLength();e++)1===t.kage[e]&&(t.kage[e]=0,t.scar[e]=1);for(let t=0;t<e.getSkillsLength();t++)2===e.limited[t]&&(e.limited[t]=1,e.scar[t]=1);for(let e=0;e<t.getSkillsLength();e++)2===t.limited[e]&&(t.limited[e]=1,t.scar[e]=1);if(this.breakup(e)+this.breakup(t)>=1&&(p=1),1===e.suijaku)for(let t=0;t<e.getSkillsLength();t++)if(e.type[t]!==Xu.NONE&&"\u7a7a"!==e.skill[t]){this.text+="\u5fd8\u5374\u306e\u52b9\u679c\u3067".concat(e.playerName,"\u306e\u3010").concat(e.name[t],"\u3011").concat(t+1,"\u304c\u3010\u7a7a\u767d\u3011").concat(t+1,"\u306b\u5909\u5316\u3057\u305f\uff01\n"),e.skill[t]="\u7a7a",e.name[t]="\u7a7a\u767d",e.type[t]=Xu.ENCHANT,e.speed[t]=0,e.damage[t]=0,e.scar[t]=0,e.limited[t]=0,p=1;break}if(1===t.suijaku)for(let e=0;e<t.getSkillsLength();e++)if(t.type[e]!==Xu.NONE&&"\u7a7a"!==t.skill[e]){this.text+="\u5fd8\u5374\u306e\u52b9\u679c\u3067".concat(t.playerName,"\u306e\u3010").concat(t.name[e],"\u3011").concat(e+1,"\u304c\u3010\u7a7a\u767d\u3011").concat(e+1,"\u306b\u5909\u5316\u3057\u305f\uff01\n"),t.skill[e]="\u7a7a",t.name[e]="\u7a7a\u767d",t.type[e]=Xu.ENCHANT,t.speed[e]=0,t.damage[e]=0,t.scar[e]=0,t.limited[e]=0,p=1;break}if(this.text===m&&(this.text+="\u306a\u3057\n"),1===p&&(this.text+="\n"),a=this.judge(e,t,3),a>0)return a;this.text+="\n"}return 0}rinko(e,t){for(let n=0;n<e.getSkillsLength();n++)if("\u71d0"===e.skill[n]){this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\u304c\u767a\u52d5\uff01\n"),1===e.stan&&(this.text+="\uff1e".concat(e.playerName,"\u306e\u30b9\u30bf\u30f3\u304c\u89e3\u9664\u3055\u308c\u305f\uff01\n"),e.stan=0),1===e.suijaku&&(this.text+="\uff1e".concat(e.playerName,"\u306e\u5fd8\u5374\u304c\u89e3\u9664\u3055\u308c\u305f\uff01\n"),e.suijaku=0),this.text+="\n";break}}attack(e,t){let n,r,i=0,s=0,o=0,a=0,l=0,c=0,u=0;for(n=0;n<e.getSkillsLength();n++)if("\u88cf"===e.skill[n]){this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\u304c\u767a\u52d5\uff01\n"),this.text+="\n",l=1;break}if(0===l){for(n=0;n<e.getSkillsLength();n++){if(e.type[n]===Xu.ATTACK&&!(n<e.getSkillsLength()-1&&"\u53cd"===e.skill[n+1])&&("\u96a0"!==e.skill[n]||2*Math.floor(this.turn/2)===this.turn)){if(this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\uff01\n"),1===e.limited[n]&&(e.limited[n]=2),"\u5263"===e.skill[n]){for(e.damage[n]=0,r=0;r<e.getSkillsLength();r++)e.type[r]!==Xu.ATTACK||r<e.getSkillsLength()-1&&"\u53cd"===e.skill[r+1]||e.damage[n]++;e.speed[n]<0&&(e.speed[n]=0)}"\u6012"===e.skill[n]&&(e.damage[n]=this.turn),n<e.getSkillsLength()-1&&"\u5f37"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u5f37\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u304c1\u70b9\u4e0a\u6607\uff01\n"),o++),n<e.getSkillsLength()-1&&"\u901f"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u901f\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u901f\u5ea6\u306b+1\uff01\n")),n<e.getSkillsLength()-1&&"\u932c"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u932c\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u8fce\u6483\u30b9\u30ad\u30eb\u306e\u767a\u52d5\u30921\u56de\u306e\u307f\u7121\u52b9\u306b\uff01\n"),e.limited[n+1]=2),n<e.getSkillsLength()-1&&"\u76fe"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u76fe\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u9632\u58c1\u304c2\u3064\u4e0e\u3048\u3089\u308c\u308b\uff01\n"),e.limited[n+1]=2),1===e.kakugo&&(this.text+="\uff1e\u899a\u609f\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u304c1\u70b9\u4e0a\u6607\uff01\u901f\u5ea6\u306b+2\uff01\n",o++),e.gekirin>0&&(this.text+="\uff1e\u9006\u9c57\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u304c".concat(e.gekirin,"\u70b9\u4e0a\u6607\uff01\n"),o+=e.gekirin,e.gekirin=0),1===e.roubai&&(this.text+="\uff1e\u72fc\u72fd\u306e\u52b9\u679c\u3067\u901f\u5ea6\u304c0\u306b\u306a\u3063\u3066\u3044\u308b\uff01\n"),s=e.damage[n]+o;break}if(e.type[n]===Xu.BUFF){this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\uff01\n"),n<e.getSkillsLength()-1&&"\u76fe"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u76fe\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u9632\u58c1\u304c2\u3064\u4e0e\u3048\u3089\u308c\u308b\uff01\n"),e.limited[n+1]=2),1===e.limited[n]&&(e.limited[n]=2);break}if(n===e.getSkillsLength()-1){this.text+="".concat(e.playerName,"\u306e\u3010\u5f31\u6483\u30110\uff01\n"),a=1,s=1;break}}i=n}if(1===l){for(n=e.getSkillsLength()-1;n>=0;n--){if(e.type[n]===Xu.ATTACK&&!(n<e.getSkillsLength()-1&&"\u53cd"===e.skill[n+1])&&("\u96a0"!==e.skill[n]||2*Math.floor(this.turn/2)===this.turn)){if(this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\uff01\n"),1===e.limited[n]&&(e.limited[n]=2),"\u5263"===e.skill[n]){for(e.damage[n]=0,r=0;r<e.getSkillsLength();r++)e.type[r]!==Xu.ATTACK||r<e.getSkillsLength()-1&&"\u53cd"===e.skill[r+1]||e.damage[n]++;e.speed[n]<0&&(e.speed[n]=0)}"\u6012"===e.skill[n]&&(e.damage[n]=this.turn),n<e.getSkillsLength()-1&&"\u5f37"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u5f37\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u304c1\u70b9\u4e0a\u6607\uff01\n"),o++),n<e.getSkillsLength()-1&&"\u901f"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u901f\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u901f\u5ea6\u306b+1\uff01\n")),n<e.getSkillsLength()-1&&"\u932c"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u932c\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u8fce\u6483\u30b9\u30ad\u30eb\u306e\u767a\u52d5\u30921\u56de\u306e\u307f\u7121\u52b9\u306b\uff01\n"),e.limited[n+1]=2),n<e.getSkillsLength()-1&&"\u76fe"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u76fe\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u9632\u58c1\u304c2\u3064\u4e0e\u3048\u3089\u308c\u308b\uff01\n")),1===e.kakugo&&(this.text+="\uff1e\u899a\u609f\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u304c1\u70b9\u4e0a\u6607\uff01\u901f\u5ea6\u306b+2\uff01\n",o++),e.gekirin>0&&(this.text+="\uff1e\u9006\u9c57\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u304c".concat(e.gekirin,"\u70b9\u4e0a\u6607\uff01\n"),o+=e.gekirin,e.gekirin=0),1===e.roubai&&(this.text+="\uff1e\u72fc\u72fd\u306e\u52b9\u679c\u3067\u901f\u5ea6\u304c0\u306b\u306a\u3063\u3066\u3044\u308b\uff01\n"),s=e.damage[n]+o;break}if(e.type[n]===Xu.BUFF){this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\uff01\n"),n<e.getSkillsLength()-1&&"\u76fe"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u76fe\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u9632\u58c1\u304c2\u3064\u4e0e\u3048\u3089\u308c\u308b\uff01\n")),1===e.limited[n]&&(e.limited[n]=2);break}if(0===n){this.text+="".concat(e.playerName,"\u306e\u3010\u5f31\u6483\u30110\uff01\n"),a=1,s=1;break}}i=n}i<e.getSkillsLength()-1&&"\u901f"===e.skill[i+1]&&(u+=1),1===e.kakugo&&(u+=2),c=e.speed[i]+u,1===e.roubai&&(c=0),1===a&&(c=0),s>0&&(this.text+="\uff1e".concat(t.playerName,"\u306b").concat(s,"\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\uff01\uff08\u901f\u5ea6\uff1a").concat(c,"\uff09\n\n"));let d=0,h=0,f=0,p=0;for(let m=0;m<s;m++){if(1===t.musou){this.text+="\uff1e".concat(t.playerName,"\u306f\u7121\u60f3\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u306a\u3044\uff01\n");break}if(t.bouheki>=1){this.text+="\uff1e".concat(t.playerName,"\u306f\u9632\u58c1\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u306a\u3044\uff01\n");const e=Math.ceil(t.bouheki/2);this.text+="\uff1e".concat(t.playerName,"\u306e\u9632\u58c1\u304c").concat(e,"\u500b\u89e3\u9664\u3055\u308c\u305f\uff01\n"),t.bouheki-=e;break}d=0,h=0;for(let e=0;e<t.getSkillsLength();e++){if(t.type[e]!==Xu.NONE&&2!==t.scar[e]){d=e;break}if(e===t.getSkillsLength()-1){h=1;break}}if("\u523a"===e.skill[i]){let e=999,n=-1,r=i+1;for(let i=0;i<t.getSkillsLength();i++)if(t.type[i]!==Xu.NONE&&2!==t.scar[i]){let t=i+1,s=Math.abs(r-t);s<e?(e=s,n=i):s===e&&t>n+1&&(n=i)}-1!==n?d=n:h=1}if(1===h){h=0;break}this.text+="\uff1e".concat(t.playerName,"\u306e\u3010").concat(t.name[d],"\u3011").concat(d+1,"\u306b\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u305f\uff01\n"),t.scar[d]=2;let n=0,r=0;if(t.type[d]===Xu.COUNTER||t.type[d]===Xu.ATTACK&&d<t.getSkillsLength()-1&&"\u53cd"===t.skill[d+1])if(i<e.getSkillsLength()-1&&"\u932c"===e.skill[i+1]&&0===p)this.text+="\uff1e\u3010".concat(e.name[i+1],"\u3011").concat(i+2,"\u306e\u52b9\u679c\u3067").concat(t.playerName,"\u306e\u3010").concat(t.name[d],"\u3011").concat(d+1,"\u306f\u767a\u52d5\u3057\u306a\u3044\uff01\n"),p=1;else{let o=0,l=0;if("\u5263"===t.skill[d]){t.damage[d]=0;for(let e=0;e<t.getSkillsLength();e++)t.type[e]!==Xu.ATTACK||e<t.getSkillsLength()-1&&"\u53cd"===t.skill[e+1]||t.damage[d]++;t.speed[d]<0&&(t.speed[d]=0)}if("\u6012"===t.skill[d]&&(t.damage[d]=this.turn),d<t.getSkillsLength()-1&&"\u901f"===t.skill[d+1]&&(l+=1),1===t.kakugo&&(l+=2),o=t.speed[d]+l,o>=c||1===a){if(f=1,1===t.kakugo&&(this.text+="\uff1e\u899a\u609f\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u304c1\u70b9\u4e0a\u6607\uff01\u901f\u5ea6\u306b+2\uff01\n"),this.text+="\uff1e".concat(t.playerName,"\u306e\u3010").concat(t.name[d],"\u3011").concat(d+1,"\u304c\u767a\u52d5\uff01\uff08\u901f\u5ea6\uff1a").concat(o,"\uff09\n"),1===t.limited[d]&&(t.limited[d]=2),"\u4ea4"===t.skill[d]||"\u5f85"===t.skill[d]||"\u7389"===t.skill[d]||"\u4e00"===t.skill[d]||"\u523a"===t.skill[d]||"\u679c"===t.skill[d]||"\u5263"===t.skill[d]||"\u7d2b"===t.skill[d]||"\u546a"===t.skill[d]||"\u96f7"===t.skill[d]||"\u96a0"===t.skill[d]||"\u6012"===t.skill[d]||"\u5f31"===t.skill[d]){"\u7389"===t.skill[d]&&(t.damage[d]=c);let s=t.damage[d];1===t.kakugo&&(s+=1);for(let o=0;o<s;o++){if(1===e.musou){this.text+="\uff1e\uff1e".concat(e.playerName,"\u306f\u7121\u60f3\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u306a\u3044\uff01\n");break}if(e.bouheki>=1){this.text+="\uff1e\uff1e".concat(e.playerName,"\u306f\u9632\u58c1\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u306a\u3044\uff01\n");const t=Math.ceil(e.bouheki/2);this.text+="\uff1e\uff1e".concat(e.playerName,"\u306e\u9632\u58c1\u304c").concat(t,"\u500b\u89e3\u9664\u3055\u308c\u305f\uff01\n"),e.bouheki-=t;break}n=0,r=0;for(let t=0;t<e.getSkillsLength();t++){if(e.type[t]!==Xu.NONE&&2!==e.scar[t]){n=t;break}if(t===e.getSkillsLength()-1){r=1;break}}if("\u4ea4"===t.skill[d]){if(1===a){this.text+="\uff1e\uff1e".concat(e.playerName,"\u306e\u3010\u5f31\u6483\u30110\u306f\u30c0\u30e1\u30fc\u30b8\u306e\u5bfe\u8c61\u306b\u306a\u3089\u306a\u3044\uff01\n");break}n=i}if("\u523a"===t.skill[d]){let t=999,i=-1,s=d+1;for(let n=0;n<e.getSkillsLength();n++)if(e.type[n]!==Xu.NONE&&2!==e.scar[n]){let e=n+1,r=Math.abs(s-e);r<t?(t=r,i=n):r===t&&e>i+1&&(i=n)}-1!==i?n=i:r=1}if(1===r){r=0;break}this.text+="\uff1e\uff1e".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\u306b\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u305f\uff01\n"),e.scar[n]=2}}"\u6426"===t.skill[d]&&(e.roubai=2),"\u5d29"===t.skill[d]&&(e.stan=2),"\u75ab"===t.skill[d]&&(e.ekibyo=2),"\u7d2b"===t.skill[d]&&(t.stan=2),"\u546a"===t.skill[d]&&(e.suijaku=2),m<s-1&&(this.text+="\uff1e".concat(e.playerName,"\u306e\u3010").concat(e.name[i],"\u3011").concat(i+1,"\u304c\u5f37\u5236\u4e2d\u65ad\u3055\u308c\u305f\uff01\n")),h=1}else this.text+="\uff1e".concat(t.playerName,"\u306e\u3010").concat(t.name[d],"\u3011").concat(d+1,"\u306f\u767a\u52d5\u3057\u306a\u3044\uff01\n")}if(1===h){h=0;break}}for(let m=0;m<e.getSkillsLength();m++)2===e.scar[m]&&(e.scar[m]=1);for(let m=0;m<t.getSkillsLength();m++)2===t.scar[m]&&(t.scar[m]=1);if("\u7d2b"===e.skill[i]&&(e.stan=2),i<e.getSkillsLength()-1&&"\u76fe"===e.skill[i+1]&&(e.tate=2,e.limited[i+1]=2),0===f&&"\u546a"===e.skill[i]&&(t.suijaku=2),"\u899a"===e.skill[i]&&(e.kakugo=2),"\u9632"===e.skill[i]&&(e.bouheki_=2),"\u5c01"===e.skill[i]&&(t.stan=2,t.roubai=2,t.suijaku=2),"\u5f71"===e.skill[i])for(let m=0;m<t.getSkillsLength();m++)if(t.type[m]!==Xu.NONE){for(let e=0;e<t.getSkillsLength();e++)t.skill[e]===t.skill[m]&&(t.kage[e]=2);break}f=0}effect(e,t){let n=0;2===e.kakugo&&(this.text+="".concat(e.playerName,"\u306b\u899a\u609f\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),e.kakugo=1,n=1),2===e.bouheki_&&(this.text+="".concat(e.playerName,"\u306b\u9632\u58c1\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),this.text+="".concat(e.playerName,"\u306b\u9632\u58c1\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),this.text+="".concat(e.playerName,"\u306b\u9632\u58c1\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),e.bouheki+=3,e.bouheki_=0,n=1),2===e.tate&&(this.text+="".concat(e.playerName,"\u306b\u9632\u58c1\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),this.text+="".concat(e.playerName,"\u306b\u9632\u58c1\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),e.bouheki+=2,e.tate=0,n=1),2===e.stan&&(this.text+="".concat(e.playerName,"\u306f\u30b9\u30bf\u30f3\u3092\u53d7\u3051\u305f\uff01\n"),e.stan=1,n=1),2===e.roubai&&(this.text+="".concat(e.playerName,"\u306f\u72fc\u72fd\u3092\u53d7\u3051\u305f\uff01\n"),e.roubai=1,n=1),2===e.suijaku&&(this.text+="".concat(e.playerName,"\u306f\u5fd8\u5374\u3092\u53d7\u3051\u305f\uff01\n"),e.suijaku=1,n=1);for(let r=0;r<t.getSkillsLength();r++)2===t.kage[r]&&(this.text+="".concat(t.playerName,"\u306e\u3010").concat(t.name[r],"\u3011").concat(r+1,"\u306f\u7d42\u4e86\u30d5\u30a7\u30a4\u30ba\u306b\u7834\u58ca\u3055\u308c\u308b\uff01\n"),t.kage[r]=1,n=1);if(2===e.ekibyo){for(let t=0;t<e.getSkillsLength();t++)if(e.type[t]!==Xu.NONE){if(e.limited[t]>=1)break;this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[t],"\u3011").concat(t+1,"\u304c\u3010\u75ab\u75c5\u3011").concat(t+1,"\u306b\u5909\u5316\u3057\u305f\uff01\n"),e.skill[t]="\u75ab",e.name[t]="\u75ab\u75c5",e.type[t]=Xu.COUNTER,e.speed[t]=t+1,e.damage[t]=0,e.limited[t]=0;break}e.ekibyo=0,n=1}return n}breakup(e){let t=0;for(let n=0;n<e.getSkillsLength();n++)1===e.scar[n]&&(e.type[n]!==Xu.ENCHANT&&n<e.getSkillsLength()-1&&"\u786c"===e.skill[n+1]?(this.text+="".concat(e.playerName,"\u306e\u3010\uff0b\u786c\u3011").concat(n+2,"\u306b\u3088\u3063\u3066\u3010").concat(e.name[n],"\u3011").concat(n+1,"\u306e\u7834\u58ca\u304c\u7121\u52b9\u5316\u3055\u308c\u305f\uff01\n"),this.text+="".concat(e.playerName,"\u306e\u3010\uff0b\u786c\u3011").concat(n+2,"\u304c\u7834\u58ca\u3055\u308c\u305f\uff01\n"),e.skill[n+1]="\uff3f",e.name[n+1]="\u3000\u3000",e.type[n+1]=Xu.NONE,e.speed[n+1]=0,e.damage[n+1]=0,e.scar[n+1]=0,e.limited[n+1]=0,e.scar[n]=0):(this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\u304c\u7834\u58ca\u3055\u308c\u305f\uff01\n"),"\u9006"===e.skill[n]&&(this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\u304c\u767a\u52d5\uff01\n"),this.text+="\uff1e".concat(e.playerName,"\u306b\u9006\u9c57\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),e.gekirin++),e.skill[n]="\uff3f",e.name[n]="\u3000\u3000",e.type[n]=Xu.NONE,e.speed[n]=0,e.damage[n]=0,e.scar[n]=0,e.limited[n]=0,e.kage[n]=0),t=1);return t}judge(e,t,n){let r=0,i=0;for(let s=0;s<t.getSkillsLength();s++)t.type[s]!==Xu.NONE&&(r=1);0===r&&(i+=1),r=0;for(let s=0;s<e.getSkillsLength();s++)e.type[s]!==Xu.NONE&&(r=1);if(0===r&&(i+=2),i>0){if(this.text+="\n\u3010\u52dd\u6557\u5224\u5b9a\u3011\n\n",0===Zu.SHORT)for(let t=0;t<e.getSkillsLength();t++)this.text+="\u3010".concat(e.name[t],"\u3011");else for(let t=0;t<e.getSkillsLength();t++)this.text+=e.skill[t];if(this.text+="\uff0f".concat(e.playerName),this.text+="\n",0===Zu.SHORT)for(let e=0;e<t.getSkillsLength();e++)this.text+="\u3010".concat(t.name[e],"\u3011");else for(let e=0;e<t.getSkillsLength();e++)this.text+=t.skill[e];this.text+="\uff0f".concat(t.playerName),this.text+="\n\n"}return 3===i&&(i=1===n?2:2===n?1:3),1===i?(this.text+="".concat(e.playerName,"\u306e\u52dd\u5229\uff01\n\n"),this.text+="=============================================\n",1):2===i?(this.text+="".concat(t.playerName,"\u306e\u52dd\u5229\uff01\n\n"),this.text+="=============================================\n",2):3===i?(this.text+="\u5f15\u304d\u5206\u3051\n\n",this.text+="=============================================\n",3):0}}Zu.SHORT=0;class ed{constructor(e,t){this.player1=void 0,this.player2=void 0,this.battle=void 0,this.gameLog="",this.winner=0,this.player1=new Xu(e+"\uff0f\u30d7\u30ec\u30a4\u30e4\u30fc"),this.player2=new Xu(t+"\uff0f\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf"),this.player1.shuffleSkills(),this.player2.shuffleSkills(),this.battle=new Zu(this.player1.skillsRaw+"\uff0f"+this.player1.playerName,this.player2.skillsRaw+"\uff0f"+this.player2.playerName)}startGame(){const e=this.battle.start();return this.gameLog=this.battle.text,this.winner=e,this.winner}chooseAISkill(){const e=[],t=[];for(let n=0;n<this.player2.getSkillsCount();n++)this.player2.type[n]!==Xu.NONE&&0===this.player2.scar[n]&&(this.player2.type[n]===Xu.ATTACK?e.push(n):t.push(n));if(e.length>0){return e[Math.floor(Math.random()*e.length)]}if(t.length>0){return t[Math.floor(Math.random()*t.length)]}return-1}}const td=[{abbr:"\u4e00",name:"\u4e00\u9583",icon:"/images/skill/a01.gif",type:"\u653b\u6483",speed:"LV",description:"\u76f8\u624b\u306b1\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u523a",name:"\u523a\u7a81",icon:"/images/skill/a02.gif",type:"\u653b\u6483",speed:"1",description:"\u76f8\u624b\u306b1\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\n\u30c0\u30e1\u30fc\u30b8\u306e\u5bfe\u8c61\u306f\u3001\u3053\u306e\u30b9\u30ad\u30eb\u3068\u6700\u3082LV\u304c\u8fd1\u3044\u30b9\u30ad\u30eb\uff08\u3088\u308a\u9ad8\u3044LV\u3092\u512a\u5148\uff09\u306b\u5909\u66f4\u3055\u308c\u308b\u3002"},{abbr:"\u679c",name:"\u679c\u65ad",icon:"/images/skill/a03.gif",type:"\u653b\u6483",speed:"1",description:"\u76f8\u624b\u306bLV\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u5263",name:"\u5263\u821e",icon:"/images/skill/a04.gif",type:"\u653b\u6483",speed:"LV-1",description:"\u76f8\u624b\u306bX\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\nX\u306f\u3001\u3042\u306a\u305f\u304c\u6240\u6301\u3057\u3066\u3044\u308b\u653b\u6483\u30b9\u30ad\u30eb\u306e\u6570\u3067\u3042\u308b\u3002"},{abbr:"\u7d2b",name:"\u7d2b\u96fb",icon:"/images/skill/a05.gif",type:"\u653b\u6483",speed:"LV+2",description:"\u76f8\u624b\u306b1\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\n\u3042\u306a\u305f\u306b\u72b6\u614b\u300c\u30b9\u30bf\u30f3\u300d\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u546a",name:"\u546a\u8a5b",icon:"/images/skill/a06.gif",type:"\u653b\u6483",speed:"1",description:"\u76f8\u624b\u306b1\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\u76f8\u624b\u306b\u72b6\u614b\u300c\u5fd8\u5374\u300d\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u96f7",name:"\u96f7\u706b",icon:"/images/skill/a07.gif",type:"\u653b\u6483\uff08\u30ea\u30df\u30c6\u30c3\u30c9\uff09",speed:"LV",description:"\u76f8\u624b\u306b2\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u96a0",name:"\u96a0\u5203",icon:"/images/skill/a08.gif",type:"\u653b\u6483",speed:"LV",description:"\u76f8\u624b\u306b2\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\n\u3053\u306e\u30b9\u30ad\u30eb\u306f\u5947\u6570\u30e9\u30a6\u30f3\u30c9\u306e\u6642\u3001\u5148\u653b\u6c7a\u5b9a\u30d5\u30a7\u30a4\u30ba\u3067\u901f\u5ea6\u3092\u6bd4\u8f03\u3059\u308b\u30b9\u30ad\u30eb\u306e\u5bfe\u8c61\u306b\u306a\u3089\u305a\u3001\u307e\u305f\u3001\u653b\u6483\u30d5\u30a7\u30a4\u30ba\u3067\u4f7f\u7528\u3059\u308b\u30b9\u30ad\u30eb\u306b\u3082\u9078\u629e\u3055\u308c\u306a\u3044\u3002"},{abbr:"\u6012",name:"\u6012\u6fe4",icon:"/images/skill/a09.gif",type:"\u653b\u6483",speed:"LV-2\uff08\u6700\u4f4e0\uff09",description:"\u76f8\u624b\u306bX\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\nX\u306f\u3001\u73fe\u5728\u306e\u30e9\u30a6\u30f3\u30c9\u6570\u3067\u3042\u308b\u3002"},{abbr:"\u5f31",name:"\u5f31\u6483",icon:"/images/skill/a10.gif",type:"\u653b\u6483",speed:"0",description:"\u76f8\u624b\u306b1\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\n\u3042\u306a\u305f\u304c\u653b\u6483\u30fb\u88dc\u52a9\u30b9\u30ad\u30eb\u3092\u6240\u6301\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u653b\u6483\u30d5\u30a7\u30a4\u30ba\u306b\u81ea\u52d5\u7684\u306b\u3053\u306e\u30b9\u30ad\u30eb\u304c\u4f7f\u7528\u3055\u308c\u308b\u3002"},{abbr:"\u899a",name:"\u899a\u609f",icon:"/images/skill/b01.gif",type:"\u88dc\u52a9\uff08\u30ea\u30df\u30c6\u30c3\u30c9\uff09",speed:"LV",description:"\u3042\u306a\u305f\u306b\u72b6\u614b\u300c\u899a\u609f\u300d\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u9632",name:"\u9632\u58c1",icon:"/images/skill/b02.gif",type:"\u88dc\u52a9\uff08\u30ea\u30df\u30c6\u30c3\u30c9\uff09",speed:"LV",description:"\u3042\u306a\u305f\u306b\u72b6\u614b\u300c\u9632\u58c1\u300d\u30923\u3064\u4e0e\u3048\u308b\u3002"},{abbr:"\u5c01",name:"\u5c01\u5370",icon:"/images/skill/b03.gif",type:"\u88dc\u52a9\uff08\u30ea\u30df\u30c6\u30c3\u30c9\uff09",speed:"LV",description:"\u76f8\u624b\u306b\u72b6\u614b\u300c\u30b9\u30bf\u30f3\u300d\u300c\u72fc\u72fd\u300d\u300c\u5fd8\u5374\u300d\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u5f71",name:"\u5f71\u8a0e",icon:"/images/skill/b04.gif",type:"\u88dc\u52a9",speed:"LV",description:"\u76f8\u624b\u304c\u6240\u6301\u3057\u3066\u3044\u308b\u5148\u982d\u306e\u30b9\u30ad\u30eb\u30921\u3064\u6307\u5b9a\u3059\u308b\u3002\n\u3053\u306e\u30b9\u30ad\u30eb\u3092\u4f7f\u7528\u3057\u305f\u30e9\u30a6\u30f3\u30c9\u306e\u7d42\u4e86\u30d5\u30a7\u30a4\u30ba\u306b\u3001\u76f8\u624b\u304c\u6240\u6301\u3057\u3066\u3044\u308b\u6307\u5b9a\u3057\u305f\u30b9\u30ad\u30eb\u3068\u540c\u540d\u306e\u30b9\u30ad\u30eb\u3092\u5168\u3066\u7834\u58ca\u3059\u308b\u3002"},{abbr:"\u4ea4",name:"\u4ea4\u932f",icon:"/images/skill/c01.gif",type:"\u8fce\u6483",speed:"LV-1",description:"\u76f8\u624b\u306b1\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\n\u30c0\u30e1\u30fc\u30b8\u306e\u5bfe\u8c61\u306f\u3001\u3053\u306e\u30b9\u30ad\u30eb\u306b\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u305f\u653b\u6483\u30b9\u30ad\u30eb\u3067\u3042\u308b\u3002"},{abbr:"\u6426",name:"\u6426\u624b",icon:"/images/skill/c02.gif",type:"\u8fce\u6483",speed:"LV",description:"\u76f8\u624b\u306b\u72b6\u614b\u300c\u72fc\u72fd\u300d\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u5f85",name:"\u5f85\u4f0f",icon:"/images/skill/c03.gif",type:"\u8fce\u6483",speed:"1",description:"\u76f8\u624b\u306b2\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u7389",name:"\u7389\u97ff",icon:"/images/skill/c04.gif",type:"\u8fce\u6483",speed:"LV-1",description:"\u76f8\u624b\u306bX\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\nX\u306f\u3001\u3053\u306e\u30b9\u30ad\u30eb\u306b\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u305f\u653b\u6483\u30b9\u30ad\u30eb\u306e\u901f\u5ea6\uff08\u6700\u4f4e0\uff09\u3067\u3042\u308b\u3002"},{abbr:"\u5d29",name:"\u5d29\u6280",icon:"/images/skill/c05.gif",type:"\u8fce\u6483",speed:"LV",description:"\u76f8\u624b\u306b\u72b6\u614b\u300c\u30b9\u30bf\u30f3\u300d\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u75ab",name:"\u75ab\u75c5",icon:"/images/skill/c06.gif",type:"\u8fce\u6483",speed:"LV",description:"\u76f8\u624b\u306e\u5148\u982d\u306e\u30b9\u30ad\u30eb\u304c\u30ea\u30df\u30c6\u30c3\u30c9\u3067\u306a\u3044\u306a\u3089\u3070\u3001\u305d\u306e\u30b9\u30ad\u30eb\u3092\u3010\u75ab\u75c5\u3011\u306b\u5909\u5316\u3055\u305b\u308b\u3002"},{abbr:"\u5f37",name:"\uff0b\u5f37",icon:"/images/skill/d01.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u3053\u306e\u30b9\u30ad\u30eb\u306e\u76f4\u524d\u306e\u653b\u6483\u30b9\u30ad\u30eb\u304c\u4e0e\u3048\u308b\u30c0\u30e1\u30fc\u30b8\u306f\u5e38\u306b+1\u3055\u308c\u308b\u3002"},{abbr:"\u786c",name:"\uff0b\u786c",icon:"/images/skill/d02.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u3053\u306e\u30b9\u30ad\u30eb\u306e\u76f4\u524d\u306e\u653b\u6483\u30fb\u88dc\u52a9\u30fb\u8fce\u6483\u30b9\u30ad\u30eb\u304c\u7834\u58ca\u3055\u308c\u308b\u76f4\u524d\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\u305d\u306e\u30b9\u30ad\u30eb\u306e\u7834\u58ca\u3092\u7121\u52b9\u306b\u3057\u3001\u4ee3\u308f\u308a\u306b\u3053\u306e\u30b9\u30ad\u30eb\u3092\u7834\u58ca\u3059\u308b\u3002"},{abbr:"\u901f",name:"\uff0b\u901f",icon:"/images/skill/d03.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u3053\u306e\u30b9\u30ad\u30eb\u306e\u76f4\u524d\u306e\u653b\u6483\u30fb\u88dc\u52a9\u30fb\u8fce\u6483\u30b9\u30ad\u30eb\u306e\u901f\u5ea6\u306f\u5e38\u306b+1\u3055\u308c\u308b\u3002"},{abbr:"\u53cd",name:"\uff0b\u53cd",icon:"/images/skill/d04.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u3053\u306e\u30b9\u30ad\u30eb\u306e\u76f4\u524d\u306e\u653b\u6483\u30b9\u30ad\u30eb\u306f\u3001\u5e38\u306b\u8fce\u6483\u30b9\u30ad\u30eb\u3068\u3057\u3066\u6271\u308f\u308c\u308b\u3002"},{abbr:"\u76fe",name:"\uff0b\u76fe",icon:"/images/skill/d05.gif",type:"\u4ed8\u5e2f\uff08\u30ea\u30df\u30c6\u30c3\u30c9\uff09",speed:"\u306a\u3057",description:"\u3053\u306e\u30b9\u30ad\u30eb\u306e\u76f4\u524d\u306e\u653b\u6483\u30fb\u88dc\u52a9\u30b9\u30ad\u30eb\u3092\u4f7f\u7528\u3059\u308b\u76f4\u524d\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\n\u305d\u306e\u30b9\u30ad\u30eb\u306e\u52b9\u679c\u306b\u300c\u3042\u306a\u305f\u306b\u72b6\u614b\u300c\u9632\u58c1\u300d\u30922\u3064\u4e0e\u3048\u308b\u3002\u300d\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\u3053\u306e\u52b9\u679c\u306f\u3001\u653b\u6483\u30fb\u88dc\u52a9\u30b9\u30ad\u30eb\u306b\u3088\u308b\u300c\u30c0\u30e1\u30fc\u30b8\u4ee5\u5916\u306e\u52b9\u679c\u300d\u3068\u3057\u3066\u6271\u3046\u3002"},{abbr:"\u932c",name:"\uff0b\u932c",icon:"/images/skill/d06.gif",type:"\u4ed8\u5e2f\uff08\u30ea\u30df\u30c6\u30c3\u30c9\uff09",speed:"\u306a\u3057",description:"\u3053\u306e\u30b9\u30ad\u30eb\u306e\u76f4\u524d\u306e\u653b\u6483\u30b9\u30ad\u30eb\u3092\u4f7f\u7528\u3059\u308b\u76f4\u524d\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\n\u305d\u306e\u30b9\u30ad\u30eb\u304c\u767a\u751f\u3055\u305b\u305f\u30c0\u30e1\u30fc\u30b8\u306b\u3088\u308b\u8fce\u6483\u30b9\u30ad\u30eb\u306e\u767a\u52d5\u30921\u56de\u306e\u307f\u7121\u52b9\u306b\u3059\u308b\u3002\n\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u305f\u8fce\u6483\u30b9\u30ad\u30eb\u304c\u767a\u52d5\u6761\u4ef6\u3092\u6e80\u305f\u3057\u3066\u3044\u306a\u304f\u3066\u3082\u3001\u3053\u306e\u52b9\u679c\u306f\u9069\u7528\u3055\u308c\u308b\u3002"},{abbr:"\u9006",name:"\u9006\u9c57",icon:"/images/skill/d07.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u3053\u306e\u30b9\u30ad\u30eb\u304c\u7834\u58ca\u3055\u308c\u305f\u76f4\u5f8c\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\n\u3042\u306a\u305f\u306b\u72b6\u614b\u300c\u9006\u9c57\u300d\u30921\u3064\u4e0e\u3048\u308b\u3002"},{abbr:"\u7121",name:"\u7121\u60f3",icon:"/images/skill/d08.gif",type:"\u4ed8\u5e2f\uff08\u30ea\u30df\u30c6\u30c3\u30c9\uff09",speed:"\u306a\u3057",description:"\u7b2cLV\u30e9\u30a6\u30f3\u30c9\u306e\u958b\u59cb\u30d5\u30a7\u30a4\u30ba\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\n\u3042\u306a\u305f\u306b\u72b6\u614b\u300c\u7121\u60f3\u300d\u3092\u4e0e\u3048\u308b\u3002\u3053\u306e\u30b9\u30ad\u30eb\u306f1\u3064\u3057\u304b\u9078\u629e\u3067\u304d\u306a\u3044\u3002"},{abbr:"\u88cf",name:"\u88cf\u971e",icon:"/images/skill/d09.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u3042\u306a\u305f\u304c\u4f7f\u7528\u3059\u308b\u653b\u6483\u30fb\u88dc\u52a9\u30b9\u30ad\u30eb\u3092\u9078\u629e\u3059\u308b\u76f4\u524d\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\n\u3042\u306a\u305f\u304c\u4f7f\u7528\u3059\u308b\u653b\u6483\u30fb\u88dc\u52a9\u30b9\u30ad\u30eb\u306f\u3001\u3042\u306a\u305f\u304c\u6240\u6301\u3057\u3066\u3044\u308b\u6700\u5f8c\u5c3e\u306e\u30b9\u30ad\u30eb\u304c\u9078\u629e\u3055\u308c\u308b\u3002"},{abbr:"\u5148",name:"\u5148\u5236",icon:"/images/skill/d10.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u7b2cLV\u30e9\u30a6\u30f3\u30c9\u306e\u958b\u59cb\u30d5\u30a7\u30a4\u30ba\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\u3042\u306a\u305f\u306b\u72b6\u614b\u300c\u5148\u5236\u300d\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u9023",name:"\u9023\u6483",icon:"/images/skill/d11.gif",type:"\u4ed8\u5e2f\uff08\u30ea\u30df\u30c6\u30c3\u30c9\uff09",speed:"\u306a\u3057",description:"\u5404\u30e9\u30a6\u30f3\u30c9\u306e\u7d42\u4e86\u30d5\u30a7\u30a4\u30ba\u76f4\u524d\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\u3042\u306a\u305f\u306f\u653b\u6483\u30d5\u30a7\u30a4\u30ba\u3092\u3082\u3046\u4e00\u5ea6\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3002"},{abbr:"\u71d0",name:"\u71d0\u5149",icon:"/images/skill/d12.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u3042\u306a\u305f\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\u958b\u59cb\u76f4\u5f8c\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\u3042\u306a\u305f\u304c\u53d7\u3051\u3066\u3044\u308b\u60aa\u3044\u72b6\u614b\u3092\u5168\u3066\u89e3\u9664\u3059\u308b\u3002"},{abbr:"\u7a7a",name:"\u7a7a\u767d",icon:"/images/skill/d13.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u4f55\u306e\u52b9\u679c\u3082\u6301\u305f\u306a\u3044\u3002"}],nd=e=>td.find(t=>t.abbr===e),rd=[{name:"\u899a\u609f",description:"\u300c\u899a\u609f\u300d\u3092\u53d7\u3051\u3066\u3044\u308b\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306e\u6240\u6301\u3059\u308b\u653b\u6483\u30fb\u8fce\u6483\u30b9\u30ad\u30eb\u306f\u5e38\u306b\u4e0e\u3048\u308b\u30c0\u30e1\u30fc\u30b8\u306b+1\u3001\u901f\u5ea6\u306b+2\u3055\u308c\u308b\u3002"},{name:"\u9632\u58c1",description:"\u653b\u6483\u30b9\u30ad\u30eb\u306b\u3088\u308b\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u6642\u3001\u4ed8\u4e0e\u3055\u308c\u305f\u534a\u5206(\u7aef\u6570\u5207\u308a\u4e0a\u3052)\u3092\u89e3\u9664\u3057\u3066\u305d\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u5168\u3066\u7121\u52b9\u306b\u3059\u308b\u3002\u30c0\u30e1\u30fc\u30b8\u4ee5\u5916\u306e\u52b9\u679c\u306f\u901a\u5e38\u901a\u308a\u53d7\u3051\u308b\u3002"},{name:"\u9006\u9c57",description:"\u6240\u6301\u3059\u308b\u653b\u6483\u30b9\u30ad\u30eb\u304c\u4e0e\u3048\u308b\u30c0\u30e1\u30fc\u30b8\u306b+1\u3055\u308c\u308b\u3002\u8907\u6570\u53d7\u3051\u3066\u3044\u308b\u5834\u5408\u3001\u52b9\u679c\u306f\u91cd\u8907\u3059\u308b\u3002\u3010\u5f31\u6483\u3011\u4ee5\u5916\u306e\u653b\u6483\u30b9\u30ad\u30eb\u3092\u4f7f\u7528\u3057\u305f\u76f4\u5f8c\u306b\u89e3\u9664\u3055\u308c\u308b\u3002"},{name:"\u7121\u60f3",description:"\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u6642\u3001\u305d\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u5168\u3066\u7121\u52b9\u306b\u3059\u308b\u3002\u30c0\u30e1\u30fc\u30b8\u4ee5\u5916\u306e\u52b9\u679c\u306f\u901a\u5e38\u901a\u308a\u53d7\u3051\u308b\u3002\u6bce\u30e9\u30a6\u30f3\u30c9\u306e\u7d42\u4e86\u30d5\u30a7\u30a4\u30ba\u306b\u89e3\u9664\u3055\u308c\u308b\u3002"},{name:"\u5148\u5236",description:"\u5148\u653b\u6c7a\u5b9a\u30d5\u30a7\u30a4\u30ba\u306b\u304a\u3044\u3066\u5e38\u306b\u5148\u653b\u3068\u306a\u308b\u3002\u4e21\u8005\u304c\u53d7\u3051\u3066\u3044\u308b\u5834\u5408\u306f\u901f\u5ea6\u6bd4\u8f03\u3068\u306a\u308b\u3002\u6bce\u30e9\u30a6\u30f3\u30c9\u306e\u7d42\u4e86\u30d5\u30a7\u30a4\u30ba\u306b\u89e3\u9664\u3055\u308c\u308b\u3002"},{name:"\u30b9\u30bf\u30f3",description:"\u5148\u653b\u6c7a\u5b9a\u30d5\u30a7\u30a4\u30ba\u306b\u304a\u3044\u3066\u5e38\u306b\u5f8c\u653b\u3068\u306a\u308b\u3002\u4ed6\u306e\u3042\u3089\u3086\u308b\u901f\u5ea6\u5909\u5316\u52b9\u679c\u306b\u5bfe\u3057\u3066\u512a\u5148\u3055\u308c\u308b\u3002"},{name:"\u72fc\u72fd",description:"\u6240\u6301\u3059\u308b\u653b\u6483\u30b9\u30ad\u30eb\u306e\u901f\u5ea6\u306f\u3001\u653b\u6483\u30d5\u30a7\u30a4\u30ba\u306b\u304a\u3044\u3066\u5e38\u306b0\u3068\u3057\u3066\u6271\u308f\u308c\u308b\u3002\u4ed6\u306e\u3042\u3089\u3086\u308b\u901f\u5ea6\u5909\u5316\u52b9\u679c\u306b\u5bfe\u3057\u3066\u512a\u5148\u3055\u308c\u308b\u3002"},{name:"\u5fd8\u5374",description:"\u6bce\u30e9\u30a6\u30f3\u30c9\u306e\u7d42\u4e86\u30d5\u30a7\u30a4\u30ba\u306b\u3001\u81ea\u8eab\u304c\u6240\u6301\u3057\u3066\u3044\u308b\u3010\u7a7a\u767d\u3011\u3092\u9664\u304f\u5148\u982d\u306e\u30b9\u30ad\u30eb\u304c\u3010\u7a7a\u767d\u3011\u306b\u5909\u5316\u3059\u308b\u3002"}],id=[{no:1,name:"\u751f\u304d\u6b8b\u308d\u3046",bossName:"\u51f6\u66b4\u306a\u30b5\u30eb",bossImage:"/images/monster/1.png",bossDescription:"\u6b6f\u3092\u30ab\u30c1\u30ab\u30c1\u3057\u3066\u5a01\u5687\u3057\u3066\u3044\u308b\u3002\u6016\u3044\u3002",shopSkills:["\u4e00\u9583","\u523a\u7a81","\u5f85\u4f0f"],bossSkillAbbrs:"\u7a7a\u4e00\u523a\u4e00\u523a"},{no:2,name:"\u98df\u6599\u3092\u63a2\u305d\u3046",bossName:"\u30aa\u30aa\u30b5\u30bd\u30ea",bossImage:"/images/monster/2.png",bossDescription:"\u98df\u3079\u3089\u308c\u306a\u3044\u2026\u2026\u3002",shopSkills:["\u5d29\u6280","\u679c\u65ad"],bossSkillAbbrs:"\u5d29\u5d29\u5f85\u523a\u523a"},{no:3,name:"\u72e9\u308a\u3092\u3057\u3088\u3046",bossName:"\u8089\u539a\u306a\u99ac",bossImage:"/images/monster/3.png",bossDescription:"\u304a\u3044\u3057\u305d\u3046\uff01\uff01\u3059\u3054\u3044\uff01\uff01\u304a\u3044\u3057\u305d\u3046\uff01\uff01",shopSkills:["\u6426\u624b","\uff0b\u901f"],bossSkillAbbrs:"\u6426\u5f85\u5f85\u679c\u901f"},{no:4,name:"\u5bb6\u3092\u4f5c\u308d\u3046",bossName:"\u30b3\u30ce\u30ad\u30ca\u30f3\u30ce\u30ad",bossImage:"/images/monster/4.png",bossDescription:"\u898b\u305f\u3053\u3068\u3082\u306a\u3044\u304c\u7531\u7dd2\u304c\u3042\u308a\u305d\u3046\u3060\u3002",shopSkills:["\u9632\u58c1","\uff0b\u786c","\uff0b\u76fe"],bossSkillAbbrs:"\u7a7a\u7a7a\u523a\u786c\u7a7a\u7a7a\u523a\u786c"},{no:5,name:"\u5bb6\u304c\u58ca\u308c\u305f",bossName:"\u30b4\u30ea\u30e9\u30de\u30b9\u30bf\u30fc",bossImage:"/images/monster/5.png",bossDescription:"\u6d1e\u7a9f\u306e\u4e3b\u3002\u4ec1\u7fa9\u306a\u304d\u6226\u3044\u3060\u3002",shopSkills:["\u5263\u821e","\u4ea4\u932f","\uff0b\u5f37"],bossSkillAbbrs:"\u5d29\u5f85\u9632\u679c\u901f"},{no:6,name:"\u9b5a\u3092\u7372\u308d\u3046",bossName:"\u8089\u539a\u306a\u9b5a",bossImage:"/images/monster/6.png",bossDescription:"\u4ef2\u9593\u3068\u98df\u3079\u308b\u9b5a\u306f\u7d76\u5bfe\u306b\u304a\u3044\u3057\u3044\u3002",shopSkills:["\u6012\u6fe4","\u88cf\u971e","\uff0b\u53cd"],bossSkillAbbrs:"\u6426\u6426\u679c\u53cd\u4e00\u5f37"},{no:7,name:"\u9b54\u7363\u306e\u8972\u6483",bossName:"\u30ea\u30b6\u30fc\u30c9\u30ed\u30fc\u30c9",bossImage:"/images/monster/7.png",bossDescription:"\u60aa\u5922\u306b\u3088\u3046\u3053\u305d\u3002",shopSkills:["\u546a\u8a5b","\u75ab\u75c5","\u96a0\u5203"],bossSkillAbbrs:"\u4ea4\u4e00\u88cf\u4e00\u88cf\u5263"},{no:8,name:"\u71c3\u3048\u308b\u6d77\u5cb8",bossName:"\u7d76\u671b\u306e\u30ad\u30de\u30a4\u30e9",bossImage:"/images/monster/8.png",bossDescription:"\u7d76\u5bfe\u306b\u8ca0\u3051\u3089\u308c\u306a\u3044\u3002\u3042\u306a\u305f\u306f\u5263\u3092\u53d6\u308b\u3002",shopSkills:["\u5148\u5236","\u9006\u9c57","\u899a\u609f"],bossSkillAbbrs:"\u75ab\u786c\u6426\u786c\u523a\u6012\u901f"},{no:9,name:"\u7121\u4eba\u5cf6\u5730\u4e0b\u937e\u4e73\u6d1e",bossName:"\u72ec\u88c1\u8005\u306e\u5ead\u5712",bossImage:"/images/monster/9.png",bossDescription:"\u6bba\u622e\u5175\u5668\u306f\u90aa\u60aa\u306b\u5fae\u7b11\u3080\u3002",shopSkills:["\u96f7\u706b","\u5c01\u5370","\u9023\u6483"],bossSkillAbbrs:"\u5148\u5f85\u5f85\u5c01\u9023\u96f7\u96f7"},{no:10,name:"\u5cf6\u306e\u79d8\u5bc6",bossName:"\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u30c0\u30b9\u30c8",bossImage:"/images/monster/10.png",bossDescription:"\u5f31\u70b9\u306a\u3093\u3066\u5206\u304b\u3089\u306a\u3044\u3088\u3002",shopSkills:["\u7d2b\u96fb","\u5f71\u8a0e","\u7389\u97ff"],bossSkillAbbrs:"\u9006\u9006\u9006"},{no:11,name:"\u5b87\u591a",bossName:"\u5263\u7363",bossImage:"/images/monster/11.png",bossDescription:"\u304b\u3064\u3066\u5263\u306b\u5168\u3066\u3092\u6367\u3052\u305f\u8005\u9054\u304c\u3044\u305f\u3002",shopSkills:["\uff0b\u932c","\u7121\u60f3","\u71d0\u5149"],bossSkillAbbrs:"\u7121\u899a\u4ea4\u679c\u53cd\u7389\u9023\u7d2b\u76fe"},{no:12,name:"\u751f\u304d\u6b8b\u308d\u3046",bossName:"\u30a2\u30ce\u30de",bossImage:"/images/monster/12.png",bossDescription:"\u300c\u30cf\u30cf\u30cf\u30cf\u30cf\u30cf\u30cf\u30cf\u30cf\u30cf\u30cf\u30cf\u30cf\uff01\uff01\uff01\u300d",shopSkills:[],bossSkillAbbrs:"\u5f71\u5f71\u786c\u9006\u71d0\u96f7\u53cd\u4ea4\u786c\u4e00"}],sd=e=>{const t=new Set;for(let n=0;n<e;n++)id[n]&&id[n].shopSkills.forEach(e=>t.add(e));return td.filter(e=>t.has(e.name)||"\u4e00\u9583"===e.name)};var od=n(579);const ad=e=>{let{user:t,myProfile:n,allProfiles:i,lastActiveProfiles:s,kenjuBoss:o,onGoogleSignIn:a,onEmailSignUp:l,onEmailSignIn:c,onSignOut:u,onUpdateProfile:d,onKenjuBattle:h,onBack:f,onViewProfile:p,stageMode:m,setStageMode:g,viewingProfile:y,allSkills:v,getSkillByAbbr:b}=e;const _=(new Date).toLocaleDateString(),[k,w]=r.useState(""),[S,x]=r.useState(""),[C,E]=r.useState(!1);if("LOUNGE"===m){var I;const e=null!==(I=(null===n||void 0===n?void 0:n.lastKenjuDate)===_?null===n||void 0===n?void 0:n.kenjuLife:5)&&void 0!==I?I:5;return(0,od.jsxs)("div",{className:"AppContainer",style:{backgroundColor:"#000",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",overflowY:"auto"},children:[(0,od.jsx)("h1",{style:{color:"#4fc3f7"},children:"LOUNGE"}),t?(0,od.jsxs)("div",{style:{width:"100%",maxWidth:"800px"},children:[(0,od.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[(0,od.jsx)("button",{onClick:()=>g("MYPAGE"),style:{padding:"10px 20px",background:"#2196f3",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u30de\u30a4\u30da\u30fc\u30b8"}),(0,od.jsx)("button",{onClick:u,style:{padding:"10px 20px",background:"#f44336",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8"})]}),o&&(0,od.jsxs)("div",{style:{background:"#2c0a0a",padding:"20px",borderRadius:"15px",border:"2px solid #ff5252",marginBottom:"30px",textAlign:"center"},children:[(0,od.jsxs)("h2",{style:{color:"#ff5252",margin:"0 0 10px 0"},children:["\u672c\u65e5\u306e\u5263\u7363: ",o.name]}),(0,od.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"20px",flexWrap:"wrap"},children:[(0,od.jsx)("img",{src:"/shiden"+o.image,alt:o.name,style:{width:"120px"}}),(0,od.jsxs)("div",{style:{textAlign:"left"},children:[(0,od.jsxs)("div",{style:{color:"#fff",marginBottom:"5px"},children:["\u6b8b\u308a\u6311\u6226\u56de\u6570: ",e," / 5"]}),(0,od.jsx)("button",{className:"TitleButton neon-gold",onClick:h,style:{padding:"10px 30px",fontSize:"1rem"},children:"\u5263\u7363\u6226\u306b\u6311\u3080"})]})]})]}),(0,od.jsx)("h2",{style:{color:"#ffd700"},children:"\u5192\u967a\u8005\u305f\u3061"}),(0,od.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px"},children:i.map(e=>{const t=!!s[e.uid];return(0,od.jsxs)("div",{onClick:()=>p(e),style:{background:"#1a1a1a",padding:"15px",borderRadius:"10px",border:t?"2px solid #4fc3f7":"1px solid #444",cursor:"pointer",position:"relative"},children:[t&&(0,od.jsx)("div",{style:{position:"absolute",top:"10px",right:"10px",width:"10px",height:"10px",backgroundColor:"#4caf50",borderRadius:"50%",boxShadow:"0 0 5px #4caf50"},title:"\u30aa\u30f3\u30e9\u30a4\u30f3"}),(0,od.jsx)("img",{src:e.photoURL||"https://via.placeholder.com/50",alt:e.displayName,style:{width:"50px",height:"50px",borderRadius:"50%",marginBottom:"10px"}}),(0,od.jsx)("div",{style:{fontWeight:"bold"},children:e.displayName}),(0,od.jsx)("div",{style:{fontSize:"0.8rem",color:"#aaa"},children:e.comment})]},e.uid)})})]}):(0,od.jsxs)("div",{style:{background:"#1a1a1a",padding:"30px",borderRadius:"15px",border:"2px solid #4fc3f7",textAlign:"center",width:"100%",maxWidth:"400px"},children:[(0,od.jsx)("h2",{style:{color:"#fff"},children:C?"\u65b0\u898f\u767b\u9332":"\u30b5\u30a4\u30f3\u30a4\u30f3"}),(0,od.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,od.jsx)("input",{type:"email",placeholder:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",value:k,onChange:e=>w(e.target.value),style:{width:"100%",padding:"10px",marginBottom:"10px",background:"#333",color:"#fff",border:"1px solid #444",borderRadius:"5px",boxSizing:"border-box"}}),(0,od.jsx)("input",{type:"password",placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9",value:S,onChange:e=>x(e.target.value),style:{width:"100%",padding:"10px",marginBottom:"10px",background:"#333",color:"#fff",border:"1px solid #444",borderRadius:"5px",boxSizing:"border-box"}}),C?(0,od.jsx)("button",{className:"TitleButton neon-blue",onClick:()=>l(k,S),style:{width:"100%",marginBottom:"10px"},children:"\u767b\u9332\u30fb\u78ba\u8a8d\u30e1\u30fc\u30eb\u9001\u4fe1"}):(0,od.jsx)("button",{className:"TitleButton neon-blue",onClick:()=>c(k,S),style:{width:"100%",marginBottom:"10px"},children:"\u30b5\u30a4\u30f3\u30a4\u30f3"}),(0,od.jsx)("button",{onClick:()=>E(!C),style:{background:"none",border:"none",color:"#4fc3f7",cursor:"pointer",textDecoration:"underline"},children:C?"\u65e2\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u306e\u65b9":"\u65b0\u3057\u304f\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b"})]}),(0,od.jsx)("div",{style:{borderTop:"1px solid #444",paddingTop:"20px"},children:(0,od.jsx)("button",{className:"TitleButton neon-gold",onClick:a,style:{width:"100%"},children:"Google\u3067\u30b5\u30a4\u30f3\u30a4\u30f3"})})]}),(0,od.jsx)("button",{onClick:f,style:{marginTop:"30px",marginBottom:"30px",padding:"15px 40px",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"5px",cursor:"pointer",fontSize:"1.1rem"},children:"\u623b\u308b"})]})}if("MYPAGE"===m&&n)return(0,od.jsxs)("div",{className:"AppContainer",style:{backgroundColor:"#000",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",overflowY:"auto"},children:[(0,od.jsx)("h1",{style:{color:"#4fc3f7"},children:"MY PAGE"}),(0,od.jsxs)("div",{style:{background:"#1a1a1a",padding:"30px",borderRadius:"15px",border:"2px solid #2196f3",width:"100%",maxWidth:"500px"},children:[(0,od.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[(0,od.jsx)("img",{src:n.photoURL||"https://via.placeholder.com/80",alt:n.displayName,style:{width:"80px",height:"80px",borderRadius:"50%",marginRight:"20px"}}),(0,od.jsxs)("div",{style:{flex:1},children:[(0,od.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"0.8rem",color:"#aaa"},children:"\u540d\u524d"}),(0,od.jsx)("input",{type:"text",value:n.displayName,onChange:e=>d(e.target.value,n.favoriteSkill,n.comment),style:{width:"100%",padding:"10px",background:"#333",color:"#fff",border:"1px solid #444",borderRadius:"5px",boxSizing:"border-box"}})]})]}),(0,od.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,od.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"\u597d\u304d\u306a\u30b9\u30ad\u30eb"}),(0,od.jsx)("select",{value:n.favoriteSkill,onChange:e=>d(n.displayName,e.target.value,n.comment),style:{width:"100%",padding:"10px",background:"#333",color:"#fff",border:"1px solid #444",borderRadius:"5px"},children:v.map(e=>(0,od.jsx)("option",{value:e.abbr,children:e.name},e.abbr))})]}),(0,od.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,od.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"\u4e00\u8a00 (10\u6587\u5b57\u4ee5\u5185)"}),(0,od.jsx)("input",{type:"text",maxLength:10,value:n.comment,onChange:e=>d(n.displayName,n.favoriteSkill,e.target.value),style:{width:"100%",padding:"10px",background:"#333",color:"#fff",border:"1px solid #444",borderRadius:"5px",boxSizing:"border-box"}})]}),(0,od.jsxs)("div",{style:{color:"#ffd700",fontWeight:"bold",textAlign:"center",marginBottom:"20px",fontSize:"1.2rem"},children:["\u73fe\u5728\u306e\u30dd\u30a4\u30f3\u30c8: ",n.points||0," pt"]}),(0,od.jsx)("p",{style:{fontSize:"0.8rem",color:"#888",textAlign:"center"},children:"\u203b\u5165\u529b\u3059\u308b\u3068\u81ea\u52d5\u3067\u4fdd\u5b58\u3055\u308c\u307e\u3059"})]}),(0,od.jsx)("button",{onClick:()=>g("LOUNGE"),style:{marginTop:"30px",padding:"10px 30px",background:"#333",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u623b\u308b"})]});if("PROFILE"===m&&y){const e=b(y.favoriteSkill);return(0,od.jsxs)("div",{className:"AppContainer",style:{backgroundColor:"#000",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",overflowY:"auto"},children:[(0,od.jsx)("h1",{style:{color:"#ffd700"},children:"PROFILE"}),(0,od.jsxs)("div",{style:{background:"#1a1a1a",padding:"30px",borderRadius:"15px",border:"2px solid #ffd700",width:"100%",maxWidth:"500px",textAlign:"center"},children:[(0,od.jsx)("img",{src:y.photoURL||"https://via.placeholder.com/100",alt:y.displayName,style:{width:"100px",height:"100px",borderRadius:"50%",marginBottom:"20px"}}),(0,od.jsx)("h2",{style:{margin:"0 0 10px 0"},children:y.displayName}),(0,od.jsxs)("p",{style:{color:"#ffd700",fontWeight:"bold",fontSize:"1.2rem"},children:[y.points||0," pt"]}),(0,od.jsxs)("p",{style:{color:"#aaa",fontStyle:"italic",marginBottom:"30px"},children:['"',y.comment,'"']}),(0,od.jsxs)("div",{style:{textAlign:"left",background:"#222",padding:"15px",borderRadius:"10px"},children:[(0,od.jsx)("h3",{style:{fontSize:"1rem",color:"#ffd700",marginTop:0},children:"\u304a\u6c17\u306b\u5165\u308a\u30b9\u30ad\u30eb"}),e&&(0,od.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,od.jsx)("img",{src:"/shiden"+e.icon,alt:e.name,style:{width:"40px"}}),(0,od.jsx)("span",{children:e.name})]})]})]}),(0,od.jsx)("button",{onClick:()=>g("LOUNGE"),style:{marginTop:"30px",padding:"10px 30px",background:"#333",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u623b\u308b"})]})}if("RANKING"===m){const e=[...i].sort((e,t)=>(t.points||0)-(e.points||0));return(0,od.jsxs)("div",{className:"AppContainer",style:{backgroundColor:"#000",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",overflowY:"auto"},children:[(0,od.jsx)("h1",{style:{color:"#ffd700"},children:"RANKING"}),(0,od.jsx)("div",{style:{width:"100%",maxWidth:"600px",background:"#1a1a1a",borderRadius:"15px",border:"2px solid #ffd700",overflow:"hidden"},children:e.map((e,t)=>(0,od.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:"15px",borderBottom:"1px solid #333",background:t<3?"rgba(255, 215, 0, 0.1)":"transparent"},children:[(0,od.jsx)("div",{style:{width:"40px",fontSize:"1.2rem",fontWeight:"bold",color:0===t?"#ffd700":1===t?"#c0c0c0":2===t?"#cd7f32":"#888"},children:t+1}),(0,od.jsx)("img",{src:e.photoURL||"https://via.placeholder.com/40",alt:"",style:{width:"40px",height:"40px",borderRadius:"50%",marginRight:"15px"}}),(0,od.jsx)("div",{style:{flex:1,fontWeight:"bold"},children:e.displayName}),(0,od.jsxs)("div",{style:{color:"#ffd700",fontWeight:"bold"},children:[e.points||0," pt"]})]},e.uid))}),(0,od.jsx)("button",{onClick:f,style:{marginTop:"30px",marginBottom:"30px",padding:"15px 40px",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"5px",cursor:"pointer",fontSize:"1.1rem"},children:"\u623b\u308b"})]})}return null},ld=e=>{let{onClose:t}=e;const[n,i]=(0,r.useState)(0);return(0,od.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.85)",zIndex:2e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",boxSizing:"border-box"},children:(0,od.jsxs)("div",{style:{width:"100%",maxWidth:"900px",height:"600px",backgroundColor:"#1a1a1a",border:"2px solid #4fc3f7",borderRadius:"15px",display:"flex",overflow:"hidden",position:"relative",boxShadow:"0 0 30px rgba(79, 195, 247, 0.3)"},children:[(0,od.jsxs)("div",{style:{width:"200px",backgroundColor:"#111",borderRight:"1px solid #333",display:"flex",flexDirection:"column",flexShrink:0},children:[(0,od.jsx)("div",{style:{padding:"20px",fontWeight:"bold",color:"#4fc3f7",borderBottom:"1px solid #333",textAlign:"center"},children:"RULE BOOK"}),(0,od.jsx)("div",{style:{flex:1,overflowY:"auto"},children:["\u3069\u3093\u306a\u30b2\u30fc\u30e0\uff1f","\u30b9\u30ad\u30eb\u7d39\u4ecb","\u6226\u95d8\u306e\u6d41\u308c","\u52dd\u6557\u5224\u5b9a","\u30c0\u30e1\u30fc\u30b8\u306e\u51e6\u7406","\u30b9\u30ad\u30eb\u7a2e\u5225","\u72b6\u614b\u306b\u3064\u3044\u3066","\u8457\u4f5c\u6a29\u8868\u8a18"].map((e,t)=>(0,od.jsx)("div",{onClick:()=>i(t),style:{padding:"15px 20px",cursor:"pointer",fontSize:"0.9rem",backgroundColor:n===t?"rgba(79, 195, 247, 0.1)":"transparent",color:n===t?"#4fc3f7":"#ccc",borderLeft:n===t?"4px solid #4fc3f7":"4px solid transparent",transition:"all 0.2s"},children:e},t))})]}),(0,od.jsxs)("div",{style:{flex:1,padding:"30px",position:"relative",overflowY:"hidden",display:"flex",flexDirection:"column"},children:[(0,od.jsx)("button",{onClick:t,style:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",color:"#888",fontSize:"24px",cursor:"pointer"},children:"\xd7"}),(0,od.jsx)("div",{style:{flex:1,overflowY:"auto"},children:(()=>{switch(n){case 0:return(0,od.jsxs)("div",{className:"rule-content-section",children:[(0,od.jsx)("h2",{children:"\u3069\u3093\u306a\u30b2\u30fc\u30e0\uff1f"}),(0,od.jsx)("div",{style:{textAlign:"center",marginBottom:"20px"},children:(0,od.jsx)("div",{style:{background:"#333",padding:"20px",borderRadius:"10px",border:"1px dashed #666",color:"#888"},children:"[ \u30b5\u30f3\u30d7\u30eb\u753b\u50cf\u30b9\u30da\u30fc\u30b9 ]"})}),(0,od.jsx)("p",{style:{fontSize:"1.2rem",color:"#ffeb3b",fontWeight:"bold"},children:"\u30b9\u30ad\u30eb\u3067\u653b\u6483\uff01\u76f8\u624b\u306e\u30b9\u30ad\u30eb\u3092\u7834\u58ca\u3057\u308d\uff01"}),(0,od.jsx)("p",{children:"\u30d7\u30ec\u30a4\u30e4\u30fc\u3068\u6575\u306f\u305d\u308c\u305e\u308c\u30b9\u30ad\u30eb\u3092\u88c5\u5099\u3057\u3066\u6226\u3044\u307e\u3059\u3002\u653b\u6483\u30b9\u30ad\u30eb\u306b\u3088\u3063\u3066\u76f8\u624b\u306e\u30b9\u30ad\u30eb\u3092\u4e00\u3064\u305a\u3064\u7834\u58ca\u3057\u3066\u3044\u304d\u307e\u3059\u3002"}),(0,od.jsx)("p",{style:{fontSize:"1.2rem",color:"#ffeb3b",fontWeight:"bold"},children:"\u9045\u3044\u653b\u6483\u306b\u306f\u8fce\u6483\u30b9\u30ad\u30eb\uff01\u30c0\u30e1\u30fc\u30b8\u3092\u8efd\u6e1b\u3067\u304d\u308b\uff01"}),(0,od.jsx)("p",{children:"\u76f8\u624b\u306e\u653b\u6483\u3088\u308a\u3082\u901f\u3044\u300c\u8fce\u6483\u300d\u30b9\u30ad\u30eb\u3092\u767a\u52d5\u3055\u305b\u308b\u3053\u3068\u3067\u3001\u53d7\u3051\u308b\u30c0\u30e1\u30fc\u30b8\u3092\u7121\u52b9\u5316\u3057\u305f\u308a\u3001\u53cd\u6483\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"}),(0,od.jsx)("p",{style:{fontSize:"1.2rem",color:"#ffeb3b",fontWeight:"bold"},children:"\u30b9\u30ad\u30eb\u3092\u5168\u90e8\u7834\u58ca\u3057\u305f\u65b9\u304c\u52dd\u3061\uff01"}),(0,od.jsx)("p",{children:"\u76f8\u624b\u306e\u88c5\u5099\u3057\u3066\u3044\u308b\u5168\u3066\u306e\u30b9\u30ad\u30eb\u3092\u7834\u58ca\u3057\u3001\u6226\u95d8\u4e0d\u80fd\u306b\u8ffd\u3044\u8fbc\u3093\u3060\u65b9\u306e\u52dd\u5229\u3068\u306a\u308a\u307e\u3059\u3002"})]});case 1:return(0,od.jsxs)("div",{className:"rule-content-section",children:[(0,od.jsx)("h2",{children:"\u30b9\u30ad\u30eb\u7d39\u4ecb"}),(0,od.jsx)("div",{style:{height:"400px",overflowY:"auto",paddingRight:"10px"},children:td.map(e=>(0,od.jsxs)("div",{style:{marginBottom:"20px",padding:"15px",background:"rgba(255,255,255,0.05)",borderRadius:"8px",borderLeft:"4px solid #4fc3f7"},children:[(0,od.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"10px"},children:[(0,od.jsx)("img",{src:"/shiden"+e.icon,alt:"",style:{width:"40px",height:"40px"}}),(0,od.jsxs)("div",{children:[(0,od.jsx)("div",{style:{fontWeight:"bold",fontSize:"1.1rem",color:"#4fc3f7"},children:e.name}),(0,od.jsxs)("div",{style:{fontSize:"0.8rem",color:"#aaa"},children:[e.type," / \u901f\u5ea6: ",e.speed]})]})]}),(0,od.jsx)("div",{style:{fontSize:"0.9rem",lineHeight:"1.4"},children:e.description.replace("\u7684\u5272","\u523a\u7a81").replace("\u7a7a\u865a","\u7a7a\u767d").replace("\u8870\u5f31","\u5fd8\u5374")})]},e.abbr))})]});case 2:return(0,od.jsxs)("div",{className:"rule-content-section",children:[(0,od.jsx)("h2",{children:"\u6226\u95d8\u306e\u6d41\u308c"}),(0,od.jsxs)("ol",{style:{lineHeight:"2"},children:[(0,od.jsxs)("li",{children:[(0,od.jsx)("strong",{style:{color:"#4fc3f7"},children:"\u6e96\u5099\u30d5\u30a7\u30a4\u30ba\uff1a"})," \u304a\u4e92\u3044\u306b\u30b9\u30ad\u30eb\u3092\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002"]}),(0,od.jsxs)("li",{children:[(0,od.jsx)("strong",{style:{color:"#4fc3f7"},children:"\u767a\u52d5\u30d5\u30a7\u30a4\u30ba\uff1a"})," \u30bb\u30c3\u30c8\u3055\u308c\u305f\u30b9\u30ad\u30eb\u306e\u3046\u3061\u3001\u88dc\u52a9\u30b9\u30ad\u30eb\u306a\u3069\u304c\u767a\u52d5\u3057\u307e\u3059\u3002"]}),(0,od.jsxs)("li",{children:[(0,od.jsx)("strong",{style:{color:"#4fc3f7"},children:"\u653b\u6483\u30d5\u30a7\u30a4\u30ba\uff1a"})," \u901f\u5ea6\u306e\u901f\u3044\u9806\u306b\u653b\u6483\u3092\u884c\u3044\u307e\u3059\u3002",(0,od.jsx)("ul",{style:{fontSize:"0.9rem",color:"#ccc"},children:(0,od.jsxs)("li",{children:["\u901f\u5ea6\u304c\u540c\u3058\u5834\u5408\u306f\u3001\u5e38\u306b",(0,od.jsx)("span",{style:{color:"#ffeb3b"},children:"\u30d7\u30ec\u30a4\u30e4\u30fc\u304c\u5148\u653b"}),"\u3068\u306a\u308a\u307e\u3059\u3002"]})})]}),(0,od.jsxs)("li",{children:[(0,od.jsx)("strong",{style:{color:"#4fc3f7"},children:"\u30a8\u30f3\u30c9\u30d5\u30a7\u30a4\u30ba\uff1a"})," \u30e9\u30a6\u30f3\u30c9\u304c\u7d42\u4e86\u3057\u3001\u6b21\u306e\u30e9\u30a6\u30f3\u30c9\u3078\u79fb\u884c\u3057\u307e\u3059\u3002"]})]})]});case 3:return(0,od.jsxs)("div",{className:"rule-content-section",children:[(0,od.jsx)("h2",{children:"\u52dd\u6557\u5224\u5b9a"}),(0,od.jsx)("p",{children:"\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u52dd\u6557\u304c\u6c7a\u307e\u308a\u307e\u3059\uff1a"}),(0,od.jsxs)("ul",{style:{lineHeight:"2"},children:[(0,od.jsxs)("li",{children:[(0,od.jsx)("strong",{style:{color:"#66bb6a"},children:"\u52dd\u5229\uff1a"})," \u76f8\u624b\u306e\u5168\u30b9\u30ad\u30eb\u3092\u7834\u58ca\u3059\u308b\u3002"]}),(0,od.jsxs)("li",{children:[(0,od.jsx)("strong",{style:{color:"#ef5350"},children:"\u6557\u5317\uff1a"})," \u81ea\u5206\u306e\u5168\u30b9\u30ad\u30eb\u304c\u7834\u58ca\u3055\u308c\u308b\u3002"]}),(0,od.jsxs)("li",{children:[(0,od.jsx)("strong",{style:{color:"#aaa"},children:"\u5f15\u304d\u5206\u3051\uff1a"})," \u898f\u5b9a\u30e9\u30a6\u30f3\u30c9\uff08\u6700\u592710\u30e9\u30a6\u30f3\u30c9\uff09\u7d42\u4e86\u6642\u306b\u304a\u4e92\u3044\u306e\u30b9\u30ad\u30eb\u304c\u6b8b\u3063\u3066\u3044\u308b\u3001\u307e\u305f\u306f\u540c\u6642\u306b\u5168\u7834\u58ca\u3055\u308c\u305f\u5834\u5408\u3002"]})]})]});case 4:return(0,od.jsxs)("div",{className:"rule-content-section",children:[(0,od.jsx)("h2",{children:"\u30c0\u30e1\u30fc\u30b8\u306e\u51e6\u7406"}),(0,od.jsxs)("p",{children:["\u672c\u4f5c\u3067\u306f",(0,od.jsx)("span",{style:{color:"#ef5350",fontWeight:"bold"},children:"\u300c\u540c\u6642\u884c\u52d5\u30d5\u30a7\u30a4\u30ba\u300d\u306f\u5b58\u5728\u3057\u307e\u305b\u3093"}),"\u3002"]}),(0,od.jsx)("p",{children:"\u5168\u3066\u306e\u884c\u52d5\u306f\u901f\u5ea6\u9806\u306b\u51e6\u7406\u3055\u308c\u307e\u3059\u3002\u901f\u5ea6\u304c\u540c\u4e00\u306e\u5834\u5408\u306f\u30d7\u30ec\u30a4\u30e4\u30fc\u304c\u512a\u5148\u3055\u308c\u307e\u3059\u3002"}),(0,od.jsx)("div",{style:{marginTop:"20px",padding:"15px",background:"rgba(255,82,82,0.1)",borderRadius:"8px",border:"1px solid #ff5252"},children:"\u653b\u6483\u304c\u30d2\u30c3\u30c8\u3059\u308b\u3068\u3001\u5bfe\u8c61\u306e\u30b9\u30ad\u30eb\u306e\u8010\u4e45\u5024\u304c\u6e1b\u5c11\u3057\u307e\u3059\u3002\u8010\u4e45\u5024\u304c0\u306b\u306a\u3063\u305f\u30b9\u30ad\u30eb\u306f\u300c\u7834\u58ca\u300d\u3055\u308c\u3001\u4f7f\u7528\u4e0d\u80fd\u306b\u306a\u308a\u307e\u3059\u3002"})]});case 5:return(0,od.jsxs)("div",{className:"rule-content-section",children:[(0,od.jsx)("h2",{children:"\u30b9\u30ad\u30eb\u7a2e\u5225"}),(0,od.jsxs)("div",{style:{display:"grid",gap:"15px"},children:[(0,od.jsxs)("div",{style:{padding:"10px",background:"rgba(255,255,255,0.05)",borderRadius:"5px"},children:[(0,od.jsx)("strong",{style:{color:"#ef5350"},children:"\u3010\u653b\u6483\u3011\uff1a"})," \u76f8\u624b\u3092\u653b\u6483\u3057\u3001\u30b9\u30ad\u30eb\u3092\u7834\u58ca\u3059\u308b\u3053\u3068\u3092\u76ee\u7684\u3068\u3057\u305f\u30b9\u30ad\u30eb\u3002"]}),(0,od.jsxs)("div",{style:{padding:"10px",background:"rgba(255,255,255,0.05)",borderRadius:"5px"},children:[(0,od.jsx)("strong",{style:{color:"#66bb6a"},children:"\u3010\u8fce\u6483\u3011\uff1a"})," \u76f8\u624b\u306e\u653b\u6483\u306b\u5408\u308f\u305b\u3066\u767a\u52d5\u3057\u3001\u30c0\u30e1\u30fc\u30b8\u3092\u8efd\u6e1b\u3057\u305f\u308a\u3001\u7121\u52b9\u5316\u30fb\u53cd\u6483\u3057\u305f\u308a\u3059\u308b\u30b9\u30ad\u30eb\u3002"]}),(0,od.jsxs)("div",{style:{padding:"10px",background:"rgba(255,255,255,0.05)",borderRadius:"5px"},children:[(0,od.jsx)("strong",{style:{color:"#4fc3f7"},children:"\u3010\u88dc\u52a9\u3011\uff1a"})," \u81ea\u5206\u306e\u80fd\u529b\u3092\u9ad8\u3081\u305f\u308a\u3001\u7279\u6b8a\u306a\u52b9\u679c\u3092\u53ca\u307c\u3059\u30b9\u30ad\u30eb\u3002"]})]})]});case 6:return(0,od.jsxs)("div",{className:"rule-content-section",children:[(0,od.jsx)("h2",{children:"\u72b6\u614b\u306b\u3064\u3044\u3066"}),(0,od.jsx)("div",{style:{height:"400px",overflowY:"auto"},children:rd.map(e=>(0,od.jsxs)("div",{style:{marginBottom:"15px",padding:"10px",background:"rgba(255,255,255,0.05)",borderRadius:"5px"},children:[(0,od.jsxs)("strong",{style:{color:"#ffeb3b"},children:[e.name.replace("\u8870\u5f31","\u5fd8\u5374"),"\uff1a"]}),(0,od.jsx)("span",{style:{fontSize:"0.9rem"},children:e.description.replace("\u7684\u5272","\u523a\u7a81").replace("\u7a7a\u865a","\u7a7a\u767d").replace("\u8870\u5f31","\u5fd8\u5374")})]},e.name))})]});case 7:return(0,od.jsxs)("div",{className:"rule-content-section",children:[(0,od.jsx)("h2",{children:"\u8457\u4f5c\u6a29\u8868\u8a18"}),(0,od.jsxs)("div",{style:{textAlign:"center",marginTop:"50px"},children:[(0,od.jsx)("p",{children:"\xa9 2026 Shiden-Game Project"}),(0,od.jsx)("p",{children:"All Rights Reserved."}),(0,od.jsx)("p",{style:{fontSize:"0.8rem",color:"#888",marginTop:"30px"},children:"\u672c\u30a2\u30d7\u30ea\u306b\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u753b\u50cf\u3001\u97f3\u58f0\u7b49\u306e\u4e8c\u6b21\u914d\u5e03\u3092\u7981\u3058\u307e\u3059\u3002"})]})]});default:return null}})()})]})]})})},cd=e=>{var t;let{skill:n,isSelected:i,onClick:s,id:o,isConnected:a,isDimmed:l,disableTooltip:u,iconMode:d}=e;const[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),g=(0,r.useRef)(null),[y,v]=(0,r.useState)("center");(0,r.useEffect)(()=>{if(h&&g.current){const e=g.current.getBoundingClientRect(),t=window.innerWidth,n=20,r=220;e.left<r/2+n?v("left"):t-e.right<r/2+n?v("right"):v("center")}},[h]);return(0,od.jsxs)("div",{id:o,ref:g,className:(a?"synergy-active ":"")+"skill-card",onClick:()=>{s&&s(n.abbr)},onMouseEnter:()=>!u&&f(!0),onMouseLeave:()=>!u&&f(!1),style:{border:a?"3px solid #ffeb3b":l?"3px solid #333":i?"3px solid gold":"1px solid #444",borderRadius:"8px",padding:"10px",margin:"5px",cursor:s?"pointer":"default",backgroundColor:a?"#4a4a00":i?"#333300":"#1a1a1a",color:l?"#666":"#eee",display:"flex",flexDirection:"column",alignItems:"center",boxShadow:a?"0 0 20px #ffeb3b, inset 0 0 15px #ffeb3b":l?"none":i?"0 0 10px rgba(255,215,0,0.7)":"0 2px 4px rgba(0,0,0,0.3)",position:"relative",transition:"all 0.3s ease",filter:l?"grayscale(80%)":"none",opacity:l?.7:1},children:[(()=>{if("ABBR"===d)return(0,od.jsx)("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#333",border:"1px solid #666",borderRadius:"4px",fontSize:"18px",fontWeight:"bold",color:"#fff",filter:l?"grayscale(100%)":"none"},children:n.abbr});if("PHONE"===d){const e=td.map(e=>e.abbr).indexOf(n.abbr);let t="";return t=e>=0&&e<=9?e.toString():e>=10&&e<=35?String.fromCharCode(e-10+65):"?",(0,od.jsx)("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1a1a1a",border:"2px solid #4fc3f7",borderRadius:"50%",fontSize:"20px",fontWeight:"bold",color:"#4fc3f7",boxShadow:"0 0 5px #4fc3f7",filter:l?"grayscale(100%)":"none"},children:t})}return(0,od.jsx)("img",{src:"/shiden"+n.icon,alt:n.name,className:"skill-icon",style:{filter:l?"grayscale(100%)":"drop-shadow(0 0 2px rgba(255,255,255,0.2))"}})})(),(0,od.jsx)("span",{className:"skill-name",children:n.name}),h&&(0,od.jsxs)("div",{style:(()=>{const e={position:"absolute",bottom:"105%",backgroundColor:"rgba(30, 30, 30, 0.95)",color:"white",padding:"12px",borderRadius:"8px",whiteSpace:"normal",zIndex:2e3,textAlign:"left",boxShadow:"0 4px 15px rgba(0,0,0,0.5)",minWidth:"220px",maxWidth:"300px",pointerEvents:"auto",fontSize:"12px",lineHeight:"1.4",border:"1px solid #555"};return c(c({},e),{},"left"===y?{left:"0",transform:"none"}:"right"===y?{right:"0",transform:"none"}:{left:"50%",transform:"translateX(-50%)"})})(),onClick:e=>e.stopPropagation(),children:[(0,od.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[(0,od.jsx)("strong",{children:"\u8a73\u7d30\u60c5\u5831"}),(0,od.jsx)("button",{onClick:e=>{e.stopPropagation(),f(!1)},style:{background:"#555",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"10px",padding:"2px 6px"},children:"\u9589\u3058\u308b"})]}),(0,od.jsx)("strong",{children:"\u7a2e\u5225:"})," ",(0,od.jsx)("span",{style:{color:"#61dafb"},children:n.type}),(0,od.jsx)("br",{}),(0,od.jsx)("strong",{children:"\u901f\u5ea6:"})," ",(0,od.jsx)("span",{style:{color:"#61dafb"},children:n.speed}),(0,od.jsx)("br",{}),(e=>{let t=[e];return rd.forEach(e=>{const n=[];t.forEach(t=>{if("string"===typeof t){const r=new RegExp("(".concat(e.name,")"),"g");t.split(r).forEach(t=>{t===e.name?n.push((0,od.jsx)("span",{onMouseEnter:()=>m(e.name),onMouseLeave:()=>m(null),style:{color:"#ffeb3b",textDecoration:"underline",cursor:"help",fontWeight:"bold",pointerEvents:"auto"},children:t},e.name+Math.random())):n.push(t)})}else n.push(t)}),t=n}),t.map((e,t)=>"string"===typeof e?e.split("\n").map((n,i)=>(0,od.jsxs)(r.Fragment,{children:[n,i<e.split("\n").length-1&&(0,od.jsx)("br",{})]},"".concat(t,"-").concat(i))):e)})(n.description),p&&(0,od.jsxs)("div",{style:{position:"absolute",left:window.innerWidth<600?"0":"105%",top:window.innerWidth<600?"105%":0,backgroundColor:"#444",color:"#fff",padding:"10px",borderRadius:"5px",width:window.innerWidth<600?"100%":"200px",boxShadow:"0 2px 10px rgba(0,0,0,0.5)",zIndex:2001,border:"1px solid #ffd700",boxSizing:"border-box"},children:[(0,od.jsxs)("strong",{style:{color:"#ffd700"},children:["\u3010",p,"\u3011"]}),(0,od.jsx)("br",{}),null===(t=rd.find(e=>e.name===p))||void 0===t?void 0:t.description]})]})]})};const ud=function(){var e,t,n,i;const[s,o]=(0,r.useState)(!0),[a,l]=(0,r.useState)(null),[u,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)([]),[y,v]=(0,r.useState)(0),[b,_]=(0,r.useState)(!1),[k,w]=(0,r.useState)(!1),[S,x]=(0,r.useState)(()=>localStorage.getItem("shiden_icon_mode")||"ORIGINAL"),[C,E]=(0,r.useState)(()=>{const e=localStorage.getItem("shiden_bgm_enabled");return null===e||"true"===e}),[I,T]=(0,r.useState)(()=>{const e=localStorage.getItem("shiden_bgm_volume");return null===e?.5:parseFloat(e)}),N=(0,r.useRef)(null),P=(0,r.useRef)(null),[R,A]=(0,r.useState)(!1),[O,L]=(0,r.useState)(!1),[D,M]=(0,r.useState)([]),[j,F]=(0,r.useState)([]),[z,U]=(0,r.useState)([]),[B,W]=(0,r.useState)([]),H=(0,r.useRef)(null),[V,q]=(0,r.useState)(!1),[K,G]=(0,r.useState)(()=>{const e=localStorage.getItem("shiden_owned_skills");return e?JSON.parse(e):["\u4e00"]}),[Y,$]=(0,r.useState)({}),[Q,J]=(0,r.useState)(null),[X,Z]=(0,r.useState)(!1),[ee,te]=(0,r.useState)([]),[ne,re]=(0,r.useState)(!1),[ie,se]=(0,r.useState)(()=>localStorage.getItem("shiden_stage_mode")||"MID"),[oe,le]=(0,r.useState)(()=>{const e=localStorage.getItem("shiden_stage_cycle");return e?parseInt(e,10):1}),[ce,ue]=(0,r.useState)([]),[de,he]=(0,r.useState)(!1),[fe,pe]=(0,r.useState)(!1),[me,ge]=(0,r.useState)([]),[ye,ve]=(0,r.useState)(-1),[be,_e]=(0,r.useState)(null),[ke,we]=(0,r.useState)(!1),[Se,xe]=(0,r.useState)(null),[Ce,Ee]=(0,r.useState)(!1),[Ie,Te]=(0,r.useState)(()=>{const e=localStorage.getItem("shiden_stage_victory_skills");return e?JSON.parse(e):{}}),Ne=e=>e.map(e=>nd(e)).filter(Boolean);(0,r.useEffect)(()=>{if((async()=>{if("MID"!==ie||fe)_e(null);else try{const e=await fetch("".concat("/shiden","/story/").concat(oe,".txt"));if(e.ok){const t=await e.text();_e(t)}}catch(e){console.error("Story fetch error:",e)}})(),!fe){const e=(()=>K.map(e=>nd(e)).filter(Boolean).sort((e,t)=>td.findIndex(t=>t.abbr===e.abbr)-td.findIndex(e=>e.abbr===t.abbr)))();M(e),F([]),ge([]),ve(-1),he(!1)}},[fe,K,oe,ie]),(0,r.useEffect)(()=>{if("BOSS"===ie){const e=id.find(e=>e.no===oe)||id[id.length-1];if(10===oe){const e=nd("\u9006"),t=Ne(j);ue([e,e,e,...t])}else{const t=e.bossSkillAbbrs.split("").map(e=>nd(e)).filter(Boolean);ue(t)}}else ue([])},[ie,oe,j]);const Pe=e=>{j.length<5&&F([...j,e])},Re=e=>{const t=j.indexOf(e);if(t>-1){const e=[...j];e.splice(t,1),F(e)}};(0,r.useEffect)(()=>{localStorage.setItem("shiden_owned_skills",JSON.stringify(K))},[K]),(0,r.useEffect)(()=>{localStorage.setItem("shiden_stage_mode",ie)},[ie]),(0,r.useEffect)(()=>{localStorage.setItem("shiden_bgm_enabled",C.toString()),N.current&&(C?N.current.play().catch(()=>{}):N.current.pause())},[C]),(0,r.useEffect)(()=>{localStorage.setItem("shiden_bgm_volume",I.toString()),N.current&&(N.current.volume=I)},[I]),(0,r.useEffect)(()=>{const e=(()=>{if("BOSS"===ie){if(11===oe)return"/audio/(t)\u6708\u4e0b\u306e\u6b7b\u95d8.MID";if(12===oe)return"/audio/Knight_in_the_wind.MID"}return null})();if(e){(async e=>{const t=window.MidiPlayer,n=window.Soundfont;if(!t||!n)return;P.current&&P.current.stop();const r=new AudioContext,i=await n.instrument(r,"https://raw.githubusercontent.com/gleitz/midi-js-soundfonts/gh-pages/MusyngKite/acoustic_grand_piano-mp3.js"),s=new t.Player(e=>{"Note on"===e.name&&i.play(e.noteName,r.currentTime,{gain:e.velocity/128*I})});try{const t=await fetch(e),n=await t.arrayBuffer();s.loadArrayBuffer(n),s.on("endOfFile",()=>{s.skipToTick(0),s.play()}),P.current=s,C&&s.play()}catch(o){console.error("MIDI Load Error:",o)}})("/shiden"+e).catch(console.error)}else P.current&&(P.current.stop(),P.current=null);return()=>{P.current&&P.current.stop()}},[ie,oe,C,I]);const Ae=async()=>{try{await async function(e,t,n){if(bt(e.app))return Promise.reject(Ca(e,"operation-not-supported-in-this-environment"));const r=Ll(e);Ta(e,t,ac);const i=nu(r,n);return new cu(r,"signInViaPopup",t,i).executeNotNull()}(Qu,Ju),se("MYPAGE"),o(!1)}catch(en){console.error("Google Sign-In Error:",en)}},Oe=async(e,t)=>{try{const n=await async function(e,t,n){if(bt(e.app))return Promise.reject(Ia(e));const r=Ll(e),i=Vl(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fc,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Sc(e),t}),o=await pc._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(Qu,e,t);await xc(n.user),se("VERIFY_EMAIL"),o(!1)}catch(en){alert("\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u30a8\u30e9\u30fc: "+en.message)}},Le=async(e,t)=>{try{const n=await function(e,t,n){return bt(e.app)?Promise.reject(Ia(e)):kc(ae(e),oc.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Sc(e),t})}(Qu,e,t);if(!n.user.emailVerified)return se("VERIFY_EMAIL"),void o(!1);se("LOUNGE"),o(!1)}catch(en){alert("\u30b5\u30a4\u30f3\u30a4\u30f3\u30a8\u30e9\u30fc: "+en.message)}},De=async()=>{try{await function(e){return ae(e).signOut()}(Qu),se("MID"),o(!0)}catch(en){console.error("Sign-Out Error:",en)}},Me=async(e,t,n)=>{if(!a||!u)return;const r=ra($u,"profiles/".concat(a.uid));await sa(r,c(c({},u),{},{displayName:e,favoriteSkill:t,comment:n.substring(0,10),lastActive:Date.now()}))};(0,r.useEffect)(()=>{J((()=>{const e=(new Date).toLocaleDateString();let t=0;for(let i=0;i<e.length;i++)t+=e.charCodeAt(i);const n=e=>(t=(9301*t+49297)%233280,Math.floor(t/233280*e)),r=n(12)+1;return{name:["\u7dcb\u708e\u306e\u5263\u7363","\u84bc\u6c37\u306e\u5263\u7363","\u7fe0\u98a8\u306e\u5263\u7363","\u9ec4\u91d1\u306e\u5263\u7363","\u6f06\u9ed2\u306e\u5263\u7363","\u7d14\u767d\u306e\u5263\u7363","\u5e7b\u5f71\u306e\u5263\u7363","\u96f7\u9cf4\u306e\u5263\u7363","\u525b\u5ca9\u306e\u5263\u7363","\u6df1\u6d77\u306e\u5263\u7363","\u6b21\u5143\u306e\u5263\u7363","\u795e\u4ee3\u306e\u5263\u7363"][r-1],image:"/images/monster/".concat(r,".png"),skills:Array.from({length:5+n(3)},()=>td.filter(e=>"\u7a7a"!==e.abbr)[n(td.filter(e=>"\u7a7a"!==e.abbr).length)])}})())},[]);const je=async()=>{var e;if(!a||!u||!Q)return;const t=(new Date).toLocaleDateString();let n=null!==(e=u.kenjuLife)&&void 0!==e?e:5;if(u.lastKenjuDate!==t&&(n=5),n<=0){if(!window.confirm("\u30e9\u30a4\u30d5\u304c\u8db3\u308a\u307e\u305b\u3093\u3002\u5e83\u544a\u3092\u898b\u3066\u30e9\u30a4\u30d5\u3092\u5fa9\u6d3b\u3055\u305b\u307e\u3059\u304b\uff1f"))return;alert("\u5e83\u544a\u3092\u8996\u8074\u3057\u307e\u3057\u305f\u3002\u30e9\u30a4\u30d5\u304c5\u306b\u56de\u5fa9\u3057\u307e\u3059\u3002"),n=5}const r=ra($u,"profiles/".concat(a.uid));await sa(r,c(c({},u),{},{kenjuLife:n-1,lastKenjuDate:t,lastActive:Date.now()})),se("KENJU"),qe()},Fe=()=>{localStorage.getItem("shiden_stage_cycle")&&!window.confirm("\u9032\u6357\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u3066\u6700\u521d\u304b\u3089\u59cb\u3081\u307e\u3059\u304b\uff1f")||(localStorage.removeItem("shiden_stage_cycle"),localStorage.removeItem("shiden_owned_skills"),localStorage.removeItem("shiden_stage_mode"),localStorage.setItem("shiden_is_title","false"),window.location.reload())},ze=()=>{o(!1)};(0,r.useEffect)(()=>{const e=ra($u,"connections"),t=function(e,t){e=ae(e),fo("push",e._path),ao("push",t,e._path,!0);const n=xo(e._repo),r=$o(n),i=ia(e,r),s=ia(e,r);let o;return o=null!=t?sa(s,t).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(e);ca(ra($u,".info/connected"),e=>{if(!0===e.val()){(function(e){return e=ae(e),new Zo(e._repo,e._path)})(t).remove();const e=()=>{var e;sa(t,{uid:(null===(e=Qu.currentUser)||void 0===e?void 0:e.uid)||null,lastActive:pa})};e();const n=Cc(Qu,e);return()=>n()}}),ca(e,e=>{e.exists()?v(Object.keys(e.val()).length):v(0)});const n=Cc(Qu,e=>{if(l(e),e){!e.emailVerified&&e.providerData.some(e=>"password"===e.providerId)?(se("VERIFY_EMAIL"),o(!1)):"VERIFY_EMAIL"===ie&&se("LOUNGE");const t=ra($u,"profiles/".concat(e.uid));ca(t,n=>{if(n.exists())h(n.val());else{const n={uid:e.uid,displayName:e.displayName||"\u540d\u7121\u3057\u306e\u5263\u58eb",photoURL:e.photoURL||"",favoriteSkill:"\u4e00",comment:"\u3088\u308d\u3057\u304f\uff01",lastActive:Date.now(),points:0,kenjuLife:5,lastKenjuDate:(new Date).toLocaleDateString()};sa(t,n)}})}else h(null)});ca(ra($u,"profiles"),e=>{if(e.exists()){const t=e.val(),n=[...Object.values(t)].sort((e,t)=>t.lastActive-e.lastActive);g(n)}}),ca(e,e=>{if(e.exists()){const t=e.val(),n={};Object.values(t).forEach(e=>{e.uid&&(n[e.uid]=e.lastActive)}),$(n)}}),ge([]),q(!1),he(!1),Ve(!1),F([]);const r=["/shiden/images/background/background.jpg","/shiden/images/title/titlelogo.png"];let i=0;return r.forEach(e=>{const t=new Image;t.src=e,t.onload=()=>{i++,i===r.length&&_(!0)},t.onerror=()=>{i++,i===r.length&&_(!0)}}),()=>{n()}},[]),(0,r.useEffect)(()=>{const e=[],t=[],n=Ne(j);for(let r=0;r<n.length;r++){const i=n[r];if(i.name.startsWith("\uff0b"))if(r>0){const s=n[r-1];let o=!1;o="\uff0b\u786c"===i.name||"\uff0b\u901f"===i.name?s.type.includes("\u653b\u6483")||s.type.includes("\u88dc\u52a9")||s.type.includes("\u8fce\u6483"):s.type.includes("\u653b\u6483"),o?e.push({fromId:"selected-skill-".concat(r-1),toId:"selected-skill-".concat(r)}):t.push(r)}else t.push(r)}U(e),W(t)},[j]);const[Ue,Be]=(0,r.useState)([]);(0,r.useEffect)(()=>{const e=()=>{if(!H.current)return;const e=H.current.getBoundingClientRect(),t=z.map(t=>{const n=document.getElementById(t.fromId),r=document.getElementById(t.toId);if(n&&r){const t=n.getBoundingClientRect(),i=r.getBoundingClientRect();return{x1:t.left+t.width/2-e.left,y1:t.top+t.height/2-e.top,x2:i.left+i.width/2-e.left,y2:i.top+i.height/2-e.top}}return null}).filter(Boolean);Be(t)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[z,j]);const We=()=>{const e=[{x:.8,y:.8},{x:.2,y:.9},{x:.5,y:.95}];[300,500,800].forEach((t,n)=>{setTimeout(()=>{d({particleCount:100,spread:70,origin:e[n],colors:["#ffeb3b","#ffc107","#ff9800","#f44336","#e91e63","#9c27b0","#2196f3","#4caf50"],zIndex:1e4})},t)})},[He,Ve]=(0,r.useState)(!1),qe=()=>{pe(!1),ge([]),ve(-1),he(!1),q(!1)},Ke=()=>{if(ne){if(sd(oe).filter(e=>!K.includes(e.abbr)).length>0)return Z(!0),void re(!1)}se("MID");const e=oe+1;le(e),localStorage.setItem("shiden_stage_cycle",e.toString()),Ve(!1),qe()},Ge=e=>{var t,n,i;let{log:s,onComplete:o,immediate:a,bossImage:l,bossName:u,battleInstance:d}=e;const h=s.split(/(?=\u3010\u7b2c\d+\u30e9\u30a6\u30f3\u30c9\u3011|\u3010\u52dd\u6557\u5224\u5b9a\u3011)/).filter(e=>""!==e.trim()),[f,p]=(0,r.useState)(0),[m,g]=(0,r.useState)(new Array(h.length).fill(0)),[y,v]=(0,r.useState)(new Array(h.length).fill(!1)),[b,_]=(0,r.useState)("idle"),[k,w]=(0,r.useState)((null===d||void 0===d||null===(t=d.pc1)||void 0===t?void 0:t.scar)||[]),[S,x]=(0,r.useState)((null===d||void 0===d||null===(n=d.pc2)||void 0===n?void 0:n.scar)||[]),C=(0,r.useRef)(null),E=(null===(i=h[f])||void 0===i?void 0:i.split("\n").filter(e=>!e.includes("====")&&""!==e.trim()))||[];(0,r.useEffect)(()=>{if(!y[f]){const e=m[f];if(e<E.length){const t=E[e];if(t.includes("\u7834\u58ca\u3055\u308c\u305f"))if(t.includes("\u3042\u306a\u305f\u306e")){const e=t.match(/\u3042\u306a\u305f\u306e\u3010.*?\u3011(\d+)\u304c\u7834\u58ca\u3055\u308c\u305f/);e&&w(t=>{const n=[...t];return n[parseInt(e[1],10)-1]=1,n})}else if(t.includes("".concat(u,"\u306e"))){const e=t.match(new RegExp("".concat(u,"\u306e\u3010.*?\u3011(\\d+)\u304c\u7834\u58ca\u3055\u308c\u305f")));e&&x(t=>{const n=[...t];return n[parseInt(e[1],10)-1]=1,n})}u&&(t.includes("".concat(u,"\u306e\u52dd\u5229"))||t.includes("".concat(u,"\u304c\u7834\u58ca\u3055\u308c\u305f"))?_("defeat"):t.includes("".concat(u,"\u306e\u3010"))&&t.includes("\u304c\u767a\u52d5")?(_("counter"),setTimeout(()=>_("idle"),800)):t.includes("".concat(u,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba"))?(_("attack"),setTimeout(()=>_("idle"),800)):t.includes("".concat(u,"\u306b"))&&t.includes("\u306e\u30c0\u30e1\u30fc\u30b8")&&(_("damage"),setTimeout(()=>_("idle"),800)))}}},[m,f,u,E,y]),(0,r.useEffect)(()=>{var e;if(a)return g(new Array(h.length).fill(100)),v(new Array(h.length).fill(!0)),p(h.length-1),void o();if(null!==(e=h[f])&&void 0!==e&&e.includes("\u52dd\u6557\u5224\u5b9a")){const e=[...m];e[f]=E.length,g(e);const t=[...y];return t[f]=!0,v(t),void o()}if(!y[f]){if(m[f]<E.length){const e=setTimeout(()=>{const e=[...m];e[f]++,g(e)},400);return()=>clearTimeout(e)}{const e=[...y];e[f]=!0,v(e),f===h.length-1&&o()}}},[f,m,y,E,a,h,o]),(0,r.useEffect)(()=>{C.current&&C.current.scrollTo({top:C.current.scrollHeight,behavior:"smooth"})},[m]);const I=(e,t,n)=>{if(!e)return null;const r=e.getSkillsLength(),i=r-t.filter(e=>1===e).length,s=Math.max(0,i/r*100);return(0,od.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",filter:"drop-shadow(0 0 5px rgba(0,0,0,0.8))",width:"80px"},children:[(0,od.jsx)("div",{style:{fontSize:"10px",fontWeight:"bold",marginBottom:"6px",color:"#fff",textShadow:"0 0 4px #000, 1px 1px 2px #000",textAlign:"center",width:"100%",wordBreak:"break-all",height:"2.4em",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"1.2"},children:e.playerName}),(0,od.jsxs)("div",{style:{height:"140px",width:"16px",backgroundColor:"rgba(20,20,20,0.8)",border:"2px solid #fff",borderRadius:"4px",boxSizing:"border-box",boxShadow:"0 0 10px rgba(0,0,0,0.5), inset 0 0 5px rgba(0,0,0,0.8)",position:"relative",overflow:"hidden"},children:[(0,od.jsx)("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"".concat(s,"%"),background:"linear-gradient(to top, ".concat(n,", ").concat(n,"dd)"),transition:"height 0.6s cubic-bezier(0.22, 1, 0.36, 1)",boxShadow:"0 0 15px ".concat(n)}}),(0,od.jsx)("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"".concat(s,"%"),backgroundColor:"#fff",opacity:.3,filter:"blur(2px)",mixBlendMode:"overlay"}})]})]})};return(0,od.jsxs)("div",{style:{position:"relative",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"#000",border:"4px double #fff",borderRadius:"4px",overflow:"hidden"},children:[l&&(0,od.jsxs)("div",{className:"boss-stage-area sticky-boss-area",style:{height:"240px",minHeight:"240px",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:"url(".concat("/shiden","/images/background/").concat(oe,".").concat(8===oe?"png":"jpg",")"),paddingTop:"10px",position:"relative",overflow:"hidden",flexShrink:0},children:[(0,od.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",zIndex:1}}),(0,od.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:.15,backgroundImage:"radial-gradient(circle, #fff 1px, transparent 1px)",backgroundSize:"20px 20px",zIndex:2}}),(0,od.jsxs)("div",{style:{position:"relative",zIndex:5,display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"0 30px",boxSizing:"border-box"},children:[(0,od.jsx)("div",{style:{zIndex:10,position:"relative"},children:d&&I(d.pc2,S,"#ff5252")}),(0,od.jsx)("img",{src:"/shiden"+l,alt:u,className:"boss-battle-image boss-anim-".concat(b).concat([4,8,12].includes(oe)?" is-large":""),style:{position:[4,8,12].includes(oe)?"absolute":"relative",left:[4,8,12].includes(oe)?"50%":"auto",height:[4,8,12].includes(oe)?"235px":"200px",width:[4,8,12].includes(oe)?"100%":"auto",maxWidth:[4,8,12].includes(oe)?"none":"60%",objectFit:"contain",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.9)) drop-shadow(0 0 5px rgba(255,255,255,0.2))",zIndex:5,transform:[4,8,12].includes(oe)?"translateX(-50%)":"none"}}),(0,od.jsx)("div",{style:{zIndex:10,position:"relative"},children:d&&I(d.pc1,k,"#2196f3")})]})]}),(0,od.jsxs)("div",{style:{flex:1,backgroundColor:"rgba(0,0,50,0.9)",borderTop:"2px solid #fff",padding:"10px",display:"flex",flexDirection:"column"},children:[(0,od.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[(0,od.jsx)("button",{disabled:0===f,onClick:()=>{f>0&&p(e=>e-1)},style:{background:"#000",color:"#fff",border:"1px solid #fff"},children:"<"}),(0,od.jsx)("button",{disabled:y[f]&&f===h.length-1,onClick:()=>{if(y[f])f<h.length-1&&p(e=>e+1);else{const e=E;let t=[...k],n=[...S];e.forEach(e=>{if(e.includes("\u7834\u58ca\u3055\u308c\u305f"))if(e.includes("\u3042\u306a\u305f\u306e")){const n=e.match(/\u3042\u306a\u305f\u306e\u3010.*?\u3011(\d+)\u304c\u7834\u58ca\u3055\u308c\u305f/);n&&(t[parseInt(n[1],10)-1]=1)}else if(e.includes("".concat(u,"\u306e"))){const t=e.match(new RegExp("".concat(u,"\u306e\u3010.*?\u3011(\\d+)\u304c\u7834\u58ca\u3055\u308c\u305f")));t&&(n[parseInt(t[1],10)-1]=1)}}),w(t),x(n);const r=[...m];r[f]=E.length,g(r);const i=[...y];i[f]=!0,v(i),f===h.length-1&&o()}},style:{background:"#000",color:"#fff",border:"1px solid #fff"},children:y[f]?">":"SKIP"})]}),(0,od.jsx)("div",{ref:C,className:"rich-log-modern",style:{flex:1,overflowY:"auto"},children:E.slice(0,m[f]).map((e,t)=>{let n={marginBottom:"12px"};if(e.includes("VS")){const[n,r]=e.split("VS");return(0,od.jsxs)("div",{className:"battle-start-header",style:{margin:"30px 0",textAlign:"center",background:"linear-gradient(90deg, transparent, rgba(255,82,82,0.2), transparent)",padding:"20px 0",borderTop:"2px solid #ff5252",borderBottom:"2px solid #ff5252",position:"relative",overflow:"hidden"},children:[(0,od.jsx)("div",{style:{fontSize:"1.2rem",color:"#aaa",marginBottom:"10px"},children:"BATTLE START"}),(0,od.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"20px",flexWrap:"nowrap"},children:[(0,od.jsx)("span",{className:"battle-start-player-name",style:{fontSize:"1.8rem",fontWeight:"bold",color:"#fff",textShadow:"0 0 10px rgba(255,255,255,0.5)",whiteSpace:"nowrap"},children:n.trim()}),(0,od.jsx)("span",{className:"battle-start-vs",style:{fontSize:"2.5rem",fontWeight:"black",color:"#ff5252",fontStyle:"italic"},children:"VS"}),(0,od.jsx)("span",{className:"battle-start-enemy-name",style:{fontSize:"1.8rem",fontWeight:"bold",color:"#ff5252",textShadow:"0 0 10px rgba(255,82,82,0.5)",whiteSpace:"nowrap"},children:r.trim()})]})]},t)}return e.includes("\u6226\u95d8\u958b\u59cb")?(0,od.jsx)("div",{style:{textAlign:"center",fontSize:"1.5rem",fontWeight:"bold",color:"#ffd54f",margin:"20px 0"},children:e.replace(/[-\u2015=]/g,"").trim()},t):(e.includes("\u30e9\u30a6\u30f3\u30c9")||e.includes("\u52dd\u6557\u5224\u5b9a")?n=c(c({},n),{},{color:"#61dafb",fontSize:"1.2em",borderBottom:"1px solid #333"}):e.includes("\u30d5\u30a7\u30a4\u30ba")?n=c(c({},n),{},{color:"#81c784",fontWeight:"bold"}):e.includes("\u30c0\u30e1\u30fc\u30b8")||e.includes("\u7834\u58ca")?n=c(c({},n),{},{color:"#ff5252",paddingLeft:"10px",borderLeft:"2px solid #ff5252"}):(e.includes("\u767a\u52d5")||e.includes("\u52b9\u679c"))&&(n=c(c({},n),{},{color:"#ffd54f",fontStyle:"italic"})),(0,od.jsx)("div",{className:"log-line",style:n,children:e},t))})})]})]})},Ye=id.find(e=>e.no===oe)||id[id.length-1];if((0,r.useEffect)(()=>{if(fe&&me.length>0){const e=me.filter(e=>1===e.winner).length;if(("BOSS"===ie||"KENJU"===ie?e>=1:10===e)&&(Te(e=>{const t=c(c({},e),{},{["".concat(ie,"_").concat(oe)]:j});return localStorage.setItem("shiden_stage_victory_skills",JSON.stringify(t)),t}),"BOSS"===ie&&V&&(Ve(!0),We()),"KENJU"===ie&&V&&(We(),a&&u))){sa(ra($u,"profiles/".concat(a.uid)),c(c({},u),{},{points:(u.points||0)+100,lastActive:Date.now()})),alert("\u5263\u7363\u306b\u52dd\u5229\u3057\u307e\u3057\u305f\uff01100pt\u7372\u5f97\uff01"),se("LOUNGE")}}},[fe,ie,me,oe,j,V,a,u]),"VERIFY_EMAIL"===ie)return(0,od.jsxs)("div",{className:"AppContainer",style:{backgroundColor:"#000",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",textAlign:"center"},children:[(0,od.jsx)("h1",{style:{color:"#4fc3f7"},children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u78ba\u8a8d"}),(0,od.jsxs)("div",{style:{background:"#1a1a1a",padding:"30px",borderRadius:"15px",border:"2px solid #4fc3f7",maxWidth:"500px"},children:[(0,od.jsx)("p",{children:"\u78ba\u8a8d\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3002\u30e1\u30fc\u30eb\u5185\u306e\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6709\u52b9\u5316\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),(0,od.jsx)("p",{style:{fontSize:"0.8rem",color:"#888",marginTop:"20px"},children:"\u203b\u8a8d\u8a3c\u5b8c\u4e86\u5f8c\u3001\u518d\u5ea6\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),(0,od.jsx)("button",{className:"TitleButton neon-blue",onClick:()=>De(),style:{marginTop:"20px"},children:"\u30bf\u30a4\u30c8\u30eb\u3078\u623b\u308b"})]})]});if(["LOUNGE","MYPAGE","PROFILE","RANKING"].includes(ie)&&!s)return(0,od.jsx)(ad,{user:a,myProfile:u,allProfiles:m,lastActiveProfiles:Y,kenjuBoss:Q,onGoogleSignIn:Ae,onEmailSignUp:Oe,onEmailSignIn:Le,onSignOut:De,onUpdateProfile:Me,onKenjuBattle:je,onBack:()=>{o(!0),se("MID")},onViewProfile:e=>{p(e),se("PROFILE")},stageMode:ie,setStageMode:se,viewingProfile:f,allSkills:td,getSkillByAbbr:nd});if(s){if(!b)return(0,od.jsx)("div",{className:"TitleScreenContainer",style:{backgroundColor:"#000"}});const e=!!localStorage.getItem("shiden_stage_cycle");return(0,od.jsxs)("div",{className:"TitleScreenContainer",children:[(0,od.jsx)("div",{className:"TitleBackgroundEffect"}),(0,od.jsxs)("div",{className:"TitleContent",children:[(0,od.jsx)("div",{className:"TitleLogoWrapper",children:(0,od.jsx)("img",{src:"/shiden/images/title/titlelogo.png",alt:"\u7d2b\u96fb\u4e00\u9583",className:"TitleLogo"})}),(0,od.jsxs)("div",{className:"TitleMenu",children:[(0,od.jsx)("button",{className:"TitleButton neon-blue",onClick:Fe,children:"NEW GAME"}),(0,od.jsx)("button",{className:"TitleButton neon-gold",onClick:ze,disabled:!e,children:"CONTINUE"}),(0,od.jsx)("button",{className:"TitleButton",onClick:()=>{se("RANKING"),o(!1)},style:{color:"#ffd700",border:"1px solid #ffd700",marginTop:"20px"},children:"RANKING"}),(0,od.jsx)("button",{className:"TitleButton",onClick:()=>{se("LOUNGE"),o(!1)},style:{color:"#4fc3f7",border:"1px solid #4fc3f7",marginTop:"20px"},children:"LOUNGE"}),(0,od.jsx)("button",{className:"TitleButton",onClick:()=>L(!0),style:{color:"#aaa",border:"1px solid #555",marginTop:"20px"},children:"\u30eb\u30fc\u30eb"})]}),(0,od.jsxs)("div",{className:"TitleFooter",children:[(0,od.jsxs)("div",{style:{marginBottom:"5px",color:"#00d2ff",fontSize:"0.9rem"},children:["Active Users: ",y]}),"\xa9 2026 Shiden-Game",(0,od.jsx)("div",{onDoubleClick:()=>w(!0),style:{position:"fixed",bottom:0,left:0,width:"50px",height:"50px",opacity:0}})]})]}),k&&(0,od.jsxs)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#1a1a1a",border:"2px solid #ff5252",padding:"20px",borderRadius:"10px",zIndex:1e4},children:[(0,od.jsx)("h2",{style:{color:"#ff5252"},children:"\u7ba1\u7406\u8005\u30d1\u30cd\u30eb"}),(0,od.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px"},children:[1,2,3,4,5,6,7,8,9,10,11,12].map(e=>(0,od.jsxs)("button",{onClick:()=>{le(e),se("MID"),localStorage.setItem("shiden_stage_cycle",e.toString()),o(!1),w(!1)},style:{padding:"10px"},children:["Stage ",e]},e))}),(0,od.jsx)("button",{onClick:()=>w(!1),style:{width:"100%",marginTop:"10px"},children:"\u9589\u3058\u308b"})]})]})}return(0,od.jsxs)("div",{className:"AppContainer",style:{display:"flex",height:"100vh",color:"#eee"},children:[(0,od.jsxs)("div",{className:"MainGameArea stage-".concat(oe),style:{flex:2,padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",overflowY:"auto",backgroundColor:"rgba(10, 10, 10, 0.7)"},children:[(0,od.jsxs)("div",{style:{textAlign:"center",marginBottom:"20px",padding:"10px 40px",border:"2px solid #555",borderRadius:"15px",background:"#1a1a1a",position:"relative",width:"100%",maxWidth:"800px"},children:[(0,od.jsx)("button",{onClick:()=>{o(!0),se("MID")},style:{position:"absolute",left:"10px",top:"10px",fontSize:"10px",background:"#333",color:"#888",border:"1px solid #444",cursor:"pointer"},children:"TITLE"}),(0,od.jsx)("h1",{style:{margin:0,color:"MID"===ie||"KENJU"===ie?"#4fc3f7":"#ff5252",fontSize:"1.5rem"},children:"KENJU"===ie?"VS ".concat(null===Q||void 0===Q?void 0:Q.name):"MID"===ie?"".concat(Ye.no,". ").concat(Ye.name):"VS ".concat(Ye.bossName)}),(0,od.jsx)("p",{style:{margin:"5px 0 0 0",color:"#aaa",fontSize:"0.9rem"},children:"KENJU"===ie?"\u65e5\u66ff\u308f\u308a\u306e\u5f37\u6575\u306b\u52dd\u5229\u305b\u3088\uff01":"MID"===ie?11===oe?"100\u4eba\u306e\u6575\u3092\u5012\u305b\uff01(\u52dd\u738780%\u3067\u901a\u904e)":"10\u6226\u5168\u52dd\u3057\u3066\u30dc\u30b9\u306b\u6311\u3081\uff01":"\u6575\u306e\u69cb\u6210\u3092\u898b\u3066\u5bfe\u7b56\u3092\u7df4\u308c\uff01"}),(0,od.jsxs)("div",{style:{position:"absolute",right:"10px",top:"10px",display:"flex",gap:"10px"},children:[(0,od.jsx)("button",{onClick:()=>L(!0),style:{background:"none",border:"none",cursor:"pointer",fontSize:"20px",color:"#888"},title:"\u30eb\u30fc\u30eb",children:"\ud83d\udcd6"}),(0,od.jsx)("button",{onClick:()=>A(!0),style:{background:"none",border:"none",cursor:"pointer",fontSize:"20px",color:"#888"},title:"\u8a2d\u5b9a",children:"\u2699\ufe0f"})]})]}),("BOSS"===ie&&!fe&&!(null!==(e=me[0])&&void 0!==e&&e.winner)||"KENJU"===ie&&!fe&&Q||"MID"===ie&&!fe&&(null===(t=Ie["".concat(ie,"_").concat(oe)])||void 0===t?void 0:t.length)>0)&&(0,od.jsxs)("div",{className:"BossSkillPreview",style:{marginBottom:"20px",width:"100%",maxWidth:"800px",padding:"20px",border:"2px solid ".concat("BOSS"===ie||"KENJU"===ie?"#ff5252":"#4fc3f7"),borderRadius:"10px",background:"BOSS"===ie||"KENJU"===ie?"#2c0a0a":"#0a1a2c"},children:[("BOSS"===ie||"KENJU"===ie)&&(0,od.jsxs)(od.Fragment,{children:[(0,od.jsxs)("h2",{style:{color:"#ff5252",textAlign:"center",margin:"0 0 10px 0",fontSize:"1.2rem"},children:["KENJU"===ie?null===Q||void 0===Q?void 0:Q.name:"BOSS"," SKILLS DISCLOSED"]}),(0,od.jsx)("div",{className:"boss-skill-grid",children:null===(n="KENJU"===ie?null===Q||void 0===Q?void 0:Q.skills:ce)||void 0===n?void 0:n.map((e,t)=>(0,od.jsx)("div",{className:"boss-skill-card-wrapper",children:(0,od.jsx)(cd,{skill:e,isSelected:!1,disableTooltip:!0})},t))})]}),(null===(i=Ie["".concat(ie,"_").concat(oe)])||void 0===i?void 0:i.length)>0&&(0,od.jsxs)("div",{style:{marginTop:"BOSS"===ie||"KENJU"===ie?"20px":"0px",borderTop:"BOSS"===ie||"KENJU"===ie?"1px dashed #ff5252":"none",paddingTop:"15px"},children:[(0,od.jsx)("h3",{style:{color:"#ffd700",textAlign:"center"},children:"\u6226\u3044\u306e\u8a18\u61b6"}),(0,od.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"5px",flexWrap:"wrap"},children:Ne(Ie["".concat(ie,"_").concat(oe)]).map((e,t)=>(0,od.jsx)("img",{src:"/shiden"+e.icon,alt:"",style:{width:"30px",border:"1px solid #ffd700",borderRadius:"4px"}},t))})]})]}),j.length>0&&(0,od.jsxs)("div",{className:"SelectedSkillsPanel",ref:H,style:{position:"relative",marginBottom:"20px",width:"100%",maxWidth:"800px",padding:"15px",border:"1px solid #333",borderRadius:"10px",background:"#121212"},children:[(0,od.jsx)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},children:Ue.map((e,t)=>(0,od.jsx)("line",{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:"#ffeb3b",strokeWidth:"4"},t))}),(0,od.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"},children:Ne(j).map((e,t)=>(0,od.jsx)(cd,{id:"selected-skill-".concat(t),skill:e,isSelected:!0,isConnected:z.some(e=>e.fromId==="selected-skill-".concat(t)||e.toId==="selected-skill-".concat(t)),isDimmed:B.includes(t),onClick:fe?void 0:Re,iconMode:S},t))})]}),!fe&&(0,od.jsx)("div",{style:{width:"100%",maxWidth:"800px"},children:(0,od.jsxs)("div",{className:"PlayerSkillSelection",style:{marginBottom:"20px",padding:"15px",border:"1px solid #333",borderRadius:"10px",background:"#121212"},children:[(0,od.jsx)("h2",{style:{color:"#4fc3f7"},children:"\u6240\u6301\u30b9\u30ad\u30eb\u304b\u3089\u7de8\u6210\u3057\u3066\u304f\u3060\u3055\u3044"}),(0,od.jsx)("div",{className:"skill-card-grid",children:D.map(e=>(0,od.jsx)(cd,{skill:e,isSelected:j.includes(e.abbr),onClick:Pe,iconMode:S},e.abbr))}),(0,od.jsx)("div",{style:{marginTop:"20px",display:"flex",justifyContent:"center"},children:(0,od.jsx)("button",{onClick:()=>{if(5===j.length){window.scrollTo({top:0,behavior:"smooth"});const e=[],t=Ne(j),n="MID"===ie&&11===oe,r=n?100:"BOSS"===ie||"KENJU"===ie?1:10;for(let s=0;s<r;s++){let r,i="\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf";if("KENJU"===ie&&Q)r=[...Q.skills],i=Q.name;else if("MID"===ie){const e=sd(oe),t=nd("\u7a7a");r=(()=>{if(n){const t=Array(5).fill(null),n=e.filter(e=>e.type.includes("\u8fce\u6483")),r=e.filter(e=>e.type.includes("\u653b\u6483")&&!e.name.startsWith("\uff0b")),i=e.filter(e=>e.name.startsWith("\uff0b"));for(let e=0;e<2;e++)Math.random()>.3&&(t[e]=n[Math.floor(Math.random()*n.length)]);for(let e=2;e<5;e++)null===t[e]&&Math.random()>.2&&(t[e]=r[Math.floor(Math.random()*r.length)]);for(let e=0;e<4;e++){const n=t[e];if(n&&(n.type.includes("\u653b\u6483")||e<2&&n.type.includes("\u8fce\u6483"))&&null===t[e+1]&&Math.random()>.4){const r=i.filter(e=>"\uff0b\u786c"===e.name||n.type.includes("\u653b\u6483"));r.length>0&&(t[e+1]=r[Math.floor(Math.random()*r.length)])}}for(let s=0;s<5;s++)null===t[s]&&(t[s]=e[Math.floor(Math.random()*e.length)]);return t}const r=Array(4).fill(null),i=Math.random()>.5?2:3,s=e.filter(e=>e.type.includes("\u653b\u6483")&&!e.name.startsWith("\uff0b")&&"\u7a7a\u767d"!==e.name);r[i]=s[Math.floor(Math.random()*s.length)];for(let n=0;n<4;n++){if(null!==r[n])continue;const i=n>0?r[n-1]:null,s=[];e.forEach(e=>{if("\u7a7a\u767d"===e.name)return;let t=1;if(e.name.startsWith("\uff0b")&&i){t=("\uff0b\u786c"===e.name||"\uff0b\u901f"===e.name?i.type.includes("\u653b\u6483")||i.type.includes("\u88dc\u52a9")||i.type.includes("\u8fce\u6483"):i.type.includes("\u653b\u6483"))?10:0}else e.name.startsWith("\uff0b")&&(t=0);for(let n=0;n<t;n++)s.push(e)}),r[n]=s.length>0?s[Math.floor(Math.random()*s.length)]:t}return r})()}else{r=[...ce];i=(id.find(e=>e.no===oe)||id[id.length-1]).bossName,10===oe&&(r=[nd("\u9006"),nd("\u9006"),nd("\u9006"),...Ne(j)])}const s=new ed(j.join("")+"\uff0f\u3042\u306a\u305f",r.map(e=>e.abbr).join("")+"\uff0f"+i),o=s.startGame();if(e.push({playerSkills:t,computerSkills:r,winner:o,resultText:1===o?"Win!":2===o?"Lose":"Draw",gameLog:s.gameLog,battleInstance:s.battle}),"BOSS"===ie||"KENJU"===ie)break}ge(e),pe(!0),ve(0);const i=e.filter(e=>1===e.winner).length;if(n){Ee(!0);let e=0;const t=Math.round(i/r*100),n=setInterval(()=>{e+=1,xe(e),e>=t&&(clearInterval(n),setTimeout(()=>{t>=80&&(he(!0),We()),Ee(!1)},1e3))},30)}"MID"!==ie||n?"BOSS"!==ie&&"KENJU"!==ie||(i>=1?he(!0):sd(oe).filter(e=>!K.includes(e.abbr)).length>0&&Z(!0)):(10===i&&(he(!0),We()),sd(oe).filter(e=>!K.includes(e.abbr)).length>0&&Z(!0))}else alert("\u30b9\u30ad\u30eb\u3092".concat(5,"\u679a\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"))},disabled:5!==j.length,style:{padding:"10px 40px",fontSize:"18px",backgroundColor:5===j.length?"#28a745":"#444",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u6226\u95d8\u958b\u59cb"})})]})}),fe&&(V||"MID"===ie)&&(0,od.jsxs)("div",{style:{width:"100%",maxWidth:"800px"},children:[X&&(0,od.jsxs)("div",{style:{textAlign:"center",marginBottom:"20px",padding:"20px",background:"#1a1a00",border:"2px solid #ffd700",borderRadius:"10px"},children:[(0,od.jsx)("h2",{style:{color:"#ffd700"},children:"\u30b9\u30ad\u30eb\u30921\u3064\u9078\u3093\u3067\u304f\u3060\u3055\u3044"}),(0,od.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center"},children:sd(oe).filter(e=>!K.includes(e.abbr)).map(e=>(0,od.jsx)("div",{onClick:()=>{return t=e.abbr,void(ee.includes(t)?te([]):te([t]));var t},style:{cursor:"pointer"},children:(0,od.jsx)(cd,{skill:e,isSelected:ee.includes(e.abbr),iconMode:S})},e.abbr))}),(0,od.jsx)("button",{disabled:0===ee.length,onClick:()=>{var e;G(e=>[...e,...ee]),te([]),Z(!1),"BOSS"===ie&&1===(null===(e=me[0])||void 0===e?void 0:e.winner)&&Ke()},style:{marginTop:"20px",padding:"10px 20px",backgroundColor:"#ffd700",color:"#000",border:"none",borderRadius:"5px",fontWeight:"bold",cursor:"pointer"},children:"\u30b9\u30ad\u30eb\u3092\u7372\u5f97\u3059\u308b"})]}),de&&("MID"===ie||He)&&!X&&(0,od.jsxs)("div",{style:{textAlign:"center",marginBottom:"20px",padding:"20px",background:"#2e7d32",borderRadius:"10px"},children:[(0,od.jsx)("h2",{style:{color:"white"},children:"MID"===ie?"\u30dc\u30b9\u3078\u306e\u9053\u304c\u958b\u304b\u308c\u305f\uff01":"\u6483\u7834\uff01\uff01"}),(0,od.jsx)("button",{onClick:"MID"===ie?()=>{se("BOSS"),qe()}:Ke,style:{padding:"15px 30px",fontSize:"20px",backgroundColor:"#fff",color:"#2e7d32",border:"none",borderRadius:"5px",fontWeight:"bold",cursor:"pointer"},children:"MID"===ie?"\u30dc\u30b9\u30b9\u30c6\u30fc\u30b8\u3078\u9032\u3080":"\u6b21\u306e\u30b9\u30c6\u30fc\u30b8\u3078\u9032\u3080"})]}),(0,od.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:me.map((e,t)=>(0,od.jsxs)("div",{onClick:()=>ve(t),style:{padding:"10px",border:"1px solid ".concat(ye===t?"#61dafb":"#444"),borderRadius:"5px",backgroundColor:"#1e1e1e",cursor:"pointer",display:"flex",alignItems:"center"},children:[(0,od.jsx)("span",{style:{marginRight:"10px",fontWeight:"bold",color:1===e.winner?"#66bb6a":"#ef5350"},children:e.resultText}),(0,od.jsx)("div",{style:{display:"flex",gap:"5px"},children:e.computerSkills.map((e,t)=>(0,od.jsx)("img",{src:"/shiden"+e.icon,alt:"",style:{width:"30px",height:"30px"}},t))})]},t))}),me.length>0&&!X&&!He&&(me.some(e=>2===e.winner)||"MID"===ie&&!de)&&(0,od.jsx)("div",{style:{marginTop:"20px",textAlign:"center"},children:(0,od.jsx)("button",{onClick:qe,style:{padding:"10px 20px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u518d\u6311\u6226"})})]})]}),(0,od.jsxs)("div",{className:"GameLogFrame",style:{flex:1,padding:"20px",backgroundColor:"rgba(26, 26, 26, 0.85)",overflowY:"hidden",borderLeft:"1px solid #333"},children:[(0,od.jsx)("h2",{style:{color:"#61dafb"},children:"BOSS"===ie||"KENJU"===ie?"BOSS":"\u30b2\u30fc\u30e0\u30ed\u30b0"}),-1!==ye&&me[ye]?"BOSS"===ie||"KENJU"===ie?(0,od.jsx)(Ge,{log:me[ye].gameLog,onComplete:()=>q(!0),bossImage:"KENJU"===ie?null===Q||void 0===Q?void 0:Q.image:Ye.bossImage,bossName:"KENJU"===ie?null===Q||void 0===Q?void 0:Q.name:Ye.bossName,battleInstance:me[ye].battleInstance}):(0,od.jsx)("div",{style:{overflowY:"auto",height:"calc(100% - 60px)"},children:(0,od.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",margin:0},children:me[ye].gameLog})}):be&&!fe?(0,od.jsx)("div",{style:{overflowY:"auto",height:"calc(100% - 60px)"},children:(0,od.jsx)("pre",{style:{whiteSpace:"pre-wrap",fontFamily:"serif"},children:be})}):"BOSS"===ie||"KENJU"===ie?(0,od.jsxs)("div",{style:{textAlign:"center"},children:[(0,od.jsx)("img",{src:"/shiden"+("KENJU"===ie?null===Q||void 0===Q?void 0:Q.image:Ye.bossImage),alt:"",style:{width:"150px"}}),(0,od.jsx)("h3",{children:"KENJU"===ie?null===Q||void 0===Q?void 0:Q.name:Ye.bossName}),(0,od.jsx)("p",{children:"KENJU"===ie?"\u65e5\u66ff\u308f\u308a\u306e\u5f37\u6575\u3002\u52dd\u5229\u3067100pt\u7372\u5f97\u3002":Ye.bossDescription})]}):"\u30ed\u30b0\u304c\u3042\u308a\u307e\u305b\u3093\u3002"]}),O&&(0,od.jsx)(ld,{onClose:()=>L(!1)}),R&&(0,od.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.8)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,od.jsxs)("div",{style:{backgroundColor:"#1a1a1a",border:"2px solid #fff",padding:"30px",borderRadius:"10px",textAlign:"center"},children:[(0,od.jsx)("h2",{style:{color:"#4fc3f7"},children:"\u8a2d\u5b9a"}),(0,od.jsx)("div",{style:{marginBottom:"20px"},children:(0,od.jsxs)("button",{onClick:()=>E(!C),style:{padding:"5px 15px",background:C?"#28a745":"#dc3545",color:"#fff",border:"none",borderRadius:"3px",cursor:"pointer"},children:["BGM: ",C?"ON":"OFF"]})}),(0,od.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"20px"},children:[(0,od.jsx)("button",{onClick:()=>x("ORIGINAL"),style:{padding:"10px",background:"ORIGINAL"===S?"#4fc3f7":"#333",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u5143\u306e\u30a2\u30a4\u30b3\u30f3"}),(0,od.jsx)("button",{onClick:()=>x("ABBR"),style:{padding:"10px",background:"ABBR"===S?"#4fc3f7":"#333",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u30b9\u30ad\u30eb\u306e\u7565\u5b57"}),(0,od.jsx)("button",{onClick:()=>x("PHONE"),style:{padding:"10px",background:"PHONE"===S?"#4fc3f7":"#333",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u96fb\u8a71\u756a\u53f7\u98a8"})]}),(0,od.jsx)("button",{onClick:()=>A(!1),style:{padding:"10px 30px",background:"#fff",color:"#000",border:"none",borderRadius:"5px",fontWeight:"bold",cursor:"pointer"},children:"\u9589\u3058\u308b"})]})})]})},dd=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)})};i.createRoot(document.getElementById("root")).render((0,od.jsx)(r.StrictMode,{children:(0,od.jsx)(ud,{})})),dd()})();
//# sourceMappingURL=main.a458eb95.js.map