/*! For license information please see main.8e5dbaf7.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var r=n(853),i=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),k=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function L(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case v:return"Profiler";case b:return"StrictMode";case x:return"Suspense";case S:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case k:return e.displayName||"Context";case _:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:L(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return L(e(t))}catch(n){}}return null}var A=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},z=[],F=-1;function j(e){return{current:e}}function B(e){0>F||(e.current=z[F],z[F]=null,F--)}function U(e,t){F++,z[F]=e.current,e.current=t}var W,H,q=j(null),V=j(null),$=j(null),K=j(null);function Q(e,t){switch(U($,t),U(V,e),U(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vd(t=bd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(q),U(q,e)}function Y(){B(q),B(V),B($)}function G(e){null!==e.memoizedState&&U(K,e);var t=q.current,n=vd(t,e.type);t!==n&&(U(V,e),U(q,n))}function X(e){V.current===e&&(B(q),B(V)),K.current===e&&(B(K),dh._currentValue=M)}function J(e){if(void 0===W)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+W+e+H}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,se=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,be=null;function ve(e){if("function"===typeof me&&ge(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(ye,e)}catch(t){}}var _e=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ke(e)/we|0)|0},ke=Math.log,we=Math.LN2;var xe=256,Se=262144,Ce=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?i=Ee(r):0!==(s&=a)?i=Ee(s):n||0!==(n=a&~e)&&(i=Ee(n)):0!==(a=r&~o)?i=Ee(a):0!==s?i=Ee(s):n||0!==(n=r&~e)&&(i=Ee(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function Ne(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ie(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Ce;return 0===(62914560&(Ce<<=1))&&(Ce=4194304),e}function Re(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Le(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ae(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-_e(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_e(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Oe(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Me(n))&(e.suspendedLanes|t))?0:n}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ze(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:Th(e.type)}function je(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var Be=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Be,We="__reactProps$"+Be,He="__reactContainer$"+Be,qe="__reactEvents$"+Be,Ve="__reactListeners$"+Be,$e="__reactHandles$"+Be,Ke="__reactResources$"+Be,Qe="__reactMarker$"+Be;function Ye(e){delete e[Ue],delete e[We],delete e[qe],delete e[Ve],delete e[$e]}function Ge(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=zd(e);null!==e;){if(n=e[Ue])return n;e=zd(e)}return t}n=(e=n).parentNode}return null}function Xe(e){if(e=e[Ue]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ze(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},at={};function lt(e,t,n){if(i=t,re.call(at,i)||!re.call(st,i)&&(ot.test(i)?at[i]=!0:(st[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?_t(e,s,dt(t)):null!=n?_t(e,s,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+dt(a):e.removeAttribute("name")}function vt(e,t,n,r,i,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),ft(e)}function _t(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function kt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(A(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Et(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&Et(e,o,t[o])}function Nt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Lt(){}var At=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Mt=null;function zt(e){var t=Xe(e);if(t&&(e=t.stateNode)){var n=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[We]||null;if(!i)throw Error(s(90));bt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&kt(e,!!n.multiple,t,!1)}}}var Ft=!1;function jt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Ot||null!==Mt)&&(eu(),Ot&&(t=Ot,e=Mt,Mt=Ot=null,zt(t),e)))for(t=0;t<e.length;t++)zt(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[We]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Wt=!1;if(Ut)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Jh){Wt=!1}var Vt=null,$t=null,Kt=null;function Qt(){if(Kt)return Kt;var e,t,n=$t,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Xt(){return!1}function Jt(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Gt:Xt,this.isPropagationStopped=Xt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Zt,en,tn,nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rn=Jt(nn),on=f({},nn,{view:0,detail:0}),sn=Jt(on),an=f({},on,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tn&&(tn&&"mousemove"===e.type?(Zt=e.screenX-tn.screenX,en=e.screenY-tn.screenY):en=Zt=0,tn=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:en}}),ln=Jt(an),cn=Jt(f({},an,{dataTransfer:0})),un=Jt(f({},on,{relatedTarget:0})),dn=Jt(f({},nn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=Jt(f({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),fn=Jt(f({},nn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function bn(){return yn}var vn=Jt(f({},on,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),_n=Jt(f({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=Jt(f({},on,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn})),wn=Jt(f({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Jt(f({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Jt(f({},nn,{newState:0,oldState:0})),Cn=[9,13,27,32],En=Ut&&"CompositionEvent"in window,Tn=null;Ut&&"documentMode"in document&&(Tn=document.documentMode);var Nn=Ut&&"TextEvent"in window&&!Tn,In=Ut&&(!En||Tn&&8<Tn&&11>=Tn),Pn=String.fromCharCode(32),Rn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function zn(e,t,n,r){Ot?Mt?Mt.push(r):Mt=[r]:Ot=r,0<(t=id(t,"onChange")).length&&(n=new rn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,jn=null;function Bn(e){Gu(e,0)}function Un(e){if(pt(Je(e)))return e}function Wn(e,t){if("change"===e)return t}var Hn=!1;if(Ut){var qn;if(Ut){var Vn="oninput"in document;if(!Vn){var $n=document.createElement("div");$n.setAttribute("oninput","return;"),Vn="function"===typeof $n.oninput}qn=Vn}else qn=!1;Hn=qn&&(!document.documentMode||9<document.documentMode)}function Kn(){Fn&&(Fn.detachEvent("onpropertychange",Qn),jn=Fn=null)}function Qn(e){if("value"===e.propertyName&&Un(jn)){var t=[];zn(t,jn,e,Dt(e)),jt(Bn,t)}}function Yn(e,t,n){"focusin"===e?(Kn(),jn=n,(Fn=t).attachEvent("onpropertychange",Qn)):"focusout"===e&&Kn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(jn)}function Xn(e,t){if("click"===e)return Un(t)}function Jn(e,t){if("input"===e||"change"===e)return Un(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function er(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Zn(e[i],t[i]))return!1}return!0}function tr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nr(e,t){var n,r=tr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tr(r)}}function rr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?rr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ir(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=Ut&&"documentMode"in document&&11>=document.documentMode,ar=null,lr=null,cr=null,ur=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ur||null==ar||ar!==mt(r)||("selectionStart"in(r=ar)&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},cr&&er(cr,r)||(cr=r,0<(r=id(lr,"onSelect")).length&&(t=new rn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},pr={},mr={};function gr(e){if(pr[e])return pr[e];if(!fr[e])return e;var t,n=fr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return pr[e]=n[t];return e}Ut&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);var yr=gr("animationend"),br=gr("animationiteration"),vr=gr("animationstart"),_r=gr("transitionrun"),kr=gr("transitionstart"),wr=gr("transitioncancel"),xr=gr("transitionend"),Sr=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){Sr.set(e,t),rt(t,[e])}Cr.push("scrollEnd");var Tr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Nr=[],Ir=0,Pr=0;function Rr(){for(var e=Ir,t=Pr=Ir=0;t<e;){var n=Nr[t];Nr[t++]=null;var r=Nr[t];Nr[t++]=null;var i=Nr[t];Nr[t++]=null;var o=Nr[t];if(Nr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Or(n,i,o)}}function Lr(e,t,n,r){Nr[Ir++]=e,Nr[Ir++]=t,Nr[Ir++]=n,Nr[Ir++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Lr(e,t,n,r),Mr(e)}function Dr(e,t){return Lr(e,null,null,t),Mr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-_e(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Mr(e){if(50<Vc)throw Vc=0,$c=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var zr={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,n,r){return new Fr(e,t,n,r)}function Br(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=jr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Wr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hr(e,t,n,r,i,o){var a=0;if(r=e,"function"===typeof e)Br(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=jr(31,n,t,i)).elementType=T,e.lanes=o,e;case y:return qr(n.children,i,o,t);case b:a=8,i|=24;break;case v:return(e=jr(12,n,t,2|i)).elementType=v,e.lanes=o,e;case x:return(e=jr(13,n,t,i)).elementType=x,e.lanes=o,e;case S:return(e=jr(19,n,t,i)).elementType=S,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case _:a=9;break e;case w:a=11;break e;case C:a=14;break e;case E:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=jr(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function qr(e,t,n,r){return(e=jr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=jr(6,e,null,t)).lanes=n,e}function $r(e){var t=jr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=jr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qr=new WeakMap;function Yr(e,t){if("object"===typeof e&&null!==e){var n=Qr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Qr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Gr=[],Xr=0,Jr=null,Zr=0,ei=[],ti=0,ni=null,ri=1,ii="";function oi(e,t){Gr[Xr++]=Zr,Gr[Xr++]=Jr,Jr=e,Zr=t}function si(e,t,n){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ni=e;var r=ri;e=ii;var i=32-_e(r)-1;r&=~(1<<i),n+=1;var o=32-_e(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ri=1<<32-_e(t)+i|n<<i|r,ii=o+e}else ri=1<<o|n<<i|r,ii=e}function ai(e){null!==e.return&&(oi(e,1),si(e,1,0))}function li(e){for(;e===Jr;)Jr=Gr[--Xr],Gr[Xr]=null,Zr=Gr[--Xr],Gr[Xr]=null;for(;e===ni;)ni=ei[--ti],ei[ti]=null,ii=ei[--ti],ei[ti]=null,ri=ei[--ti],ei[ti]=null}function ci(e,t){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ri=t.id,ii=t.overflow,ni=e}var ui=null,di=null,hi=!1,fi=null,pi=!1,mi=Error(s(519));function gi(e){throw wi(Yr(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mi}function yi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ue]=e,t[We]=r,n){case"dialog":Xu("cancel",t),Xu("close",t);break;case"iframe":case"object":case"embed":Xu("load",t);break;case"video":case"audio":for(n=0;n<Qu.length;n++)Xu(Qu[n],t);break;case"source":Xu("error",t);break;case"img":case"image":case"link":Xu("error",t),Xu("load",t);break;case"details":Xu("toggle",t);break;case"input":Xu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Xu("invalid",t);break;case"textarea":Xu("invalid",t),xt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&(Xu("beforetoggle",t),Xu("toggle",t)),null!=r.onScroll&&Xu("scroll",t),null!=r.onScrollEnd&&Xu("scrollend",t),null!=r.onClick&&(t.onclick=Lt),t=!0):t=!1,t||gi(e,!0)}function bi(e){for(ui=e.return;ui;)switch(ui.tag){case 5:case 31:case 13:return void(pi=!1);case 27:case 3:return void(pi=!0);default:ui=ui.return}}function vi(e){if(e!==ui)return!1;if(!hi)return bi(e),hi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||_d(e.type,e.memoizedProps)),t=!t),t&&di&&gi(e),bi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));di=Md(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));di=Md(e)}else 27===n?(n=di,Td(e.type)?(e=Od,Od=null,di=e):di=n):di=ui?Dd(e.stateNode.nextSibling):null;return!0}function _i(){di=ui=null,hi=!1}function ki(){var e=fi;return null!==e&&(null===Rc?Rc=e:Rc.push.apply(Rc,e),fi=null),e}function wi(e){null===fi?fi=[e]:fi.push(e)}var xi=j(null),Si=null,Ci=null;function Ei(e,t,n){U(xi,t._currentValue),t._currentValue=n}function Ti(e){e._currentValue=xi.current,B(xi)}function Ni(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ni(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),Ni(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Pi(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;Zn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===K.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}i=i.return}null!==e&&Ii(t,e,n,r),t.flags|=262144}function Ri(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Li(e){Si=e,Ci=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ai(e){return Oi(Si,e)}function Di(e,t){return null===Si&&Li(e),Oi(e,t)}function Oi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ci){if(null===e)throw Error(s(308));Ci=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ci=Ci.next=t;return n}var Mi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},zi=r.unstable_scheduleCallback,Fi=r.unstable_NormalPriority,ji={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bi(){return{controller:new Mi,data:new Map,refCount:0}}function Ui(e){e.refCount--,0===e.refCount&&zi(Fi,function(){e.controller.abort()})}var Wi=null,Hi=0,qi=0,Vi=null;function $i(){if(0===--Hi&&null!==Wi){null!==Vi&&(Vi.status="fulfilled");var e=Wi;Wi=null,qi=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=D.S;D.S=function(e,t){Dc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Wi){var n=Wi=[];Hi=0,qi=Hu(),Vi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Hi++,t.then($i,$i)}(0,t),null!==Ki&&Ki(e,t)};var Qi=j(null);function Yi(){var e=Qi.current;return null!==e?e:mc.pooledCache}function Gi(e,t){U(Qi,null===t?Qi.current:t.pool)}function Xi(){var e=Yi();return null===e?null:{parent:ji._currentValue,pool:e}}var Ji=Error(s(460)),Zi=Error(s(474)),eo=Error(s(542)),to={then:function(){}};function no(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ro(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Lt,Lt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ao(e=t.reason),e;default:if("string"===typeof t.status)t.then(Lt,Lt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ao(e=t.reason),e}throw oo=t,Ji}}function io(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw oo=t,Ji;throw t}}var oo=null;function so(){if(null===oo)throw Error(s(459));var e=oo;return oo=null,e}function ao(e){if(e===Ji||e===eo)throw Error(s(483))}var lo=null,co=0;function uo(e){var t=co;return co+=1,null===lo&&(lo=[]),ro(lo,e,t)}function ho(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function fo(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function po(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===E&&io(o)===t.type)?(ho(t=i(t,n.props),n),t.return=e,t):(ho(t=Hr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=qr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return ho(n=Hr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Kr(t,e.mode,n)).return=e,t;case E:return h(e,t=io(t),n)}if(A(t)||P(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,uo(t),n);if(t.$$typeof===k)return h(e,Di(e,t),n);fo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case E:return f(e,t,n=io(n),r)}if(A(n)||P(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,uo(n),r);if(n.$$typeof===k)return f(e,t,Di(e,n),r);fo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return p(e,t,n,r=io(r),i)}if(A(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,uo(r),i);if(r.$$typeof===k)return p(e,t,n,Di(t,r),i);fo(t,r)}return null}function b(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var v=u.key;null!==c;){if(c.key===v){if((v=u.type)===y){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===E&&io(v)===c.type){n(l,c.sibling),ho(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((d=qr(u.props.children,l.mode,d,u.key)).return=l,l=d):(ho(d=Hr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case g:e:{for(v=u.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Kr(u,l.mode,d)).return=l,l=d}return a(l);case E:return b(l,c,u=io(u),d)}if(A(u))return function(i,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=o(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===a.length)return n(i,d),hi&&oi(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return hi&&oi(i,m),c}for(d=r(d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),hi&&oi(i,m),c}(l,c,u,d);if(P(u)){if("function"!==typeof(v=P(u)))throw Error(s(150));return function(i,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,m=a,g=a=0,y=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=f(i,m,b.value,c);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(i,m),a=o(v,a,g),null===d?u=v:d.sibling=v,d=v,m=y}if(b.done)return n(i,m),hi&&oi(i,g),u;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=h(i,b.value,c))&&(a=o(b,a,g),null===d?u=b:d.sibling=b,d=b);return hi&&oi(i,g),u}for(m=r(m);!b.done;g++,b=l.next())null!==(b=p(m,i,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach(function(e){return t(i,e)}),hi&&oi(i,g),u}(l,c,u=v.call(u),d)}if("function"===typeof u.then)return b(l,c,uo(u),d);if(u.$$typeof===k)return b(l,c,Di(l,u),d);fo(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Vr(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{co=0;var i=b(e,t,n,r);return lo=null,i}catch(s){if(s===Ji||s===eo)throw s;var o=jr(29,s,null,e.mode);return o.lanes=r,o.return=e,o}}}var mo=po(!0),go=po(!1),yo=!1;function bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _o(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ko(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Mr(e),Or(e,null,n),t}return Lr(e,r,t,n),Mr(e)}function wo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function xo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var So=!1;function Co(){if(So){if(null!==Vi)throw Vi}}function Eo(e,t,n,r){So=!1;var i=e.updateQueue;yo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=-536870913&a.lane,p=h!==a.lane;if(p?(yc&h)===h:(r&h)===h){0!==h&&h===qi&&(So=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;h=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(y,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:yo=!0}}null!==(h=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),Cc|=s,e.lanes=s,e.memoizedState=d}}function To(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function No(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)To(n[e],t)}var Io=j(null),Po=j(0);function Ro(e,t){U(Po,e=xc),U(Io,t),xc=e|t.baseLanes}function Lo(){U(Po,xc),U(Io,Io.current)}function Ao(){xc=Po.current,B(Io),B(Po)}var Do=j(null),Oo=null;function Mo(e){var t=e.alternate;U(Uo,1&Uo.current),U(Do,e),null===Oo&&(null===t||null!==Io.current||null!==t.memoizedState)&&(Oo=e)}function zo(e){U(Uo,Uo.current),U(Do,e),null===Oo&&(Oo=e)}function Fo(e){22===e.tag?(U(Uo,Uo.current),U(Do,e),null===Oo&&(Oo=e)):jo()}function jo(){U(Uo,Uo.current),U(Do,Do.current)}function Bo(e){B(Do),Oo===e&&(Oo=null),B(Uo)}var Uo=j(0);function Wo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ld(n)||Ad(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ho=0,qo=null,Vo=null,$o=null,Ko=!1,Qo=!1,Yo=!1,Go=0,Xo=0,Jo=null,Zo=0;function es(){throw Error(s(321))}function ts(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function ns(e,t,n,r,i,o){return Ho=o,qo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?ya:ba,Yo=!1,o=n(r,i),Yo=!1,Qo&&(o=is(t,n,r,i)),rs(e),o}function rs(e){D.H=ga;var t=null!==Vo&&null!==Vo.next;if(Ho=0,$o=Vo=qo=null,Ko=!1,Xo=0,Jo=null,t)throw Error(s(300));null===e||Da||null!==(e=e.dependencies)&&Ri(e)&&(Da=!0)}function is(e,t,n,r){qo=e;var i=0;do{if(Qo&&(Jo=null),Xo=0,Qo=!1,25<=i)throw Error(s(301));if(i+=1,$o=Vo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}D.H=va,o=t(n,r)}while(Qo);return o}function os(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?ds(t):t,e=e.useState()[0],(null!==Vo?Vo.memoizedState:null)!==e&&(qo.flags|=1024),t}function ss(){var e=0!==Go;return Go=0,e}function as(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ls(e){if(Ko){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ko=!1}Ho=0,$o=Vo=qo=null,Qo=!1,Xo=Go=0,Jo=null}function cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===$o?qo.memoizedState=$o=e:$o=$o.next=e,$o}function us(){if(null===Vo){var e=qo.alternate;e=null!==e?e.memoizedState:null}else e=Vo.next;var t=null===$o?qo.memoizedState:$o.next;if(null!==t)$o=t,Vo=e;else{if(null===e){if(null===qo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Vo=e).memoizedState,baseState:Vo.baseState,baseQueue:Vo.baseQueue,queue:Vo.queue,next:null},null===$o?qo.memoizedState=$o=e:$o=$o.next=e}return $o}function ds(e){var t=Xo;return Xo+=1,null===Jo&&(Jo=[]),e=ro(Jo,e,t),t=qo,null===(null===$o?t.memoizedState:$o.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?ya:ba),e}function hs(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ds(e);if(e.$$typeof===k)return Ai(e)}throw Error(s(438,String(e)))}function fs(e){var t=null,n=qo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=qo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},qo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=N;return t.index++,n}function ps(e,t){return"function"===typeof t?t(e):t}function ms(e){return gs(us(),Vo,e)}function gs(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(yc&h)===h:(Ho&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===qi&&(d=!0);else{if((Ho&f)===f){u=u.next,f===qi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,qo.lanes|=f,Cc|=f}h=u.action,Yo&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=o):c=c.next=f,qo.lanes|=h,Cc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Zn(o,e.memoizedState)&&(Da=!0,d&&null!==(n=Vi)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ys(e){var t=us(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Zn(o,t.memoizedState)||(Da=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function bs(e,t,n){var r=qo,i=us(),o=hi;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Zn((Vo||i).memoizedState,n);if(a&&(i.memoizedState=n,Da=!0),i=i.queue,Hs(ks.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==$o&&1&$o.memoizedState.tag){if(r.flags|=2048,Fs(9,{destroy:void 0},_s.bind(null,r,i,n,t),null),null===mc)throw Error(s(349));o||0!==(127&Ho)||vs(r,t,n)}return n}function vs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=qo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _s(e,t,n,r){t.value=n,t.getSnapshot=r,ws(t)&&xs(e)}function ks(e,t,n){return n(function(){ws(t)&&xs(e)})}function ws(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(Ht){return!0}}function xs(e){var t=Dr(e,2);null!==t&&Yc(t,e,2)}function Ss(e){var t=cs();if("function"===typeof e){var n=e;if(e=n(),Yo){ve(!0);try{n()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:e},t}function Cs(e,t,n,r){return e.baseState=n,gs(e,Vo,"function"===typeof r?r:ps)}function Es(e,t,n,r,i){if(fa(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==D.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,Ts(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Ts(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=D.T,s={};D.T=s;try{var a=n(i,r),l=D.S;null!==l&&l(s,a),Ns(e,t,a)}catch(Ht){Ps(e,t,Ht)}finally{null!==o&&null!==s.types&&(o.types=s.types),D.T=o}}else try{Ns(e,t,o=n(i,r))}catch(c){Ps(e,t,c)}}function Ns(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Is(e,t,n)},function(n){return Ps(e,t,n)}):Is(e,t,n)}function Is(e,t,n){t.status="fulfilled",t.value=n,Rs(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ts(e,n)))}function Ps(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Rs(t),t=t.next}while(t!==r)}e.action=null}function Rs(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ls(e,t){return t}function As(e,t){if(hi){var n=mc.formState;if(null!==n){e:{var r=qo;if(hi){if(di){t:{for(var i=di,o=pi;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=Dd(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){di=Dd(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=cs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:t},n.queue=r,n=ua.bind(null,qo,r),r.dispatch=n,r=Ss(!1),o=ha.bind(null,qo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=cs()).queue=i,n=Es.bind(null,qo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ds(e){return Os(us(),Vo,e)}function Os(e,t,n){if(t=gs(e,t,Ls)[0],e=ms(ps)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ds(t)}catch(s){if(s===Ji)throw eo;throw s}else r=t;var i=(t=us()).queue,o=i.dispatch;return n!==t.memoizedState&&(qo.flags|=2048,Fs(9,{destroy:void 0},Ms.bind(null,i,n),null)),[r,o,e]}function Ms(e,t){e.action=t}function zs(e){var t=us(),n=Vo;if(null!==n)return Os(t,n,e);us(),t=t.memoizedState;var r=(n=us()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=qo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function js(){return us().memoizedState}function Bs(e,t,n,r){var i=cs();qo.flags|=e,i.memoizedState=Fs(1|t,{destroy:void 0},n,void 0===r?null:r)}function Us(e,t,n,r){var i=us();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==Vo&&null!==r&&ts(r,Vo.memoizedState.deps)?i.memoizedState=Fs(t,o,n,r):(qo.flags|=e,i.memoizedState=Fs(1|t,o,n,r))}function Ws(e,t){Bs(8390656,8,e,t)}function Hs(e,t){Us(2048,8,e,t)}function qs(e){var t=us().memoizedState;return function(e){qo.flags|=4;var t=qo.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qo.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Vs(e,t){return Us(4,2,e,t)}function $s(e,t){return Us(4,4,e,t)}function Ks(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Qs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Us(4,4,Ks.bind(null,t,e),n)}function Ys(){}function Gs(e,t){var n=us();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ts(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=us();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ts(t,r[1]))return r[0];if(r=e(),Yo){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r}function Js(e,t,n){return void 0===n||0!==(1073741824&Ho)&&0===(261930&yc)?e.memoizedState=t:(e.memoizedState=n,e=Qc(),qo.lanes|=e,Cc|=e,n)}function Zs(e,t,n,r){return Zn(n,t)?n:null!==Io.current?(e=Js(e,n,r),Zn(e,t)||(Da=!0),e):0===(42&Ho)||0!==(1073741824&Ho)&&0===(261930&yc)?(Da=!0,e.memoizedState=n):(e=Qc(),qo.lanes|=e,Cc|=e,t)}function ea(e,t,n,r,i){var o=O.p;O.p=0!==o&&8>o?o:8;var s=D.T,a={};D.T=a,ha(e,!1,t,n);try{var l=i(),c=D.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);da(e,t,u,Kc())}else da(e,t,r,Kc())}catch(Ht){da(e,t,{then:function(){},status:"rejected",reason:Ht},Kc())}finally{O.p=o,null!==s&&null!==a.types&&(s.types=a.types),D.T=s}}function ta(){}function na(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=ra(e).queue;ea(e,i,t,M,null===n?ta:function(){return ia(e),n(r)})}function ra(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ia(e){var t=ra(e);null===t.next&&(t=e.alternate.memoizedState),da(e,t.next.queue,{},Kc())}function oa(){return Ai(dh)}function sa(){return us().memoizedState}function aa(){return us().memoizedState}function la(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kc(),r=ko(t,e=_o(n),n);return null!==r&&(Yc(r,t,n),wo(r,t,n)),t={cache:Bi()},void(e.payload=t)}t=t.return}}function ca(e,t,n){var r=Kc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fa(e)?pa(t,n):null!==(n=Ar(e,t,n,r))&&(Yc(n,e,r),ma(n,t,r))}function ua(e,t,n){da(e,t,n,Kc())}function da(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fa(e))pa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Zn(a,s))return Lr(e,t,i,0),null===mc&&Rr(),!1}catch(Ht){}if(null!==(n=Ar(e,t,i,r)))return Yc(n,e,r),ma(n,t,r),!0}return!1}function ha(e,t,n,r){if(r={lane:2,revertLane:Hu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fa(e)){if(t)throw Error(s(479))}else null!==(t=Ar(e,n,r,2))&&Yc(t,e,2)}function fa(e){var t=e.alternate;return e===qo||null!==t&&t===qo}function pa(e,t){Qo=Ko=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ma(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var ga={readContext:Ai,use:hs,useCallback:es,useContext:es,useEffect:es,useImperativeHandle:es,useLayoutEffect:es,useInsertionEffect:es,useMemo:es,useReducer:es,useRef:es,useState:es,useDebugValue:es,useDeferredValue:es,useTransition:es,useSyncExternalStore:es,useId:es,useHostTransitionStatus:es,useFormState:es,useActionState:es,useOptimistic:es,useMemoCache:es,useCacheRefresh:es};ga.useEffectEvent=es;var ya={readContext:Ai,use:hs,useCallback:function(e,t){return cs().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Ws,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){Bs(4,2,e,t)},useMemo:function(e,t){var n=cs();t=void 0===t?null:t;var r=e();if(Yo){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=cs();if(void 0!==n){var i=n(t);if(Yo){ve(!0);try{n(t)}finally{ve(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ca.bind(null,qo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},cs().memoizedState=e},useState:function(e){var t=(e=Ss(e)).queue,n=ua.bind(null,qo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ys,useDeferredValue:function(e,t){return Js(cs(),e,t)},useTransition:function(){var e=Ss(!1);return e=ea.bind(null,qo,e.queue,!0,!1),cs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=qo,i=cs();if(hi){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===mc)throw Error(s(349));0!==(127&yc)||vs(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ws(ks.bind(null,r,o,e),[e]),r.flags|=2048,Fs(9,{destroy:void 0},_s.bind(null,r,o,n,t),null),n},useId:function(){var e=cs(),t=mc.identifierPrefix;if(hi){var n=ii;t="_"+t+"R_"+(n=(ri&~(1<<32-_e(ri)-1)).toString(32)+n),0<(n=Go++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zo++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:oa,useFormState:As,useActionState:As,useOptimistic:function(e){var t=cs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ha.bind(null,qo,!0,n),n.dispatch=t,[e,t]},useMemoCache:fs,useCacheRefresh:function(){return cs().memoizedState=la.bind(null,qo)},useEffectEvent:function(e){var t=cs(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(s(440));return n.impl.apply(void 0,arguments)}}},ba={readContext:Ai,use:hs,useCallback:Gs,useContext:Ai,useEffect:Hs,useImperativeHandle:Qs,useInsertionEffect:Vs,useLayoutEffect:$s,useMemo:Xs,useReducer:ms,useRef:js,useState:function(){return ms(ps)},useDebugValue:Ys,useDeferredValue:function(e,t){return Zs(us(),Vo.memoizedState,e,t)},useTransition:function(){var e=ms(ps)[0],t=us().memoizedState;return["boolean"===typeof e?e:ds(e),t]},useSyncExternalStore:bs,useId:sa,useHostTransitionStatus:oa,useFormState:Ds,useActionState:Ds,useOptimistic:function(e,t){return Cs(us(),0,e,t)},useMemoCache:fs,useCacheRefresh:aa};ba.useEffectEvent=qs;var va={readContext:Ai,use:hs,useCallback:Gs,useContext:Ai,useEffect:Hs,useImperativeHandle:Qs,useInsertionEffect:Vs,useLayoutEffect:$s,useMemo:Xs,useReducer:ys,useRef:js,useState:function(){return ys(ps)},useDebugValue:Ys,useDeferredValue:function(e,t){var n=us();return null===Vo?Js(n,e,t):Zs(n,Vo.memoizedState,e,t)},useTransition:function(){var e=ys(ps)[0],t=us().memoizedState;return["boolean"===typeof e?e:ds(e),t]},useSyncExternalStore:bs,useId:sa,useHostTransitionStatus:oa,useFormState:zs,useActionState:zs,useOptimistic:function(e,t){var n=us();return null!==Vo?Cs(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:fs,useCacheRefresh:aa};function _a(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}va.useEffectEvent=qs;var ka={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kc(),i=_o(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ko(e,i,r))&&(Yc(t,e,r),wo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kc(),i=_o(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ko(e,i,r))&&(Yc(t,e,r),wo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kc(),r=_o(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ko(e,r,n))&&(Yc(t,e,n),wo(t,e,n))}};function wa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!er(n,r)||!er(i,o))}function xa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ka.enqueueReplaceState(t,t.state,null)}function Sa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Ca(e){Tr(e)}function Ea(e){console.error(e)}function Ta(e){Tr(e)}function Na(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ia(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Pa(e,t,n){return(n=_o(n)).tag=3,n.payload={element:null},n.callback=function(){Na(e,t)},n}function Ra(e){return(e=_o(e)).tag=3,e}function La(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Ia(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Ia(t,n,r),"function"!==typeof i&&(null===zc?zc=new Set([this]):zc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Aa=Error(s(461)),Da=!1;function Oa(e,t,n,r){t.child=null===e?go(t,null,n,r):mo(t,e.child,n,r)}function Ma(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Li(t),r=ns(e,t,n,s,o,i),a=ss(),null===e||Da?(hi&&a&&ai(t),t.flags|=1,Oa(e,t,r,i),t.child):(as(e,t,i),ol(e,t,i))}function za(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Br(o)||void 0!==o.defaultProps||null!==n.compare?((e=Hr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Fa(e,t,o,r,i))}if(o=e.child,!sl(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:er)(s,r)&&e.ref===t.ref)return ol(e,t,i)}return t.flags|=1,(e=Ur(o,r)).ref=t.ref,e.return=t,t.child=e}function Fa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(er(o,r)&&e.ref===t.ref){if(Da=!1,t.pendingProps=r=o,!sl(e,i))return t.lanes=e.lanes,ol(e,t,i);0!==(131072&e.flags)&&(Da=!0)}}return Va(e,t,n,r,i)}function ja(e,t,n,r){var i=r.children,o=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(o=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,t.child=null;return Ua(e,t,o,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Ua(e,t,null!==o?o.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Gi(0,null!==o?o.cachePool:null),null!==o?Ro(t,o):Lo(),Fo(t)}else null!==o?(Gi(0,o.cachePool),Ro(t,o),jo(),t.memoizedState=null):(null!==e&&Gi(0,null),Lo(),jo());return Oa(e,t,i,n),t.child}function Ba(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ua(e,t,n,r,i){var o=Yi();return o=null===o?null:{parent:ji._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Gi(0,null),Lo(),Fo(t),null!==e&&Pi(e,t,r,!0),t.childLanes=i,null}function Wa(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ha(e,t,n){return mo(t,e.child,null,n),(e=Wa(t,t.pendingProps)).flags|=2,Bo(t),t.memoizedState=null,e}function qa(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Va(e,t,n,r,i){return Li(t),n=ns(e,t,n,r,void 0,i),r=ss(),null===e||Da?(hi&&r&&ai(t),t.flags|=1,Oa(e,t,n,i),t.child):(as(e,t,i),ol(e,t,i))}function $a(e,t,n,r,i,o){return Li(t),t.updateQueue=null,n=is(t,r,n,i),rs(e),r=ss(),null===e||Da?(hi&&r&&ai(t),t.flags|=1,Oa(e,t,n,o),t.child):(as(e,t,o),ol(e,t,o))}function Ka(e,t,n,r,i){if(Li(t),null===t.stateNode){var o=zr,s=n.contextType;"object"===typeof s&&null!==s&&(o=Ai(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=ka,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},bo(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Ai(s):zr,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(_a(t,n,s,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&ka.enqueueReplaceState(o,o.state,null),Eo(t,r,o,i),Co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=Sa(n,a);o.props=l;var c=o.context,u=n.contextType;s=zr,"object"===typeof u&&null!==u&&(s=Ai(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==s)&&xa(t,o,r,s),yo=!1;var h=t.memoizedState;o.state=h,Eo(t,r,o,i),Co(),c=t.memoizedState,a||h!==c||yo?("function"===typeof d&&(_a(t,n,d,r),c=t.memoizedState),(l=yo||wa(t,n,l,r,h,c,s))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vo(e,t),u=Sa(n,s=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=zr,"object"===typeof c&&null!==c&&(l=Ai(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&xa(t,o,r,l),yo=!1,h=t.memoizedState,o.state=h,Eo(t,r,o,i),Co();var f=t.memoizedState;s!==d||h!==f||yo||null!==e&&null!==e.dependencies&&Ri(e.dependencies)?("function"===typeof a&&(_a(t,n,a,r),f=t.memoizedState),(u=yo||wa(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ri(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,qa(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=mo(t,e.child,null,i),t.child=mo(t,null,n,i)):Oa(e,t,n,i),t.memoizedState=o.state,e=t.child):e=ol(e,t,i),e}function Qa(e,t,n,r){return _i(),t.flags|=256,Oa(e,t,n,r),t.child}var Ya={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ga(e){return{baseLanes:e,cachePool:Xi()}}function Xa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Nc),e}function Ja(e,t,n){var r,i=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Uo.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(hi){if(o?Mo(t):jo(),(e=di)?null!==(e=null!==(e=Rd(e,pi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=$r(e)).return=t,t.child=n,ui=t,di=null):e=null,null===e)throw gi(t);return Ad(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,o?(jo(),l=el({mode:"hidden",children:l},o=t.mode),i=qr(i,o,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Ga(n),i.childLanes=Xa(e,r,n),t.memoizedState=Ya,Ba(null,i)):(Mo(t),Za(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(a)256&t.flags?(Mo(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(jo(),t.child=e.child,t.flags|=128,t=null):(jo(),l=i.fallback,o=t.mode,i=el({mode:"visible",children:i.children},o),(l=qr(l,o,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,mo(t,e.child,null,n),(i=t.child).memoizedState=Ga(n),i.childLanes=Xa(e,r,n),t.memoizedState=Ya,t=Ba(null,i));else if(Mo(t),Ad(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,wi({value:i,source:null,stack:null}),t=tl(e,t,n)}else if(Da||Pi(e,t,n,!1),r=0!==(n&e.childLanes),Da||r){if(null!==(r=mc)&&(0!==(i=Oe(r,n))&&i!==c.retryLane))throw c.retryLane=i,Dr(e,i),Yc(r,e,i),Aa;Ld(l)||au(),t=tl(e,t,n)}else Ld(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,di=Dd(l.nextSibling),ui=t,hi=!0,fi=null,pi=!1,null!==e&&ci(t,e),(t=Za(t,i.children)).flags|=4096);return t}return o?(jo(),l=i.fallback,o=t.mode,u=(c=e.child).sibling,(i=Ur(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Ur(u,l):(l=qr(l,o,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Ba(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Ga(n):(null!==(o=l.cachePool)?(c=ji._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Xi(),l={baseLanes:l.baseLanes|n,cachePool:o}),i.memoizedState=l,i.childLanes=Xa(e,r,n),t.memoizedState=Ya,Ba(e.child,i)):(Mo(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Za(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=jr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return mo(t,e.child,null,n),(e=Za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ni(e.return,t,n)}function rl(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=o)}function il(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var s=Uo.current,a=0!==(2&s);if(a?(s=1&s|2,t.flags|=128):s&=1,U(Uo,s),Oa(e,t,r,n),r=hi?Zr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Wo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rl(t,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Wo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rl(t,!0,n,null,o,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ol(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Cc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Pi(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ri(e))}function al(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Da=!0;else{if(!sl(e,n)&&0===(128&t.flags))return Da=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),Ei(0,ji,e.memoizedState.cache),_i();break;case 27:case 5:G(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:Ei(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,zo(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Mo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ja(e,t,n):(Mo(t),null!==(e=ol(e,t,n))?e.sibling:null);Mo(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Pi(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return il(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(Uo,Uo.current),r)break;return null;case 22:return t.lanes=0,ja(e,t,n,t.pendingProps);case 24:Ei(0,ji,e.memoizedState.cache)}return ol(e,t,n)}(e,t,n);Da=0!==(131072&e.flags)}else Da=!1,hi&&0!==(1048576&t.flags)&&si(t,Zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=io(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===w){t.tag=11,t=Ma(null,t,e,r,n);break e}if(i===C){t.tag=14,t=za(null,t,e,r,n);break e}}throw t=L(e)||e,Error(s(306,t,""))}Br(e)?(r=Sa(e,r),t.tag=1,t=Ka(null,t,e,r,n)):(t.tag=0,t=Va(null,t,e,r,n))}return t;case 0:return Va(e,t,t.type,t.pendingProps,n);case 1:return Ka(e,t,r=t.type,i=Sa(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,vo(e,t),Eo(t,r,null,n);var a=t.memoizedState;if(r=a.cache,Ei(0,ji,r),r!==o.cache&&Ii(t,[ji],n,!0),Co(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Qa(e,t,r,n);break e}if(r!==i){wi(i=Yr(Error(s(424)),t)),t=Qa(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(di=Dd(e.firstChild),ui=t,hi=!0,fi=null,pi=!0,n=go(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(_i(),r===i){t=ol(e,t,n);break e}Oa(e,t,r,n)}t=t.child}return t;case 26:return qa(e,t),null===e?(n=$d(t.type,null,t.pendingProps,null))?t.memoizedState=n:hi||(n=t.type,e=t.pendingProps,(r=yd($.current).createElement(n))[Ue]=t,r[We]=e,fd(r,n,e),et(r),t.stateNode=r):t.memoizedState=$d(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&hi&&(r=t.stateNode=Fd(t.type,t.pendingProps,$.current),ui=t,pi=!0,i=di,Td(t.type)?(Od=i,di=Dd(r.firstChild)):di=i),Oa(e,t,t.pendingProps.children,n),qa(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&hi&&((i=r=di)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=Dd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,pi))?(t.stateNode=r,ui=t,di=Dd(r.firstChild),pi=!1,i=!0):i=!1),i||gi(t)),G(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,_d(i,o)?r=null:null!==a&&_d(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=ns(e,t,os,null,null,n),dh._currentValue=i),qa(e,t),Oa(e,t,r,n),t.child;case 6:return null===e&&hi&&((e=n=di)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}(n,t.pendingProps,pi))?(t.stateNode=n,ui=t,di=null,e=!0):e=!1),e||gi(t)),null;case 13:return Ja(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=mo(t,null,r,n):Oa(e,t,r,n),t.child;case 11:return Ma(e,t,t.type,t.pendingProps,n);case 7:return Oa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oa(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ei(0,t.type,r.value),Oa(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Li(t),r=r(i=Ai(i)),t.flags|=1,Oa(e,t,r,n),t.child;case 14:return za(e,t,t.type,t.pendingProps,n);case 15:return Fa(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(hi){if("hidden"===r.mode)return e=Wa(t,r),t.lanes=536870912,Ba(null,e);if(zo(t),(e=di)?null!==(e=null!==(e=Rd(e,pi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=$r(e)).return=t,t.child=n,ui=t,di=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return Wa(t,r)}var o=e.memoizedState;if(null!==o){var a=o.dehydrated;if(zo(t),i)if(256&t.flags)t.flags&=-257,t=Ha(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Da||Pi(e,t,n,!1),i=0!==(n&e.childLanes),Da||i){if(null!==(r=mc)&&0!==(a=Oe(r,n))&&a!==o.retryLane)throw o.retryLane=a,Dr(e,a),Yc(r,e,a),Aa;au(),t=Ha(e,t,n)}else e=o.treeContext,di=Dd(a.nextSibling),ui=t,hi=!0,fi=null,pi=!1,null!==e&&ci(t,e),(t=Wa(t,r)).flags|=4096;return t}return(e=Ur(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return ja(e,t,n,t.pendingProps);case 24:return Li(t),r=Ai(ji),null===e?(null===(i=Yi())&&(i=mc,o=Bi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},bo(t),Ei(0,ji,i)):(0!==(e.lanes&n)&&(vo(e,t),Eo(t,null,null,n),Co()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ei(0,ji,r)):(r=o.cache,Ei(0,ji,r),r!==i.cache&&Ii(t,[ji],n,!0))),Oa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw oo=to,Zi;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!oh(t)){if(!iu())throw oo=to,Zi;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Ic|=t)}function hl(e,t){if(!hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(li(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ti(ji),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(vi(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ki())),fl(t),null;case 26:var i=t.type,o=t.memoizedState;return null===e?(ll(t),null!==o?(fl(t),ul(t,o)):(fl(t),cl(t,i,0,0,n))):o?o!==e.memoizedState?(ll(t),fl(t),ul(t,o)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),fl(t),cl(t,i,0,0,n)),null;case 27:if(X(t),n=$.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return fl(t),null}e=q.current,vi(t)?yi(t):(e=Fd(i,r,n),t.stateNode=e,ll(t))}return fl(t),null;case 5:if(X(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return fl(t),null}if(o=q.current,vi(t))yi(t);else{var a=yd($.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(o=a.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o="string"===typeof r.is?a.createElement(i,{is:r.is}):a.createElement(i)}}o[Ue]=t,o[We]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)o.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=o;e:switch(fd(o,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return fl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=$.current,vi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ui))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||gi(t,!0)}else(e=yd(e).createTextNode(r))[Ue]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=vi(t),null!==n){if(null===e){if(!r)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Ue]=t}else _i(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=ki(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Bo(t),t):(Bo(t),null);if(0!==(128&t.flags))throw Error(s(558))}return fl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=vi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Ue]=t}else _i(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),i=!1}else i=ki(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Bo(t),t):(Bo(t),null)}return Bo(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),o=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),fl(t),null);case 4:return Y(),null===e&&ed(t.stateNode.containerInfo),fl(t),null;case 10:return Ti(t.type),fl(t),null;case 19:if(B(Uo),null===(r=t.memoizedState))return fl(t),null;if(i=0!==(128&t.flags),null===(o=r.rendering))if(i)hl(r,!1);else{if(0!==Sc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Wo(e))){for(t.flags|=128,hl(r,!1),e=o.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Wr(n,e),n=n.sibling;return U(Uo,1&Uo.current|2),hi&&oi(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Oc&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Wo(o))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!hi)return fl(t),null}else 2*le()-r.renderingStartTime>Oc&&536870912!==n&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Uo.current,U(Uo,i?1&n|2:1&n),hi&&oi(t,r.treeForkCount),e):(fl(t),null);case 22:case 23:return Bo(t),Ao(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ti(ji),fl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function ml(e,t){switch(li(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ti(ji),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(Bo(t),null===t.alternate)throw Error(s(340));_i()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Bo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));_i()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(Uo),null;case 4:return Y(),null;case 10:return Ti(t.type),null;case 22:case 23:return Bo(t),Ao(),null!==e&&B(Qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ti(ji),null;default:return null}}function gl(e,t){switch(li(t),t.tag){case 3:Ti(ji),Y();break;case 26:case 27:case 5:X(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Bo(t);break;case 13:Bo(t);break;case 19:B(Uo);break;case 10:Ti(t.type);break;case 22:case 23:Bo(t),Ao(),null!==e&&B(Qi);break;case 24:Ti(ji)}}function yl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(Ht){Su(t,t.return,Ht)}}function bl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(Ht){Su(i,l,Ht)}}}r=r.next}while(r!==o)}}catch(Ht){Su(t,t.return,Ht)}}function vl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{No(t,n)}catch(Ht){Su(e,e.return,Ht)}}}function _l(e,t,n){n.props=Sa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(Ht){Su(e,t,Ht)}}function kl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(Ht){Su(e,t,Ht)}}function wl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(Ht){Su(e,t,Ht)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){Su(e,t,i)}else n.current=null}function xl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(Ht){Su(e,e.return,Ht)}}function Sl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||dd(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&dd(e,t,f,p,r,h)}}return void bt(e,a,l,c,u,d,o,i);case"select":for(o in p=a=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||dd(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&dd(e,t,i,o,r,c)}return t=l,n=a,r=p,void(null!=f?kt(e,!!n,f,!1):!!r!==!!n&&(null!=t?kt(e,!!n,t,!0):kt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dd(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&dd(e,t,a,i,r,o)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else dd(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else dd(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&dd(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:dd(e,t,u,f,r,p)}return;default:if(Nt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&hd(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||hd(e,t,d,f,r,p);return}}for(var b in n)f=n[b],n.hasOwnProperty(b)&&null!=f&&!r.hasOwnProperty(b)&&dd(e,t,b,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||dd(e,t,h,f,r,p)}(r,e.type,n,t),r[We]=t}catch(Ht){Su(e,e.return,Ht)}}function Cl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Td(e.type)||4===e.tag}function El(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Cl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Td(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Lt));else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Nl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Nl(e,t,n),e=e.sibling;null!==e;)Nl(e,t,n),e=e.sibling}function Il(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fd(t,r,n),t[Ue]=e,t[We]=n}catch(Ht){Su(e,e.return,Ht)}}var Pl=!1,Rl=!1,Ll=!1,Al="function"===typeof WeakSet?WeakSet:Set,Dl=null;function Ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Yl(e,n),4&r&&yl(5,n);break;case 1:if(Yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(Ht){Su(n,n.return,Ht)}else{var i=Sa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Su(n,n.return,s)}}64&r&&vl(n),512&r&&kl(n,n.return);break;case 3:if(Yl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{No(e,t)}catch(Ht){Su(n,n.return,Ht)}}break;case 27:null===t&&4&r&&Il(n);case 26:case 5:Yl(e,n),null===t&&4&r&&xl(n),512&r&&kl(n,n.return);break;case 12:Yl(e,n);break;case 31:Yl(e,n),4&r&&Ul(e,n);break;case 13:Yl(e,n),4&r&&Wl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Nu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Pl)){t=null!==t&&null!==t.memoizedState||Rl,i=Pl;var o=Rl;Pl=r,(Rl=t)&&!o?Xl(e,n,0!==(8772&n.subtreeFlags)):Yl(e,n),Pl=i,Rl=o}break;case 30:break;default:Yl(e,n)}}function Ml(e){var t=e.alternate;null!==t&&(e.alternate=null,Ml(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var zl=null,Fl=!1;function jl(e,t,n){for(n=n.child;null!==n;)Bl(e,t,n),n=n.sibling}function Bl(e,t,n){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ye,n)}catch(o){}switch(n.tag){case 26:Rl||wl(n,t),jl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Rl||wl(n,t);var r=zl,i=Fl;Td(n.type)&&(zl=n.stateNode,Fl=!1),jl(e,t,n),jd(n.stateNode),zl=r,Fl=i;break;case 5:Rl||wl(n,t);case 6:if(r=zl,i=Fl,zl=null,jl(e,t,n),Fl=i,null!==(zl=r))if(Fl)try{(9===zl.nodeType?zl.body:"HTML"===zl.nodeName?zl.ownerDocument.body:zl).removeChild(n.stateNode)}catch(Ht){Su(n,t,Ht)}else try{zl.removeChild(n.stateNode)}catch(Ht){Su(n,t,Ht)}break;case 18:null!==zl&&(Fl?(Nd(9===(e=zl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vh(e)):Nd(zl,n.stateNode));break;case 4:r=zl,i=Fl,zl=n.stateNode.containerInfo,Fl=!0,jl(e,t,n),zl=r,Fl=i;break;case 0:case 11:case 14:case 15:bl(2,n,t),Rl||bl(4,n,t),jl(e,t,n);break;case 1:Rl||(wl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&_l(n,t,r)),jl(e,t,n);break;case 21:jl(e,t,n);break;case 22:Rl=(r=Rl)||null!==n.memoizedState,jl(e,t,n),Rl=r;break;default:jl(e,t,n)}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vh(e)}catch(Ht){Su(t,t.return,Ht)}}}function Wl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vh(e)}catch(Ht){Su(t,t.return,Ht)}}function Hl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Al),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Al),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Iu.bind(null,e,t);t.then(r,r)}})}function ql(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(Td(l.type)){zl=l.stateNode,Fl=!1;break e}break;case 5:zl=l.stateNode,Fl=!1;break e;case 3:case 4:zl=l.stateNode.containerInfo,Fl=!0;break e}l=l.return}if(null===zl)throw Error(s(160));Bl(o,a,i),zl=null,Fl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)$l(t,e),t=t.sibling}var Vl=null;function $l(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ql(t,e),Kl(e),4&r&&(bl(3,e,e.return),yl(3,e),bl(5,e,e.return));break;case 1:ql(t,e),Kl(e),512&r&&(Rl||null===n||wl(n,n.return)),64&r&&Pl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Vl;if(ql(t,e),Kl(e),512&r&&(Rl||null===n||wl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Qe]||o[Ue]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),fd(o,r,n),o[Ue]=e,et(o),r=o;break e;case"link":var a=rh("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}fd(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=rh("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}fd(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[Ue]=e,et(o),r=o}e.stateNode=r}else ih(i,e.type,e.stateNode);else e.stateNode=Jd(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?ih(i,e.type,e.stateNode):Jd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Sl(e,e.memoizedProps,n.memoizedProps)}break;case 27:ql(t,e),Kl(e),512&r&&(Rl||null===n||wl(n,n.return)),null!==n&&4&r&&Sl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ql(t,e),Kl(e),512&r&&(Rl||null===n||wl(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(Ht){Su(e,e.return,Ht)}}4&r&&null!=e.stateNode&&Sl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Ll=!0);break;case 6:if(ql(t,e),Kl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(Ht){Su(e,e.return,Ht)}}break;case 3:if(nh=null,i=Vl,Vl=Wd(t.containerInfo),ql(t,e),Vl=i,Kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vh(t.containerInfo)}catch(Ht){Su(e,e.return,Ht)}Ll&&(Ll=!1,Ql(e));break;case 4:r=Vl,Vl=Wd(e.stateNode.containerInfo),ql(t,e),Kl(e),Vl=r;break;case 12:default:ql(t,e),Kl(e);break;case 31:case 19:ql(t,e),Kl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 13:ql(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Ac=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Pl,d=Rl;if(Pl=u||i,Rl=d||c,ql(t,e),Rl=d,Pl=u,Kl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Pl||Rl||Gl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(Ht){Su(c,c.return,Ht)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(Ht){Su(c,c.return,Ht)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Id(p,!0):Id(c.stateNode,!1)}catch(Ht){Su(c,c.return,Ht)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Hl(e,n))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Cl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;Nl(e,El(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(St(o,""),n.flags&=-33),Nl(e,El(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;Tl(e,El(e),a);break;default:throw Error(s(161))}}catch(Ht){Su(e,e.return,Ht)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ol(e,t.alternate,t),t=t.sibling}function Gl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:bl(4,t,t.return),Gl(t);break;case 1:wl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&_l(t,t.return,n),Gl(t);break;case 27:jd(t.stateNode);case 26:case 5:wl(t,t.return),Gl(t);break;case 22:null===t.memoizedState&&Gl(t);break;default:Gl(t)}e=e.sibling}}function Xl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Xl(i,o,n),yl(4,o);break;case 1:if(Xl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(Ht){Su(r,r.return,Ht)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)To(l[i],a)}catch(Ht){Su(r,r.return,Ht)}}n&&64&s&&vl(o),kl(o,o.return);break;case 27:Il(o);case 26:case 5:Xl(i,o,n),n&&null===r&&4&s&&xl(o),kl(o,o.return);break;case 12:Xl(i,o,n);break;case 31:Xl(i,o,n),n&&4&s&&Ul(i,o);break;case 13:Xl(i,o,n),n&&4&s&&Wl(i,o);break;case 22:null===o.memoizedState&&Xl(i,o,n),kl(o,o.return);break;case 30:break;default:Xl(i,o,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ui(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ui(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&i&&yl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ui(e)));break;case 12:if(2048&i){ec(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(Ht){Su(t,t.return,Ht)}}else ec(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?ec(e,t,n,r):rc(e,t):2&o._visibility?ec(e,t,n,r):(o._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Jl(s,t);break;case 24:ec(e,t,n,r),2048&i&&Zl(t.alternate,t)}}function nc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:nc(o,s,a,l,i),yl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?nc(o,s,a,l,i):rc(o,s):(u._visibility|=2,nc(o,s,a,l,i)),i&&2048&c&&Jl(s.alternate,s);break;case 24:nc(o,s,a,l,i),i&&2048&c&&Zl(s.alternate,s);break;default:nc(o,s,a,l,i)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:rc(n,r),2048&i&&Jl(r.alternate,r);break;case 24:rc(n,r),2048&i&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var ic=8192;function oc(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)sc(e,t,n),e=e.sibling}function sc(e,t,n){switch(e.tag){case 26:oc(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Kd(r.href),o=t.querySelector(Qd(i));if(o)return null!==(t=o._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ah.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,void et(o);o=t.ownerDocument||t,r=Yd(r),(i=Bd.get(i))&&eh(r,i),et(o=o.createElement("link"));var s=o;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),fd(o,"link",r),n.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ah.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vl,e.memoizedState,e.memoizedProps);break;case 5:default:oc(e,t,n);break;case 3:case 4:var r=Vl;Vl=Wd(e.stateNode.containerInfo),oc(e,t,n),Vl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ic,ic=16777216,oc(e,t,n),ic=r):oc(e,t,n))}}function ac(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,dc(r,e)}ac(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&bl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,dc(r,e)}ac(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:bl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function dc(e,t){for(;null!==Dl;){var n=Dl;switch(n.tag){case 0:case 11:case 15:bl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ui(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Dl=r;else e:for(n=e;null!==Dl;){var i=(r=Dl).sibling,o=r.return;if(Ml(r),r===n){Dl=null;break e}if(null!==i){i.return=o,Dl=i;break e}Dl=o}}}var hc={getCacheForType:function(e){var t=Ai(ji),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ai(ji).controller.signal}},fc="function"===typeof WeakMap?WeakMap:Map,pc=0,mc=null,gc=null,yc=0,bc=0,vc=null,_c=!1,kc=!1,wc=!1,xc=0,Sc=0,Cc=0,Ec=0,Tc=0,Nc=0,Ic=0,Pc=null,Rc=null,Lc=!1,Ac=0,Dc=0,Oc=1/0,Mc=null,zc=null,Fc=0,jc=null,Bc=null,Uc=0,Wc=0,Hc=null,qc=null,Vc=0,$c=null;function Kc(){return 0!==(2&pc)&&0!==yc?yc&-yc:null!==D.T?Hu():Fe()}function Qc(){if(0===Nc)if(0===(536870912&yc)||hi){var e=Se;0===(3932160&(Se<<=1))&&(Se=262144),Nc=e}else Nc=536870912;return null!==(e=Do.current)&&(e.flags|=32),Nc}function Yc(e,t,n){(e!==mc||2!==bc&&9!==bc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,yc,Nc,!1)),Le(e,n),0!==(2&pc)&&e===mc||(e===mc&&(0===(2&pc)&&(Ec|=n),4===Sc&&Zc(e,yc,Nc,!1)),Mu(e))}function Gc(e,t,n){if(0!==(6&pc))throw Error(s(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ne(e,t),i=r?function(e,t){var n=pc;pc|=2;var r=ou(),i=su();mc!==e||yc!==t?(Mc=null,Oc=le()+500,nu(e,t)):kc=Ne(e,t);e:for(;;)try{if(0!==bc&&null!==gc){t=gc;var o=vc;t:switch(bc){case 1:bc=0,vc=null,fu(e,t,o,1);break;case 2:case 9:if(no(o)){bc=0,vc=null,hu(t);break}t=function(){2!==bc&&9!==bc||mc!==e||(bc=7),Mu(e)},o.then(t,t);break e;case 3:bc=7;break e;case 4:bc=5;break e;case 7:no(o)?(bc=0,vc=null,hu(t)):(bc=0,vc=null,fu(e,t,o,7));break;case 5:var a=null;switch(gc.tag){case 26:a=gc.memoizedState;case 5:case 27:var l=gc;if(a?oh(a):l.stateNode.complete){bc=0,vc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,pu(u)):gc=null}break t}}bc=0,vc=null,fu(e,t,o,5);break;case 6:bc=0,vc=null,fu(e,t,o,6);break;case 8:tu(),Sc=6;break e;default:throw Error(s(462))}}uu();break}catch(d){ru(e,d)}return Ci=Si=null,D.H=r,D.A=i,pc=n,null!==gc?0:(mc=null,yc=0,Rr(),Sc)}(e,t):lu(e,t,!0),o=r;;){if(0===i){kc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!o||Jc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=Pc;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,a).flags|=256),2!==(a=lu(l,a,!1))){if(wc&&!c){l.errorRecoveryDisabledLanes|=o,Ec|=o,i=4;break e}o=Rc,Rc=i,null!==o&&(null===Rc?Rc=o:Rc.push.apply(Rc,o))}i=a}if(o=!1,2!==i)continue}}if(1===i){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,Nc,!_c);break e;case 2:Rc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=Ac+300-le())){if(Zc(r,t,Nc,!_c),0!==Te(r,0,!0))break e;Uc=t,r.timeoutHandle=wd(Xc.bind(null,r,n,Rc,Mc,Lc,t,Nc,Ec,Ic,_c,o,"Throttled",-0,0),i)}else Xc(r,n,Rc,Mc,Lc,t,Nc,Ec,Ic,_c,o,null,-0,0)}break}i=lu(e,t,!1),o=!1}Mu(e)}function Xc(e,t,n,r,i,o,s,a,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){sc(t,o,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Lt});var p=(62914560&o)===o?Ac-le():(4194048&o)===o?Dc-le():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sh&&(sh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,s=i.initiatorType,a=i.duration;if(o&&a&&pd(s)){for(s=0,a=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>a)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(s+=u*((l=l.responseEnd)<a?1:(a-c)/(l-c)))}if(--r,t+=8*(o+s)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,p)))return Uc=o,e.cancelPendingCommit=p(gu.bind(null,e,t,o,n,r,i,s,a,l,u,d,null,h,f)),void Zc(e,o,s,!c)}gu(e,t,o,n,r,i,s,a,l)}function Jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Zn(o(),i))return!1}catch(Ht){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Tc,t&=~Ec,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-_e(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&Ae(e,n,t)}function eu(){return 0!==(6&pc)||(zu(0,!1),!1)}function tu(){if(null!==gc){if(0===bc)var e=gc.return;else Ci=Si=null,ls(e=gc),lo=null,co=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,xd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc=0,tu(),mc=e,gc=n=Ur(e.current,null),yc=t,bc=0,vc=null,_c=!1,kc=Ne(e,t),wc=!1,Ic=Nc=Tc=Ec=Cc=Sc=0,Rc=Pc=null,Lc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-_e(r),o=1<<i;t|=e[i],r&=~o}return xc=t,Rr(),n}function ru(e,t){qo=null,D.H=ga,t===Ji||t===eo?(t=so(),bc=3):t===Zi?(t=so(),bc=4):bc=t===Aa?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,vc=t,null===gc&&(Sc=1,Na(e,Yr(t,e.current)))}function iu(){var e=Do.current;return null===e||((4194048&yc)===yc?null===Oo:((62914560&yc)===yc||0!==(536870912&yc))&&e===Oo)}function ou(){var e=D.H;return D.H=ga,null===e?ga:e}function su(){var e=D.A;return D.A=hc,e}function au(){Sc=4,_c||(4194048&yc)!==yc&&null!==Do.current||(kc=!0),0===(134217727&Cc)&&0===(134217727&Ec)||null===mc||Zc(mc,yc,Nc,!1)}function lu(e,t,n){var r=pc;pc|=2;var i=ou(),o=su();mc===e&&yc===t||(Mc=null,nu(e,t)),t=!1;var s=Sc;e:for(;;)try{if(0!==bc&&null!==gc){var a=gc,l=vc;switch(bc){case 8:tu(),s=6;break e;case 3:case 2:case 9:case 6:null===Do.current&&(t=!0);var c=bc;if(bc=0,vc=null,fu(e,a,l,c),n&&kc){s=0;break e}break;default:c=bc,bc=0,vc=null,fu(e,a,l,c)}}cu(),s=Sc;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,Ci=Si=null,pc=r,D.H=i,D.A=o,null===gc&&(mc=null,yc=0,Rr()),s}function cu(){for(;null!==gc;)du(gc)}function uu(){for(;null!==gc&&!se();)du(gc)}function du(e){var t=al(e.alternate,e,xc);e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=$a(n,t,t.pendingProps,t.type,void 0,yc);break;case 11:t=$a(n,t,t.pendingProps,t.type.render,t.ref,yc);break;case 5:ls(t);default:gl(n,t),t=al(n,t=gc=Wr(t,xc),xc)}e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function fu(e,t,n,r){Ci=Si=null,ls(t),lo=null,co=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Pi(t,n,i,!0),null!==(n=Do.current)){switch(n.tag){case 31:case 13:return null===Oo?au():null===n.alternate&&0===Sc&&(Sc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===to?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Cu(e,r,i)),!1;case 22:return n.flags|=65536,r===to?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Cu(e,r,i)),!1}throw Error(s(435,n.tag))}return Cu(e,r,i),au(),!1}if(hi)return null!==(t=Do.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==mi&&wi(Yr(e=Error(s(422),{cause:r}),n))):(r!==mi&&wi(Yr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Yr(r,n),xo(e,i=Pa(e.stateNode,r,i)),4!==Sc&&(Sc=2)),!1;var o=Error(s(520),{cause:r});if(o=Yr(o,n),null===Pc?Pc=[o]:Pc.push(o),4!==Sc&&(Sc=2),null===t)return!0;r=Yr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,xo(n,e=Pa(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===zc||!zc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,La(i=Ra(i),e,n,r),xo(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,yc))return Sc=1,Na(e,Yr(n,e.current)),void(gc=null)}catch(Ht){if(null!==i)throw gc=i,Ht;return Sc=1,Na(e,Yr(n,e.current)),void(gc=null)}32768&t.flags?(hi||1===r?e=!0:kc||0!==(536870912&yc)?e=!1:(_c=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Do.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,_c);e=t.return;var n=pl(t.alternate,t,xc);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===Sc&&(Sc=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);Sc=6,gc=null}function gu(e,t,n,r,i,o,a,l,c){e.cancelPendingCommit=null;do{ku()}while(0!==Fc);if(0!==(6&pc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-_e(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ae(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Pr,a,l,c),e===mc&&(gc=mc=null,yc=0),Bc=t,jc=e,Uc=n,Wc=o,Hc=i,qc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return wu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,i=O.p,O.p=2,a=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,md=_h,or(e=ir(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},_h=!1,Dl=t;null!==Dl;)if(e=(t=Dl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Dl=e;else for(;null!==Dl;){switch(o=(t=Dl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=Sa(n.type,i);e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(Ht){Su(n,n.return,Ht)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Pd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Dl=e;break}Dl=t.return}}(e,t)}finally{pc=a,O.p=i,D.T=r}}Fc=1,yu(),bu(),vu()}}function yu(){if(1===Fc){Fc=0;var e=jc,t=Bc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=O.p;O.p=2;var i=pc;pc|=4;try{$l(t,e);var o=gd,s=ir(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&rr(a.ownerDocument.documentElement,a)){if(null!==l&&or(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var y=nr(a,m),b=nr(a,g);if(y&&b&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==b.node||f.focusOffset!==b.offset)){var v=d.createRange();v.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(v),f.extend(b.node,b.offset)):(v.setEnd(b.node,b.offset),f.addRange(v))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var _=d[a];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}_h=!!md,gd=md=null}finally{pc=i,O.p=r,D.T=n}}e.current=t,Fc=2}}function bu(){if(2===Fc){Fc=0;var e=jc,t=Bc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=O.p;O.p=2;var i=pc;pc|=4;try{Ol(e,t.alternate,t)}finally{pc=i,O.p=r,D.T=n}}Fc=3}}function vu(){if(4===Fc||3===Fc){Fc=0,ae();var e=jc,t=Bc,n=Uc,r=qc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fc=5:(Fc=0,Bc=jc=null,_u(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(zc=null),ze(n),t=t.stateNode,be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,i=O.p,O.p=2,D.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];o(a.value,{componentStack:a.stack})}}finally{D.T=t,O.p=i}}0!==(3&Uc)&&ku(),Mu(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===$c?Vc++:(Vc=0,$c=e):Vc=0,zu(0,!1)}}function _u(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ui(t)))}function ku(){return yu(),bu(),vu(),wu()}function wu(){if(5!==Fc)return!1;var e=jc,t=Wc;Wc=0;var n=ze(Uc),r=D.T,i=O.p;try{O.p=32>n?32:n,D.T=null,n=Hc,Hc=null;var o=jc,a=Uc;if(Fc=0,Bc=jc=null,Uc=0,0!==(6&pc))throw Error(s(331));var l=pc;if(pc|=4,cc(o.current),tc(o,o.current,a,n),pc=l,zu(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ye,o)}catch(c){}return!0}finally{O.p=i,D.T=r,_u(e,t)}}function xu(e,t,n){t=Yr(n,t),null!==(e=ko(e,t=Pa(e.stateNode,t,2),2))&&(Le(e,2),Mu(e))}function Su(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===zc||!zc.has(r))){e=Yr(n,e),null!==(r=ko(t,n=Ra(2),2))&&(La(n,r,t,e),Le(r,2),Mu(r));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(wc=!0,i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(yc&n)===n&&(4===Sc||3===Sc&&(62914560&yc)===yc&&300>le()-Ac?0===(2&pc)&&nu(e,0):Tc|=n,Ic===yc&&(Ic=0)),Mu(e)}function Tu(e,t){0===t&&(t=Pe()),null!==(e=Dr(e,t))&&(Le(e,t),Mu(e))}function Nu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tu(e,n)}var Pu=null,Ru=null,Lu=!1,Au=!1,Du=!1,Ou=0;function Mu(e){e!==Ru&&null===e.next&&(null===Ru?Pu=Ru=e:Ru=Ru.next=e),Au=!0,Lu||(Lu=!0,Cd(function(){0!==(6&pc)?ie(ue,Fu):ju()}))}function zu(e,t){if(!Du&&Au){Du=!0;do{for(var n=!1,r=Pu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-_e(42|e)+1)-1,o=201326741&(o&=i&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Wu(r,o))}else o=yc,0===(3&(o=Te(r,r===mc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ne(r,o)||(n=!0,Wu(r,o));r=r.next}}while(n);Du=!1}}function Fu(){ju()}function ju(){Au=Lu=!1;var e=0;0!==Ou&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==kd&&(kd=e,!0);return kd=null,!1}()&&(e=Ou);for(var t=le(),n=null,r=Pu;null!==r;){var i=r.next,o=Bu(r,t);0===o?(r.next=null,null===n?Pu=i:n.next=i,null===i&&(Ru=n)):(n=r,(0!==e||0!==(3&o))&&(Au=!0)),r=i}0!==Fc&&5!==Fc||zu(e,!1),0!==Ou&&(Ou=0)}function Bu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-_e(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=Ie(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=yc,n=Te(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===bc||9===bc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ne(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),ze(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=Uu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function Uu(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=yc;return 0===(r=Te(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Gc(e,r,t),Bu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Uu.bind(null,e):null)}function Wu(e,t){if(ku())return null;Gc(e,t,!0)}function Hu(){if(0===Ou){var e=qi;0===e&&(e=xe,0===(261888&(xe<<=1))&&(xe=256)),Ou=e}return Ou}function qu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function Vu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var $u=0;$u<Cr.length;$u++){var Ku=Cr[$u];Er(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}Er(yr,"onAnimationEnd"),Er(br,"onAnimationIteration"),Er(vr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(_r,"onTransitionRun"),Er(kr,"onTransitionStart"),Er(wr,"onTransitionCancel"),Er(xr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function Gu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(Ht){Tr(Ht)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(Ht){Tr(Ht)}i.currentTarget=null,o=l}}}}function Xu(e,t){var n=t[qe];void 0===n&&(n=t[qe]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Yu.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Ju("selectionchange",!1,t))}}function td(e,t,n,r){switch(Th(t)){case 2:var i=kh;break;case 8:i=wh;break;default:i=xh}n=i.bind(null,t,n,e),i=void 0,!Wt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nd(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==a;){if(null===(s=Ge(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=o=s;continue e}a=a.parentNode}}r=r.return}jt(function(){var r=o,i=Dt(n),s=[];e:{var a=Sr.get(e);if(void 0!==a){var c=rn,u=e;switch(e){case"keypress":if(0===Yt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=un;break;case"focusout":u="blur",c=un;break;case"beforeblur":case"afterblur":c=un;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=kn;break;case yr:case br:case vr:c=dn;break;case xr:c=wn;break;case"scroll":case"scrollend":c=sn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=_n;break;case"toggle":case"beforetoggle":c=Sn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==a?a+"Capture":null:a;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Bt(m,f))&&d.push(rd(m,g,p)),h)break;m=m.return}0<d.length&&(a=new c(a,u,null,n,i),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!Ge(u)&&!u[He])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ge(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=ln,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=_n,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?a:Je(c),p=null==u?a:Je(u),(a=new d(g,m+"leave",c,n,i)).target=h,a.relatedTarget=p,g=null,Ge(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=od,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var y=m;y;y=d(y))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&sd(s,a,c,d,!1),null!==u&&null!==h&&sd(s,h,u,d,!0)}if("select"===(c=(a=r?Je(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var b=Wn;else if(Mn(a))if(Hn)b=Jn;else{b=Gn;var v=Yn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Nt(r.elementType)&&(b=Wn):b=Xn;switch(b&&(b=b(e,r))?zn(s,b,n,i):(v&&v(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&_t(a,"number",a.value)),v=r?Je(r):window,e){case"focusin":(Mn(v)||"true"===v.contentEditable)&&(ar=v,lr=r,cr=null);break;case"focusout":cr=lr=ar=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,dr(s,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":dr(s,n,i)}var _;if(En)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Dn?Ln(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(In&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Dn&&(_=Qt()):($t="value"in(Vt=i)?Vt.value:Vt.textContent,Dn=!0)),0<(v=id(r,k)).length&&(k=new fn(k,e,null,n,i),s.push({event:k,listeners:v}),_?k.data=_:null!==(_=An(n))&&(k.data=_))),(_=Nn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Rn=!0,Pn);case"textInput":return(e=t.data)===Pn&&Rn?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!En&&Ln(e,t)?(e=Qt(),Kt=$t=Vt=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(k=id(r,"onBeforeInput")).length&&(v=new fn("onBeforeInput","beforeinput",null,n,i),s.push({event:v,listeners:k}),v.data=_)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=qu((i[We]||null).action),s=r.submitter;s&&null!==(t=(t=s[We]||null)?qu(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new rn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Ou){var e=s?Vu(i,s):new FormData(i);na(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?Vu(i,s):new FormData(i),na(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}Gu(s,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Bt(e,n))&&r.unshift(rd(e,i,o)),null!=(i=Bt(e,t))&&r.push(rd(e,i,o))),3===e.tag)return r;e=e.return}return[]}function od(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sd(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=Bt(n,o))&&s.unshift(rd(n,c,l)):i||null!=(c=Bt(n,o))&&s.push(rd(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var ad=/\r\n?/g,ld=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(ad,"\n").replace(ld,"")}function ud(e,t){return t=cd(t),cd(e)===t}function dd(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Tt(e,r,o);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&dd(e,t,"name",i.name,i,null),dd(e,t,"formEncType",i.formEncType,i,null),dd(e,t,"formMethod",i.formMethod,i,null),dd(e,t,"formTarget",i.formTarget,i,null)):(dd(e,t,"encType",i.encType,i,null),dd(e,t,"method",i.method,i,null),dd(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Lt);break;case"onScroll":null!=r&&Xu("scroll",e);break;case"onScrollEnd":null!=r&&Xu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Rt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Xu("beforetoggle",e),Xu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=It.get(n)||n,r)}}function hd(e,t,n,r,i,o){switch(n){case"style":Tt(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Xu("scroll",e);break;case"onScrollEnd":null!=r&&Xu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Lt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[We]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function fd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xu("error",e),Xu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:dd(e,t,r,a,n,null)}}return o&&dd(e,t,"srcSet",n.srcSet,n,null),void(i&&dd(e,t,"src",n.src,n,null));case"input":Xu("invalid",e);var l=r=a=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:dd(e,t,i,d,n,null)}}return void vt(e,r,l,c,u,a,o,!1);case"select":for(o in Xu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:dd(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?kt(e,!!i,t,!1):null!=n&&kt(e,!!i,n,!0));case"textarea":for(a in Xu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:dd(e,t,a,l,n,null)}return void xt(e,i,o,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else dd(e,t,c,i,n,null);return;case"dialog":Xu("beforetoggle",e),Xu("toggle",e),Xu("cancel",e),Xu("close",e);break;case"iframe":case"object":Xu("load",e);break;case"video":case"audio":for(i=0;i<Qu.length;i++)Xu(Qu[i],e);break;case"image":Xu("error",e),Xu("load",e);break;case"details":Xu("toggle",e);break;case"embed":case"source":case"link":Xu("error",e),Xu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:dd(e,t,u,i,n,null)}return;default:if(Nt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&hd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&dd(e,t,l,i,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,gd=null;function yd(e){return 9===e.nodeType?e:e.ownerDocument}function bd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function _d(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var kd=null;var wd="function"===typeof setTimeout?setTimeout:void 0,xd="function"===typeof clearTimeout?clearTimeout:void 0,Sd="function"===typeof Promise?Promise:void 0,Cd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Sd?function(e){return Sd.resolve(null).then(e).catch(Ed)}:wd;function Ed(e){setTimeout(function(){throw e})}function Td(e){return"head"===e}function Nd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Vh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)jd(e.ownerDocument.documentElement);else if("head"===n){jd(n=e.ownerDocument.head);for(var o=n.firstChild;o;){var s=o.nextSibling,a=o.nodeName;o[Qe]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}else"body"===n&&jd(e.ownerDocument.body);n=i}while(n);Vh(t)}function Id(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pd(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Rd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}function Ld(e){return"$?"===e.data||"$~"===e.data}function Ad(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Dd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Od=null;function Md(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Dd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function zd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fd(e,t,n){switch(t=yd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function jd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Bd=new Map,Ud=new Set;function Wd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hd=O.d;O.d={f:function(){var e=Hd.f(),t=eu();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?ia(t):Hd.r(e)},D:function(e){Hd.D(e),Vd("dns-prefetch",e,null)},C:function(e,t){Hd.C(e,t),Vd("preconnect",e,t)},L:function(e,t,n){Hd.L(e,t,n);var r=qd;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var o=i;switch(t){case"style":o=Kd(e);break;case"script":o=Gd(e)}Bd.has(o)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Bd.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Qd(o))||"script"===t&&r.querySelector(Xd(o))||(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Hd.m(e,t);var n=qd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Gd(e)}if(!Bd.has(o)&&(e=f({rel:"modulepreload",href:e},t),Bd.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xd(o)))return}fd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Hd.X(e,t);var n=qd;if(n&&e){var r=Ze(n).hoistableScripts,i=Gd(e),o=r.get(i);o||((o=n.querySelector(Xd(i)))||(e=f({src:e,async:!0},t),(t=Bd.get(i))&&th(e,t),et(o=n.createElement("script")),fd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Hd.S(e,t,n);var r=qd;if(r&&e){var i=Ze(r).hoistableStyles,o=Kd(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Qd(o)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Bd.get(o))&&eh(e,n);var l=s=r.createElement("link");et(l),fd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Zd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){Hd.M(e,t);var n=qd;if(n&&e){var r=Ze(n).hoistableScripts,i=Gd(e),o=r.get(i);o||((o=n.querySelector(Xd(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Bd.get(i))&&th(e,t),et(o=n.createElement("script")),fd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var qd="undefined"===typeof document?null:document;function Vd(e,t,n){var r=qd;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Ud.has(i)||(Ud.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function $d(e,t,n,r){var i,o,a,l,c=(c=$.current)?Wd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Kd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Kd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Qd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Bd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Bd.set(e,n),u||(i=c,o=e,a=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),fd(o,"link",a),et(o),i.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Gd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Kd(e){return'href="'+yt(e)+'"'}function Qd(e){return'link[rel="stylesheet"]['+e+"]"}function Yd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Gd(e){return'[src="'+yt(e)+'"]'}function Xd(e){return"script[async]"+e}function Jd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fd(r,"style",i),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Kd(n.href);var o=e.querySelector(Qd(i));if(o)return t.state.loading|=4,t.instance=o,et(o),o;r=Yd(n),(i=Bd.get(i))&&eh(r,i),et(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),fd(o,"link",r),t.state.loading|=4,Zd(o,n.precedence,e),t.instance=o;case"script":return o=Gd(n.src),(i=e.querySelector(Xd(o)))?(t.instance=i,et(i),i):(r=n,(i=Bd.get(o))&&th(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),fd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nh=null;function rh(e,t,n){if(null===nh){var r=new Map,i=nh=new Map;i.set(n,r)}else(r=(i=nh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Qe]||o[Ue]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function ih(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function oh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sh=0;function ah(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lh=new Map,t.forEach(uh,e),lh=null,ah.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=lh.get(e);if(n)var r=n.get(null);else{n=new Map,lh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=ah.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var dh={$$typeof:k,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function hh(e,t,n,r,i,o,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fh(e,t,n,r,i,o,s,a,l,c,u,d){return e=new hh(e,t,n,s,l,c,u,d,a),t=1,!0===o&&(t|=24),o=jr(3,null,null,t),e.current=o,o.stateNode=e,(t=Bi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},bo(o),e}function ph(e){return e?e=zr:zr}function mh(e,t,n,r,i,o){i=ph(i),null===r.context?r.context=i:r.pendingContext=i,(r=_o(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=ko(e,r,t))&&(Yc(n,0,t),wo(n,e,t))}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yh(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function bh(e){if(13===e.tag||31===e.tag){var t=Dr(e,67108864);null!==t&&Yc(t,0,67108864),yh(e,67108864)}}function vh(e){if(13===e.tag||31===e.tag){var t=Kc(),n=Dr(e,t=Me(t));null!==n&&Yc(n,0,t),yh(e,t)}}var _h=!0;function kh(e,t,n,r){var i=D.T;D.T=null;var o=O.p;try{O.p=2,xh(e,t,n,r)}finally{O.p=o,D.T=i}}function wh(e,t,n,r){var i=D.T;D.T=null;var o=O.p;try{O.p=8,xh(e,t,n,r)}finally{O.p=o,D.T=i}}function xh(e,t,n,r){if(_h){var i=Sh(r);if(null===i)nd(e,t,r,Ch,n),Mh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ih=zh(Ih,e,t,n,r,i),!0;case"dragenter":return Ph=zh(Ph,e,t,n,r,i),!0;case"mouseover":return Rh=zh(Rh,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Lh.set(o,zh(Lh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ah.set(o,zh(Ah.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mh(e,r),4&t&&-1<Oh.indexOf(e)){for(;null!==i;){var o=Xe(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=Ee(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-_e(s);a.entanglements[1]|=l,s&=~l}Mu(o),0===(6&pc)&&(Oc=le()+500,zu(0,!1))}}break;case 31:case 13:null!==(a=Dr(o,2))&&Yc(a,0,2),eu(),yh(o,2)}if(null===(o=Sh(r))&&nd(e,t,r,Ch,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else nd(e,t,r,null,n)}}function Sh(e){return Eh(e=Dt(e))}var Ch=null;function Eh(e){if(Ch=null,null!==(e=Ge(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ch=e,null}function Th(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Nh=!1,Ih=null,Ph=null,Rh=null,Lh=new Map,Ah=new Map,Dh=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mh(e,t){switch(e){case"focusin":case"focusout":Ih=null;break;case"dragenter":case"dragleave":Ph=null;break;case"mouseover":case"mouseout":Rh=null;break;case"pointerover":case"pointerout":Lh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ah.delete(t.pointerId)}}function zh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Xe(t))&&bh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fh(e){var t=Ge(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void je(e.priority,function(){vh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void je(e.priority,function(){vh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sh(e.nativeEvent);if(null!==n)return null!==(t=Xe(n))&&bh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function Bh(e,t,n){jh(e)&&n.delete(t)}function Uh(){Nh=!1,null!==Ih&&jh(Ih)&&(Ih=null),null!==Ph&&jh(Ph)&&(Ph=null),null!==Rh&&jh(Rh)&&(Rh=null),Lh.forEach(Bh),Ah.forEach(Bh)}function Wh(e,t){e.blockedOn===t&&(e.blockedOn=null,Nh||(Nh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Uh)))}var Hh=null;function qh(e){Hh!==e&&(Hh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hh===e&&(Hh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Eh(r||n))continue;break}var o=Xe(n);null!==o&&(e.splice(t,3),t-=3,na(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Vh(e){function t(t){return Wh(t,e)}null!==Ih&&Wh(Ih,e),null!==Ph&&Wh(Ph,e),null!==Rh&&Wh(Rh,e),Lh.forEach(t),Ah.forEach(t);for(var n=0;n<Dh.length;n++){var r=Dh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Dh.length&&null===(n=Dh[0]).blockedOn;)Fh(n),null===n.blockedOn&&Dh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[We]||null;if("function"===typeof o)s||qh(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[We]||null)a=s.formAction;else if(null!==Eh(i))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),qh(n)}}}function $h(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Kh(e){this._internalRoot=e}function Qh(e){this._internalRoot=e}Qh.prototype.render=Kh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));mh(t.current,Kc(),e,t,null,null)},Qh.prototype.unmount=Kh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),eu(),t[He]=null}},Qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dh.length&&0!==t&&t<Dh[n].priority;n++);Dh.splice(n,0,e),0===n&&Fh(e)}};var Yh=i.version;if("19.2.3"!==Yh)throw Error(s(527,Yh,"19.2.3"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return d(i),e;if(o===r)return d(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Gh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{ye=Xh.inject(Gh),be=Xh}catch(Zh){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=Ca,o=Ea,l=Ta;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fh(e,1,!1,null,0,n,r,null,i,o,l,$h),e[He]=t.current,ed(e),new Kh(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",o=Ca,l=Ea,c=Ta,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=fh(e,1,!0,t,0,r,i,u,o,l,c,$h)).context=ph(null),n=t.current,(i=_o(r=Me(r=Kc()))).callback=null,ko(n,i,r),n=r,t.current.lanes=n,Le(t,n),Mu(t),e[He]=t.current,ed(e),new Qh(t)},t.version="19.2.3"},43(e,t,n){e.exports=n(288)},288(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function v(){}function _(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=b.prototype;var k=_.prototype=new v;k.constructor=_,g(k,b.prototype),k.isPureReactComponent=!0;var w=Array.isArray;function x(){}var S={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function E(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return P((u=e._init)(e._payload),t,i,o,s)}}if(u)return s=s(e),u=""===o?"."+I(e,0):o,w(s)?(i="",null!=u&&(i=u.replace(N,"$&/")+"/"),P(s,t,i,"",function(e){return e})):null!=s&&(T(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(N,"$&/")+"/")+u,s=E(l.type,c,l.props)),t.push(s)),1;u=0;var d,f=""===o?".":o+":";if(w(e))for(var m=0;m<e.length;m++)u+=P(o=e[m],t,i,a=f+I(o,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=P(o=o.value,t,i,a=f+I(o,m++),s);else if("object"===a){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function L(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},D={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=D,t.Component=b,t.Fragment=i,t.Profiler=s,t.PureComponent=_,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.key&&(i=""+t.key),t)!C.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return E(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)C.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return E(e,o,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(x,A)}catch(Ht){A(Ht)}finally{null!==t&&null!==n.types&&(t.types=n.types),S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useEffectEvent=function(e){return S.H.useEffectEvent(e)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.2.3"},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579(e,t,n){e.exports=n(799)},672(e,t,n){var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},799(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853(e,t,n){e.exports=n(896)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,b="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,k(e),!m)if(null!==r(c))m=!0,S||(S=!0,x());else{var t=r(u);null!==t&&L(w,t.startTime-e)}}var x,S=!1,C=-1,E=5,T=-1;function N(){return!!y||!(t.unstable_now()-T<E)}function I(){if(y=!1,S){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,v(C),C=-1),p=!0;var o=f;try{t:{for(k(e),h=r(c);null!==h&&!(h.expirationTime>e&&N());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,k(e),n=!0;break t}h===r(c)&&i(c),k(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&L(w,l.startTime-e),n=!1}}break e}finally{h=null,f=o,p=!1}n=void 0}}finally{n?x():S=!1}}}if("function"===typeof _)x=function(){_(I)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=I,x=function(){R.postMessage(null)}}else x=function(){b(I,0)};function L(e,n){C=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(C),C=-1):g=!0,L(w,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,S||(S=!0,x()))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".69eb5c60.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="shiden-game:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.p="/shiden/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,o,[s,a,l]=r,c=0;if(s.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkshiden_game=self.webpackChunkshiden_game||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u={};!function e(t,n,r,i){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),s="function"===typeof Path2D&&"function"===typeof DOMMatrix;function a(){}function l(e){var r=n.exports.Promise,i=void 0!==r?r:t.Promise;return"function"===typeof i?new i(e):(e(a,a),null)}var c,u=function(e,t){return{transform:function(n){if(e)return n;if(t.has(n))return t.get(n);var r=new OffscreenCanvas(n.width,n.height);return r.getContext("2d").drawImage(n,0,0),t.set(n,r),r},clear:function(){t.clear()}}}(function(){if(!t.OffscreenCanvas)return!1;try{var e=new OffscreenCanvas(1,1),n=e.getContext("2d");n.fillRect(0,0,1,1);var r=e.transferToImageBitmap();n.createPattern(r,"no-repeat")}catch(i){return!1}return!0}(),new Map),d=function(){var e,t,n=Math.floor(1e3/60),r={},i=0;return"function"===typeof requestAnimationFrame&&"function"===typeof cancelAnimationFrame?(e=function(e){var t=Math.random();return r[t]=requestAnimationFrame(function o(s){i===s||i+n-1<s?(i=s,delete r[t],e()):r[t]=requestAnimationFrame(o)}),t},t=function(e){r[e]&&cancelAnimationFrame(r[e])}):(e=function(e){return setTimeout(e,n)},t=function(e){return clearTimeout(e)}),{frame:e,cancel:t}}(),h=function(){var t,n,i={};return function(){if(t)return t;if(!r&&o){var s=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{t=new Worker(URL.createObjectURL(new Blob([s])))}catch(a){return"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn("\ud83c\udf8a Could not load worker",a),null}!function(e){function t(t,n){e.postMessage({options:t||{},callback:n})}e.init=function(t){var n=t.transferControlToOffscreen();e.postMessage({canvas:n},[n])},e.fire=function(r,o,s){if(n)return t(r,null),n;var a=Math.random().toString(36).slice(2);return n=l(function(o){function l(t){t.data.callback===a&&(delete i[a],e.removeEventListener("message",l),n=null,u.clear(),s(),o())}e.addEventListener("message",l),t(r,a),i[a]=l.bind(null,{data:{callback:a}})})},e.reset=function(){for(var t in e.postMessage({reset:!0}),i)i[t](),delete i[t]}}(t)}return t}}(),f={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function p(e,t,n){return function(e,t){return t?t(e):e}(e&&(null!==(r=e[t])&&void 0!==r)?e[t]:f[t],n);var r}function m(e){return e<0?0:Math.floor(e)}function g(e,t){return Math.floor(Math.random()*(t-e))+e}function y(e){return parseInt(e,16)}function b(e){return e.map(v)}function v(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:y(t.substring(0,2)),g:y(t.substring(2,4)),b:y(t.substring(4,6))}}function _(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function k(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function w(e){var t=e.angle*(Math.PI/180),n=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*n-Math.random()*n),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}function x(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var n=t.tick++/t.totalTicks,r=t.x+t.random*t.tiltCos,i=t.y+t.random*t.tiltSin,o=t.wobbleX+t.random*t.tiltCos,a=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-n)+")",e.beginPath(),s&&"path"===t.shape.type&&"string"===typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill(function(e,t,n,r,i,o,s){var a=new Path2D(e),l=new Path2D;l.addPath(a,new DOMMatrix(t));var c=new Path2D;return c.addPath(l,new DOMMatrix([Math.cos(s)*i,Math.sin(s)*i,-Math.sin(s)*o,Math.cos(s)*o,n,r])),c}(t.shape.path,t.shape.matrix,t.x,t.y,.1*Math.abs(o-r),.1*Math.abs(a-i),Math.PI/10*t.wobble));else if("bitmap"===t.shape.type){var l=Math.PI/10*t.wobble,c=.1*Math.abs(o-r),d=.1*Math.abs(a-i),h=t.shape.bitmap.width*t.scalar,f=t.shape.bitmap.height*t.scalar,p=new DOMMatrix([Math.cos(l)*c,Math.sin(l)*c,-Math.sin(l)*d,Math.cos(l)*d,t.x,t.y]);p.multiplySelf(new DOMMatrix(t.shape.matrix));var m=e.createPattern(u.transform(t.shape.bitmap),"no-repeat");m.setTransform(p),e.globalAlpha=1-n,e.fillStyle=m,e.fillRect(t.x-h/2,t.y-f/2,h,f),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(o-r)*t.ovalScalar,Math.abs(a-i)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,n,r,i,o,s,a,l){e.save(),e.translate(t,n),e.rotate(o),e.scale(r,i),e.arc(0,0,1,s,a,l),e.restore()}(e,t.x,t.y,Math.abs(o-r)*t.ovalScalar,Math.abs(a-i)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if("star"===t.shape)for(var g=Math.PI/2*3,y=4*t.scalar,b=8*t.scalar,v=t.x,_=t.y,k=5,w=Math.PI/k;k--;)v=t.x+Math.cos(g)*b,_=t.y+Math.sin(g)*b,e.lineTo(v,_),g+=w,v=t.x+Math.cos(g)*y,_=t.y+Math.sin(g)*y,e.lineTo(v,_),g+=w;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(i)),e.lineTo(Math.floor(o),Math.floor(a)),e.lineTo(Math.floor(r),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}function S(e,n){var s,a=!e,c=!!p(n||{},"resize"),f=!1,y=p(n,"disableForReducedMotion",Boolean),v=o&&!!p(n||{},"useWorker")?h():null,S=a?_:k,C=!(!e||!v)&&!!e.__confetti_initialized,E="function"===typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function T(t,n,o){for(var a=p(t,"particleCount",m),c=p(t,"angle",Number),h=p(t,"spread",Number),f=p(t,"startVelocity",Number),y=p(t,"decay",Number),v=p(t,"gravity",Number),_=p(t,"drift",Number),k=p(t,"colors",b),C=p(t,"ticks",Number),E=p(t,"shapes"),T=p(t,"scalar"),N=!!p(t,"flat"),I=function(e){var t=p(e,"origin",Object);return t.x=p(t,"x",Number),t.y=p(t,"y",Number),t}(t),P=a,R=[],L=e.width*I.x,A=e.height*I.y;P--;)R.push(w({x:L,y:A,angle:c,spread:h,startVelocity:f,color:k[P%k.length],shape:E[g(0,E.length)],ticks:C,decay:y,gravity:v,drift:_,scalar:T,flat:N}));return s?s.addFettis(R):(s=function(e,t,n,o,s){var a,c,h=t.slice(),f=e.getContext("2d"),p=l(function(t){function l(){a=c=null,f.clearRect(0,0,o.width,o.height),u.clear(),s(),t()}a=d.frame(function t(){!r||o.width===i.width&&o.height===i.height||(o.width=e.width=i.width,o.height=e.height=i.height),o.width||o.height||(n(e),o.width=e.width,o.height=e.height),f.clearRect(0,0,o.width,o.height),(h=h.filter(function(e){return x(f,e)})).length?a=d.frame(t):l()}),c=l});return{addFettis:function(e){return h=h.concat(e),p},canvas:e,promise:p,reset:function(){a&&d.cancel(a),c&&c()}}}(e,R,S,n,o),s.promise)}function N(n){var r=y||p(n,"disableForReducedMotion",Boolean),i=p(n,"zIndex",Number);if(r&&E)return l(function(e){e()});a&&s?e=s.canvas:a&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(i),document.body.appendChild(e)),c&&!C&&S(e);var o={width:e.width,height:e.height};function u(){if(v){var t={getBoundingClientRect:function(){if(!a)return e.getBoundingClientRect()}};return S(t),void v.postMessage({resize:{width:t.width,height:t.height}})}o.width=o.height=null}function d(){s=null,c&&(f=!1,t.removeEventListener("resize",u)),a&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,C=!1)}return v&&!C&&v.init(e),C=!0,v&&(e.__confetti_initialized=!0),c&&!f&&(f=!0,t.addEventListener("resize",u,!1)),v?v.fire(n,o,d):T(n,o,d)}return N.reset=function(){v&&v.reset(),s&&s.reset()},N}function C(){return c||(c=S(null,{useWorker:!0,resize:!0})),c}n.exports=function(){return C().apply(this,arguments)},n.exports.reset=function(){C().reset()},n.exports.create=S,n.exports.shapeFromPath=function(e){if(!s)throw new Error("path confetti are not supported in this browser");var t,n;"string"===typeof e?t=e:(t=e.path,n=e.matrix);var r=new Path2D(t),i=document.createElement("canvas").getContext("2d");if(!n){for(var o,a,l=1e3,c=l,u=l,d=0,h=0,f=0;f<l;f+=2)for(var p=0;p<l;p+=2)i.isPointInPath(r,f,p,"nonzero")&&(c=Math.min(c,f),u=Math.min(u,p),d=Math.max(d,f),h=Math.max(h,p));o=d-c,a=h-u;var m=Math.min(10/o,10/a);n=[m,0,0,m,-Math.round(o/2+c)*m,-Math.round(a/2+u)*m]}return{type:"path",path:t,matrix:n}},n.exports.shapeFromText=function(e){var t,n=1,r="#000000",i='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"===typeof e?t=e:(t=e.text,n="scalar"in e?e.scalar:n,i="fontFamily"in e?e.fontFamily:i,r="color"in e?e.color:r);var o=10*n,s=o+"px "+i,a=new OffscreenCanvas(o,o),l=a.getContext("2d");l.font=s;var c=l.measureText(t),u=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft),d=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent),h=c.actualBoundingBoxLeft+2,f=c.actualBoundingBoxAscent+2;u+=4,d+=4,(l=(a=new OffscreenCanvas(u,d)).getContext("2d")).font=s,l.fillStyle=r,l.fillText(t,h,f);var p=1/n;return{type:"bitmap",bitmap:a.transferToImageBitmap(),matrix:[p,0,0,p,-u*p/2,-d*p/2]}}}(function(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:this||{}}(),u,!1);const d=u.exports;u.exports.create;const h=!1,f=!1,p="${JSCORE_VERSION}",m=function(e,t){if(!e)throw g(t)},g=function(e){return new Error("Firebase Database ("+p+") INTERNAL ASSERT FAILED: "+e)},y=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},b={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(y(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new v;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class v extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _=function(e){const t=y(e);return b.encodeByteArray(t,!0)},k=function(e){return _(e).replace(/\./g,"")},w=function(e){try{return b.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function x(e){return S(void 0,e)}function S(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&C(n)&&(e[n]=S(e[n],t[n]));return e}function C(e){return"__proto__"!==e}const E=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,T=()=>{try{return E()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/shiden",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&w(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},N=e=>{const t=(e=>{var t;return null===(t=T())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},I=()=>{var e;return null===(e=T())||void 0===e?void 0:e.config};class P{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function R(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}const L={};let A=!1;function D(e,t){if("undefined"===typeof window||"undefined"===typeof document||!R(window.location.host)||L[e]===t||L[e]||A)return;function n(e){return"__firebase__banner__".concat(e)}L[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(L))L[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{A=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function O(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function M(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function z(){return!0===h||!0===f}class F extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,F.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j.prototype.create)}}class j{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(B,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new F(n,o,t)}}const B=/\{\$([^}]+)}/g;function U(e){return JSON.parse(e)}function W(e){return JSON.stringify(e)}const H=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=U(w(o[0])||""),n=U(w(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function $(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function K(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Q(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Y(n)&&Y(o)){if(!Q(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Y(e){return null!==e&&"object"===typeof e}class G{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function X(e,t){return"".concat(e," failed: ").concat(t," argument ")}const J=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Z(e){return e&&e._delegate?e._delegate:e}class ee{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const te="[DEFAULT]";class ne{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new P;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:te})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===te?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return this.component?this.component.multipleInstances?e:te:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class re{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ne(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ie=[];var oe;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(oe||(oe={}));const se={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},ae=oe.INFO,le={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},ce=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=le[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class ue{constructor(e){this.name=e,this._logLevel=ae,this._logHandler=ce,this._userLogHandler=null,ie.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?se[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...t),this._logHandler(this,oe.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...t),this._logHandler(this,oe.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,oe.INFO,...t),this._logHandler(this,oe.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,oe.WARN,...t),this._logHandler(this,oe.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...t),this._logHandler(this,oe.ERROR,...t)}}let de,he;const fe=new WeakMap,pe=new WeakMap,me=new WeakMap,ge=new WeakMap,ye=new WeakMap;let be={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return pe.get(e);if("objectStoreNames"===t)return e.objectStoreNames||me.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ke(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ve(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(we(this),n),ke(fe.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ke(e.apply(we(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(we(this),t,...r);return me.set(o,t.sort?t.sort():[t]),ke(o)}}function _e(e){return"function"===typeof e?ve(e):(e instanceof IDBTransaction&&function(e){if(pe.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});pe.set(e,t)}(e),t=e,(de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,be):e);var t}function ke(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(ke(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&fe.set(t,e)}).catch(()=>{}),ye.set(t,e),t}(e);if(ge.has(e))return ge.get(e);const t=_e(e);return t!==e&&(ge.set(e,t),ye.set(t,e)),t}const we=e=>ye.get(e);const xe=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],Ce=new Map;function Ee(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ce.get(t))return Ce.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Se.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!xe.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Ce.set(t,o),o}be=(e=>c(c({},e),{},{get:(t,n,r)=>Ee(t,n)||e.get(t,n,r),has:(t,n)=>!!Ee(t,n)||e.has(t,n)}))(be);class Te{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Ne="@firebase/app",Ie="0.14.7",Pe=new ue("@firebase/app"),Re="@firebase/app-compat",Le="@firebase/analytics-compat",Ae="@firebase/analytics",De="@firebase/app-check-compat",Oe="@firebase/app-check",Me="@firebase/auth",ze="@firebase/auth-compat",Fe="@firebase/database",je="@firebase/data-connect",Be="@firebase/database-compat",Ue="@firebase/functions",We="@firebase/functions-compat",He="@firebase/installations",qe="@firebase/installations-compat",Ve="@firebase/messaging",$e="@firebase/messaging-compat",Ke="@firebase/performance",Qe="@firebase/performance-compat",Ye="@firebase/remote-config",Ge="@firebase/remote-config-compat",Xe="@firebase/storage",Je="@firebase/storage-compat",Ze="@firebase/firestore",et="@firebase/ai",tt="@firebase/firestore-compat",nt="firebase",rt="[DEFAULT]",it={[Ne]:"fire-core",[Re]:"fire-core-compat",[Ae]:"fire-analytics",[Le]:"fire-analytics-compat",[Oe]:"fire-app-check",[De]:"fire-app-check-compat",[Me]:"fire-auth",[ze]:"fire-auth-compat",[Fe]:"fire-rtdb",[je]:"fire-data-connect",[Be]:"fire-rtdb-compat",[Ue]:"fire-fn",[We]:"fire-fn-compat",[He]:"fire-iid",[qe]:"fire-iid-compat",[Ve]:"fire-fcm",[$e]:"fire-fcm-compat",[Ke]:"fire-perf",[Qe]:"fire-perf-compat",[Ye]:"fire-rc",[Ge]:"fire-rc-compat",[Xe]:"fire-gcs",[Je]:"fire-gcs-compat",[Ze]:"fire-fst",[tt]:"fire-fst-compat",[et]:"fire-vertex","fire-js":"fire-js",[nt]:"fire-js-all"},ot=new Map,st=new Map,at=new Map;function lt(e,t){try{e.container.addComponent(t)}catch(n){Pe.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ct(e){const t=e.name;if(at.has(t))return Pe.debug("There were multiple attempts to register component ".concat(t,".")),!1;at.set(t,e);for(const n of ot.values())lt(n,e);for(const n of st.values())lt(n,e);return!0}function ut(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const dt=new j("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ht{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ee("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dt.create("app-deleted",{appName:this._name})}}function ft(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:rt,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw dt.create("bad-app-name",{appName:String(i)});if(n||(n=I()),!n)throw dt.create("no-options");const o=ot.get(i);if(o){if(Q(n,o.options)&&Q(r,o.config))return o;throw dt.create("duplicate-app",{appName:i})}const s=new re(i);for(const l of at.values())s.addComponent(l);const a=new ht(n,r,s);return ot.set(i,a),a}function pt(e,t,n){var r;let i=null!==(r=it[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Pe.warn(e.join(" "))}ct(new ee("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const mt="firebase-heartbeat-store";let gt=null;function yt(){return gt||(gt=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=ke(s);return r&&s.addEventListener("upgradeneeded",e=>{r(ke(s.result),e.oldVersion,e.newVersion,ke(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(mt)}catch(n){console.warn(n)}}}).catch(e=>{throw dt.create("idb-open",{originalErrorMessage:e.message})})),gt}async function bt(e,t){try{const n=(await yt()).transaction(mt,"readwrite"),r=n.objectStore(mt);await r.put(t,vt(e)),await n.done}catch(n){if(n instanceof F)Pe.warn(n.message);else{const e=dt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Pe.warn(e.message)}}}function vt(e){return"".concat(e.name,"!").concat(e.options.appId)}class _t{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kt();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Pe.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=kt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),xt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=k(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Pe.warn(t),""}}}function kt(){return(new Date).toISOString().substring(0,10)}class wt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Ht){t(Ht)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await yt()).transaction(mt),n=await t.objectStore(mt).get(vt(e));return await t.done,n}catch(t){if(t instanceof F)Pe.warn(t.message);else{const e=dt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Pe.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return bt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return bt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function xt(e){return k(JSON.stringify({version:2,heartbeats:e})).length}var St;St="",ct(new ee("platform-logger",e=>new Te(e),"PRIVATE")),ct(new ee("heartbeat",e=>new _t(e),"PRIVATE")),pt(Ne,Ie,St),pt(Ne,Ie,"esm2020"),pt("fire-js","");const Ct="@firebase/database",Et="1.1.0";let Tt="";function Nt(e){Tt=e}class It{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),W(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:U(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Pt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return q(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Rt=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new It(t)}}catch(t){}return new Pt},Lt=Rt("localStorage"),At=Rt("sessionStorage"),Dt=new ue("@firebase/database"),Ot=function(){let e=1;return function(){return e++}}(),Mt=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,m(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new G;n.update(t);const r=n.digest();return b.encodeByteArray(r)},zt=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=zt.apply(null,n):e+="object"===typeof n?W(n):n,e+=" "}return e};let Ft=null,jt=!0;const Bt=function(e,t){m(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Dt.logLevel=oe.VERBOSE,Ft=Dt.log.bind(Dt),t&&At.set("logging_enabled",!0)):"function"===typeof e?Ft=e:(Ft=null,At.remove("logging_enabled"))},Ut=function(){if(!0===jt&&(jt=!1,null===Ft&&!0===At.get("logging_enabled")&&Bt(!0)),Ft){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=zt.apply(null,t);Ft(r)}},Wt=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Ut(e,...n)}},Ht=function(){const e="FIREBASE INTERNAL ERROR: "+zt(...arguments);Dt.error(e)},qt=function(){const e="FIREBASE FATAL ERROR: ".concat(zt(...arguments));throw Dt.error(e),new Error(e)},Vt=function(){const e="FIREBASE WARNING: "+zt(...arguments);Dt.warn(e)},$t=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Kt="[MIN_NAME]",Qt="[MAX_NAME]",Yt=function(e,t){if(e===t)return 0;if(e===Kt||t===Qt)return-1;if(t===Kt||e===Qt)return 1;{const n=rn(e),r=rn(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Gt=function(e,t){return e===t?0:e<t?-1:1},Xt=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+W(t))},Jt=function(e){if("object"!==typeof e||null===e)return W(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=W(t[r]),n+=":",n+=Jt(e[t[r]]);return n+="}",n},Zt=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function en(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const tn=function(e){m(!$t(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const nn=new RegExp("^-?(0*)\\d{1,10}$"),rn=function(e){if(nn.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},on=function(e){try{e()}catch(t){setTimeout(()=>{const e=t.stack||"";throw Vt("Exception was thrown by user callback.",e),t},Math.floor(0))}},sn=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class an{constructor(e,t){var n;this.appCheckProvider=t,this.appName=e.name,null!==(n=e)&&void 0!==n&&void 0!==n.settings&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Vt('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class ln{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vt(e)}}class cn{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}cn.OWNER="owner";const un="5",dn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hn="ac",fn="websocket",pn="long_polling";class mn{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Lt.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Lt.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function gn(e,t,n){let r;if(m("string"===typeof t,"typeof type must == string"),m("object"===typeof n,"typeof params must == object"),t===fn)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==pn)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return en(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class yn{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;q(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return x(this.counters_)}}const bn={},vn={};function _n(e){const t=e.toString();return bn[t]||(bn[t]=new yn),bn[t]}class kn{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&on(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const wn="start";class xn{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wt(e),this.stats_=_n(t),this.urlFn=e=>(this.appCheckToken&&(e[hn]=this.appCheckToken),gn(t,pn,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new kn(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(z()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Sn(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===wn)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},()=>{this.onClosed_()},this.urlFn);const e={};e[wn]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=un,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[hn]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&dn.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xn.forceAllow_=!0}static forceDisallow(){xn.forceDisallow_=!0}static isAvailable(){return!z()&&(!!xn.forceAllow_||!xn.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=W(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=_(t),r=Zt(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(z())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=W(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Sn{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,z())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Ot(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Sn.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){Ut("frame writing exception"),i.stack&&Ut(i.stack),Ut(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ut("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){z()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Ut("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let Cn=null;"undefined"!==typeof MozWebSocket?Cn=MozWebSocket:"undefined"!==typeof WebSocket&&(Cn=WebSocket);class En{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wt(this.connId),this.stats_=_n(t),this.connURL=En.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=un,!z()&&"undefined"!==typeof location&&location.hostname&&dn.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[hn]=r),i&&(o.p=i),gn(e,fn,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Lt.set("previous_websocket_failure",!0);try{let e;if(z()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(un,"/").concat(Tt,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/shiden",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Cn(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){En.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Cn&&!En.forceDisallow_}static previouslyFailed(){return Lt.isInMemoryStorage||!0===Lt.get("previous_websocket_failure")}markConnectionHealthy(){Lt.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=U(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(m(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=W(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Zt(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}En.responsesRequiredToBeHealthy=2,En.healthyTimeout=3e4;class Tn{static get ALL_TRANSPORTS(){return[xn,En]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=En&&En.isAvailable();let n=t&&!En.previouslyFailed();if(e.webSocketOnly&&(t||Vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[En];else{const e=this.transports_=[];for(const t of Tn.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Tn.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Tn.globalTransportInitialized_=!1;class Nn{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wt("c:"+this.id+":"),this.transportManager_=new Tn(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=sn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Xt("t",e),n=Xt("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Xt("t",e),n=Xt("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Xt("t",e);if("d"in e){const n=e.d;if("h"===t){const e=c({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Ht("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ht("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),un!==n&&Vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),sn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):sn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Lt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class In{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Pn{constructor(e){this.allowedEvents_=e,this.listeners_={},m(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){m(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Rn extends Pn{static getInstance(){return new Rn}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||M()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return m("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ln{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function An(){return new Ln("")}function Dn(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function On(e){return e.pieces_.length-e.pieceNum_}function Mn(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ln(e.pieces_,t)}function zn(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Fn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function jn(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ln(t,0)}function Bn(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ln)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Ln(n,0)}function Un(e){return e.pieceNum_>=e.pieces_.length}function Wn(e,t){const n=Dn(e),r=Dn(t);if(null===n)return t;if(n===r)return Wn(Mn(e),Mn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Hn(e,t){const n=Fn(e,0),r=Fn(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=Yt(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function qn(e,t){if(On(e)!==On(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Vn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(On(e)>On(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class $n{constructor(e,t){this.errorPrefix_=t,this.parts_=Fn(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=J(this.parts_[n]);Kn(this)}}function Kn(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Qn(e))}function Qn(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Yn extends Pn{static getInstance(){return new Yn}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return m("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Gn=1e3;class Xn extends In{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=Xn.nextPersistentConnectionId_++,this.log_=Wt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gn,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!z())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yn.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Rn.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(W(i)),m(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new P,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),m(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),m(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{const o=i.d,s=i.s;Xn.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&q(e,"w")){const n=V(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Vt("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=H(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=H(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),m(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+W(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Ht("Unrecognized action received from server: "+W(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){m(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Gn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Gn),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Xn.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){m(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Ut("getToken() completed but was canceled"):(Ut("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new Nn(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{Vt(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(Ht){this.log_("Failed to get token: "+Ht),o||(this.repoInfo_.nodeAdmin&&Vt(Ht),a())}}}interrupt(e){Ut("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ut("Resuming connection for reason: "+e),delete this.interruptReasons_[e],$(this.interruptReasons_)&&(this.reconnectDelay_=Gn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>Jt(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Ln(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Ut("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Ut("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";z()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Tt.replace(/\./g,"-")]=1,M()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Rn.getInstance().currentlyOnline();return $(this.interruptReasons_)&&e}}Xn.nextPersistentConnectionId_=0,Xn.nextConnectionId_=0;class Jn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Jn(e,t)}}class Zn{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Jn(Kt,e),r=new Jn(Kt,t);return 0!==this.compare(n,r)}minPost(){return Jn.MIN}}let er;class tr extends Zn{static get __EMPTY_NODE(){return er}static set __EMPTY_NODE(e){er=e}compare(e,t){return Yt(e.name,t.name)}isDefinedOn(e){throw g("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Jn.MIN}maxPost(){return new Jn(Qt,er)}makePost(e,t){return m("string"===typeof e,"KeyIndex indexValue must always be a string."),new Jn(e,er)}toString(){return".key"}}const nr=new tr;class rr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ir{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ir.RED,this.left=null!=r?r:or.EMPTY_NODE,this.right=null!=i?i:or.EMPTY_NODE}copy(e,t,n,r,i){return new ir(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return or.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return or.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ir.RED=!0,ir.BLACK=!1;class or{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:or.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new or(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ir.BLACK,null,null))}remove(e){return new or(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ir.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rr(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new rr(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new rr(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new rr(this.root_,null,this.comparator_,!0,e)}}function sr(e,t){return Yt(e.name,t.name)}function ar(e,t){return Yt(e,t)}let lr;or.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new ir(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const cr=function(e){return"number"===typeof e?"number:"+tn(e):"string:"+e},ur=function(e){if(e.isLeafNode()){const t=e.val();m("string"===typeof t||"number"===typeof t||"object"===typeof t&&q(t,".sv"),"Priority must be a string or number.")}else m(e===lr||e.isEmpty(),"priority of unexpected type.");m(e===lr||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let dr,hr,fr;class pr{static set __childrenNodeConstructor(e){dr=e}static get __childrenNodeConstructor(){return dr}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pr.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,m(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ur(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pr(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:pr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Un(e)?this:".priority"===Dn(e)?this.priorityNode_:pr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:pr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Dn(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(m(".priority"!==n||1===On(e),".priority must be the last token in a path"),this.updateImmediateChild(n,pr.__childrenNodeConstructor.EMPTY_NODE.updateChild(Mn(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+cr(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?tn(this.value_):this.value_,this.lazyHash_=Mt(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pr.__childrenNodeConstructor?-1:(m(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=pr.VALUE_TYPE_ORDER.indexOf(t),i=pr.VALUE_TYPE_ORDER.indexOf(n);return m(r>=0,"Unknown leaf type: "+t),m(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}pr.VALUE_TYPE_ORDER=["object","boolean","number","string"];const mr=new class extends Zn{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Yt(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Jn.MIN}maxPost(){return new Jn(Qt,new pr("[PRIORITY-POST]",fr))}makePost(e,t){const n=hr(e);return new Jn(t,new pr("[PRIORITY-POST]",n))}toString(){return".priority"}},gr=Math.log(2);class yr{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/gr,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const br=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new ir(a,s.node,ir.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new ir(a,s.node,ir.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],d=n?n(u):u;l(new ir(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,ir.BLACK):(a(r,ir.BLACK),a(r,ir.RED))}return o}(new yr(e.length));return new or(r||t,o)};let vr;const _r={};class kr{static get Default(){return m(_r&&mr,"ChildrenNode.ts has not been loaded"),vr=vr||new kr({".priority":_r},{".priority":mr}),vr}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=V(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof or?t:null}hasIndex(e){return q(this.indexSet_,e.toString())}addIndex(e,t){m(e!==nr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Jn.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?br(n,e.getCompare()):_r;const a=e.toString(),l=c({},this.indexSet_);l[a]=e;const u=c({},this.indexes_);return u[a]=o,new kr(u,l)}addToIndexes(e,t){const n=K(this.indexes_,(n,r)=>{const i=V(this.indexSet_,r);if(m(i,"Missing index implementation for "+r),n===_r){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Jn.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),br(n,i.getCompare())}return _r}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Jn(e.name,r))),i.insert(e,e.node)}});return new kr(n,this.indexSet_)}removeFromIndexes(e,t){const n=K(this.indexes_,n=>{if(n===_r)return n;{const r=t.get(e.name);return r?n.remove(new Jn(e.name,r)):n}});return new kr(n,this.indexSet_)}}let wr;class xr{static get EMPTY_NODE(){return wr||(wr=new xr(new or(ar),null,kr.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ur(this.priorityNode_),this.children_.isEmpty()&&m(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wr}updatePriority(e){return this.children_.isEmpty()?this:new xr(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?wr:t}}getChild(e){const t=Dn(e);return null===t?this:this.getImmediateChild(t).getChild(Mn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(m(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Jn(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?wr:this.priorityNode_;return new xr(r,o,i)}}updateChild(e,t){const n=Dn(e);if(null===n)return t;{m(".priority"!==Dn(e)||1===On(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Mn(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(mr,(o,s)=>{t[o]=s.val(e),n++,i&&xr.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+cr(this.getPriority().val())+":"),this.forEachChild(mr,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":Mt(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Jn(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Jn(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Jn(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,Jn.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,Jn.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Sr?-1:0}withIndex(e){if(e===nr||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new xr(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===nr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(mr),n=t.getIterator(mr);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===nr?null:this.indexMap_.get(e.toString())}}xr.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Sr=new class extends xr{constructor(){super(new or(ar),xr.EMPTY_NODE,kr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return xr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Jn,{MIN:{value:new Jn(Kt,xr.EMPTY_NODE)},MAX:{value:new Jn(Qt,Sr)}}),tr.__EMPTY_NODE=xr.EMPTY_NODE,pr.__childrenNodeConstructor=xr,lr=Sr,function(e){fr=e}(Sr);function Cr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return xr.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),m(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new pr(e,Cr(t))}if(e instanceof Array){let n=xr.EMPTY_NODE;return en(e,(t,r)=>{if(q(e,t)&&"."!==t.substring(0,1)){const e=Cr(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(Cr(t))}{const n=[];let r=!1;if(en(e,(e,t)=>{if("."!==e.substring(0,1)){const i=Cr(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Jn(e,i)))}}),0===n.length)return xr.EMPTY_NODE;const i=br(n,sr,e=>e.name,ar);if(r){const e=br(n,mr.getCompare());return new xr(i,Cr(t),new kr({".priority":e},{".priority":mr}))}return new xr(i,Cr(t),kr.Default)}}!function(e){hr=e}(Cr);class Er extends Zn{constructor(e){super(),this.indexPath_=e,m(!Un(e)&&".priority"!==Dn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Yt(e.name,t.name):i}makePost(e,t){const n=Cr(e),r=xr.EMPTY_NODE.updateChild(this.indexPath_,n);return new Jn(t,r)}maxPost(){const e=xr.EMPTY_NODE.updateChild(this.indexPath_,Sr);return new Jn(Qt,e)}toString(){return Fn(this.indexPath_,0).join("/")}}const Tr=new class extends Zn{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Yt(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Jn.MIN}maxPost(){return Jn.MAX}makePost(e,t){const n=Cr(e);return new Jn(t,n)}toString(){return".value"}};function Nr(e){return{type:"value",snapshotNode:e}}function Ir(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Pr(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Rr(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Lr{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){m(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Pr(t,s)):m(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(Ir(t,n)):o.trackChildChange(Rr(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(mr,(e,r)=>{t.hasChild(e)||n.trackChildChange(Pr(e,r))}),t.isLeafNode()||t.forEachChild(mr,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Rr(t,r,i))}else n.trackChildChange(Ir(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?xr.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ar{constructor(e){this.indexedFilter_=new Lr(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ar.getStartPost_(e),this.endPost_=Ar.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new Jn(t,n))||(n=xr.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=xr.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(xr.EMPTY_NODE);const i=this;return t.forEachChild(mr,(e,t)=>{i.matches(new Jn(e,t))||(r=r.updateImmediateChild(e,xr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Dr{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Ar(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new Jn(t,n))||(n=xr.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=xr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=xr.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(xr.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,xr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;m(s.numChildren()===this.limit_,"");const a=new Jn(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,a);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Rr(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Pr(t,e));const n=s.updateImmediateChild(t,xr.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(Ir(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,a)>=0?(null!=i&&(i.trackChildChange(Pr(l.name,l.node)),i.trackChildChange(Ir(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,xr.EMPTY_NODE)):e}}class Or{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return m(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return m(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kt}hasEnd(){return this.endSet_}getIndexEndValue(){return m(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return m(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return m(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===mr}copy(){const e=new Or;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Mr(e){const t={};if(e.isDefault())return t;let n;if(e.index_===mr?n="$priority":e.index_===Tr?n="$value":e.index_===nr?n="$key":(m(e.index_ instanceof Er,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=W(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=W(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+W(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=W(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+W(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function zr(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==mr&&(t.i=e.index_.toString()),t}class Fr extends In{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(m(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Wt("p:rest:"),this.listens_={}}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Fr.getListenId_(e,n),s={};this.listens_[o]=s;const a=Mr(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),V(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=Fr.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Mr(e._queryParams),n=e._path.toString(),r=new P;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=U(a.responseText)}catch(e){Vt("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&Vt("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}class jr{constructor(){this.rootNode_=xr.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Br(){return{value:null,children:new Map}}function Ur(e,t,n){if(Un(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Dn(t);e.children.has(r)||e.children.set(r,Br());Ur(e.children.get(r),t=Mn(t),n)}}function Wr(e,t){if(Un(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(mr,(t,n)=>{Ur(e,new Ln(t),n)}),Wr(e,t)}}if(e.children.size>0){const n=Dn(t);if(t=Mn(t),e.children.has(n)){Wr(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function Hr(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{Hr(r,new Ln(t.toString()+"/"+e),n)})}class qr{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=c({},e);return this.last_&&en(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class Vr{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new qr(e);const n=1e4+2e4*Math.random();sn(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;en(e,(e,r)=>{r>0&&q(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),sn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var $r;function Kr(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}($r||($r={}));class Qr{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=$r.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Un(this.path)){if(null!=this.affectedTree.value)return m(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ln(e));return new Qr(An(),t,this.revert)}}return m(Dn(this.path)===e,"operationForChild called for unrelated child."),new Qr(Mn(this.path),this.affectedTree,this.revert)}}class Yr{constructor(e,t){this.source=e,this.path=t,this.type=$r.LISTEN_COMPLETE}operationForChild(e){return Un(this.path)?new Yr(this.source,An()):new Yr(this.source,Mn(this.path))}}class Gr{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=$r.OVERWRITE}operationForChild(e){return Un(this.path)?new Gr(this.source,An(),this.snap.getImmediateChild(e)):new Gr(this.source,Mn(this.path),this.snap)}}class Xr{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=$r.MERGE}operationForChild(e){if(Un(this.path)){const t=this.children.subtree(new Ln(e));return t.isEmpty()?null:t.value?new Gr(this.source,An(),t.value):new Xr(this.source,An(),t)}return m(Dn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Xr(this.source,Mn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Jr{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Un(e))return this.isFullyInitialized()&&!this.filtered_;const t=Dn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Zr{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ei(e,t,n,r,i,o){const s=r.filter(e=>e.type===n);s.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw g("Should only compare child_ events.");const r=new Jn(t.childName,t.snapshotNode),i=new Jn(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),s.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function ti(e,t){return{eventCache:e,serverCache:t}}function ni(e,t,n,r){return ti(new Jr(t,n,r),e.serverCache)}function ri(e,t,n,r){return ti(e.eventCache,new Jr(t,n,r))}function ii(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function oi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let si;class ai{static fromObject(e){let t=new ai(null);return en(e,(e,n)=>{t=t.set(new Ln(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(si||(si=new or(Gt)),si);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:An(),value:this.value};if(Un(e))return null;{const n=Dn(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Mn(e),t);if(null!=i){return{path:Bn(new Ln(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Un(e))return this;{const t=Dn(e),n=this.children.get(t);return null!==n?n.subtree(Mn(e)):new ai(null)}}set(e,t){if(Un(e))return new ai(t,this.children);{const n=Dn(e),r=(this.children.get(n)||new ai(null)).set(Mn(e),t),i=this.children.insert(n,r);return new ai(this.value,i)}}remove(e){if(Un(e))return this.children.isEmpty()?new ai(null):new ai(null,this.children);{const t=Dn(e),n=this.children.get(t);if(n){const r=n.remove(Mn(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new ai(null):new ai(this.value,i)}return this}}get(e){if(Un(e))return this.value;{const t=Dn(e),n=this.children.get(t);return n?n.get(Mn(e)):null}}setTree(e,t){if(Un(e))return t;{const n=Dn(e),r=(this.children.get(n)||new ai(null)).setTree(Mn(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new ai(this.value,i)}}fold(e){return this.fold_(An(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(Bn(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,An(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Un(e))return null;{const r=Dn(e),i=this.children.get(r);return i?i.findOnPath_(Mn(e),Bn(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,An(),t)}foreachOnPath_(e,t,n){if(Un(e))return this;{this.value&&n(t,this.value);const r=Dn(e),i=this.children.get(r);return i?i.foreachOnPath_(Mn(e),Bn(t,r),n):new ai(null)}}foreach(e){this.foreach_(An(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(Bn(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class li{constructor(e){this.writeTree_=e}static empty(){return new li(new ai(null))}}function ci(e,t,n){if(Un(t))return new li(new ai(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=Wn(i,t);return o=o.updateChild(s,n),new li(e.writeTree_.set(i,o))}{const r=new ai(n),i=e.writeTree_.setTree(t,r);return new li(i)}}}function ui(e,t,n){let r=e;return en(n,(e,n)=>{r=ci(r,Bn(t,e),n)}),r}function di(e,t){if(Un(t))return li.empty();{const n=e.writeTree_.setTree(t,new ai(null));return new li(n)}}function hi(e,t){return null!=fi(e,t)}function fi(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Wn(n.path,t)):null}function pi(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(mr,(e,n)=>{t.push(new Jn(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new Jn(e,n.value))}),t}function mi(e,t){if(Un(t))return e;{const n=fi(e,t);return new li(null!=n?new ai(n):e.writeTree_.subtree(t))}}function gi(e){return e.writeTree_.isEmpty()}function yi(e,t){return bi(An(),e.writeTree_,t)}function bi(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?(m(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=bi(Bn(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Bn(e,".priority"),r)),n}}function vi(e,t){return Li(t,e)}function _i(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);m(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&ki(t,r.path)?i=!1:Vn(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=xi(e.allWrites,wi,An()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=di(e.visibleWrites,r.path);else{en(r.children,t=>{e.visibleWrites=di(e.visibleWrites,Bn(r.path,t))})}return!0}return!1}function ki(e,t){if(e.snap)return Vn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Vn(Bn(e.path,n),t))return!0;return!1}function wi(e){return e.visible}function xi(e,t,n){let r=li.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)Vn(n,e)?(t=Wn(n,e),r=ci(r,t,o.snap)):Vn(e,n)&&(t=Wn(e,n),r=ci(r,An(),o.snap.getChild(t)));else{if(!o.children)throw g("WriteRecord should have .snap or .children");if(Vn(n,e))t=Wn(n,e),r=ui(r,t,o.children);else if(Vn(e,n))if(t=Wn(e,n),Un(t))r=ui(r,An(),o.children);else{const e=V(o.children,Dn(t));if(e){const n=e.getChild(Mn(t));r=ci(r,An(),n)}}}}}return r}function Si(e,t,n,r,i){if(r||i){const o=mi(e.visibleWrites,t);if(!i&&gi(o))return n;if(i||null!=n||hi(o,An())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Vn(e.path,t)||Vn(t,e.path))};return yi(xi(e.allWrites,o,t),n||xr.EMPTY_NODE)}return null}{const r=fi(e.visibleWrites,t);if(null!=r)return r;{const r=mi(e.visibleWrites,t);if(gi(r))return n;if(null!=n||hi(r,An())){return yi(r,n||xr.EMPTY_NODE)}return null}}}function Ci(e,t,n,r){return Si(e.writeTree,e.treePath,t,n,r)}function Ei(e,t){return function(e,t,n){let r=xr.EMPTY_NODE;const i=fi(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(mr,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=mi(e.visibleWrites,t);return n.forEachChild(mr,(e,t)=>{const n=yi(mi(i,new Ln(e)),t);r=r.updateImmediateChild(e,n)}),pi(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return pi(mi(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function Ti(e,t,n,r){return function(e,t,n,r,i){m(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Bn(t,n);if(hi(e.visibleWrites,o))return null;{const t=mi(e.visibleWrites,o);return gi(t)?i.getChild(n):yi(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Ni(e,t){return function(e,t){return fi(e.visibleWrites,t)}(e.writeTree,Bn(e.treePath,t))}function Ii(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=mi(e.visibleWrites,t),c=fi(l,An());if(null!=c)a=c;else{if(null==n)return[];a=yi(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function Pi(e,t,n){return function(e,t,n,r){const i=Bn(t,n),o=fi(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return yi(mi(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Ri(e,t){return Li(Bn(e.treePath,t),e.writeTree)}function Li(e,t){return{treePath:e,writeTree:t}}class Ai{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;m("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),m(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Rr(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Pr(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Ir(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw g("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Rr(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Di=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Oi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Jr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pi(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:oi(this.viewCache_),i=Ii(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Mi(e,t,n,r,i){const o=new Ai;let s,a;if(n.type===$r.OVERWRITE){const l=n;l.source.fromUser?s=ji(e,t,l.path,l.snap,r,i,o):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Un(l.path),s=Fi(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===$r.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach((r,l)=>{const c=Bn(n,r);Bi(t,Dn(c))&&(a=ji(e,a,c,l,i,o,s))}),r.foreach((r,l)=>{const c=Bn(n,r);Bi(t,Dn(c))||(a=ji(e,a,c,l,i,o,s))}),a}(e,t,l.path,l.children,r,i,o):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Wi(e,t,l.path,l.children,r,i,a,o))}else if(n.type===$r.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=Ni(r,n))return t;{const a=new Oi(r,t,i),l=t.eventCache.getNode();let c;if(Un(n)||".priority"===Dn(n)){let n;if(t.serverCache.isFullyInitialized())n=Ci(r,oi(t));else{const e=t.serverCache.getNode();m(e instanceof xr,"serverChildren would be complete if leaf node"),n=Ei(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=Dn(n);let u=Pi(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,Mn(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,xr.EMPTY_NODE,Mn(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Ci(r,oi(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=Ni(r,An()),ni(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=Ni(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Un(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Fi(e,t,n,l.getNode().getChild(n),i,o,a,s);if(Un(n)){let r=new ai(null);return l.getNode().forEachChild(nr,(e,t)=>{r=r.set(new Ln(e),t)}),Wi(e,t,n,r,i,o,a,s)}return t}{let c=new ai(null);return r.foreach((e,t)=>{const r=Bn(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),Wi(e,t,n,c,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==$r.LISTEN_COMPLETE)throw g("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=ri(t,o.getNode(),o.isFullyInitialized()||Un(n),o.isFiltered());return zi(e,s,n,r,Di,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ii(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Nr(ii(t)))}}(t,s,l),{viewCache:s,changes:l}}function zi(e,t,n,r,i,o){const s=t.eventCache;if(null!=Ni(r,n))return t;{let a,l;if(Un(n))if(m(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=oi(t),i=Ei(r,n instanceof xr?n:xr.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=Ci(r,oi(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=Dn(n);if(".priority"===c){m(1===On(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=Ti(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=Mn(n);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Ti(r,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else d=Pi(r,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,i,o):s.getNode()}}return ni(t,a,s.isFullyInitialized()||Un(n),e.filter.filtersNodes())}}function Fi(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(Un(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=Dn(n);if(!l.isCompleteForPath(n)&&On(n)>1)return t;const i=Mn(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,Di,null)}const d=ri(t,c,l.isFullyInitialized()||Un(n),u.filtersNodes());return zi(e,d,n,i,new Oi(i,d,o),a)}function ji(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new Oi(i,t,o);if(Un(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=ni(t,c,!0,e.filter.filtersNodes());else{const i=Dn(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=ni(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=Mn(n),c=a.getNode().getImmediateChild(i);let d;if(Un(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===zn(o)&&e.getChild(jn(o)).isEmpty()?e:e.updateChild(o,r):xr.EMPTY_NODE}if(c.equals(d))l=t;else{l=ni(t,e.filter.updateChild(a.getNode(),i,d,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Bi(e,t){return e.eventCache.isCompleteForChild(t)}function Ui(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function Wi(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Un(n)?r:new ai(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=Ui(0,t.serverCache.getNode().getImmediateChild(n),r);c=Fi(e,c,new Ln(n),l,i,o,s,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Ui(0,t.serverCache.getNode().getImmediateChild(n),r);c=Fi(e,c,new Ln(n),l,i,o,s,a)}}),c}class Hi{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Lr(n.getIndex()),i=(o=n).loadsAllData()?new Lr(o.getIndex()):o.hasLimit()?new Dr(o):new Ar(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(xr.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(xr.EMPTY_NODE,a.getNode(),null),u=new Jr(l,s.isFullyInitialized(),r.filtersNodes()),d=new Jr(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=ti(d,u),this.eventGenerator_=new Zr(this.query_)}get query(){return this.query_}}function qi(e,t){const n=oi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Un(t)&&!n.getImmediateChild(Dn(t)).isEmpty())?n.getChild(t):null}function Vi(e){return 0===e.eventRegistrations_.length}function $i(e,t,n){const r=[];if(n){m(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Ki(e,t,n,r){t.type===$r.MERGE&&null!==t.source.queryId&&(m(oi(e.viewCache_),"We should always have a full cache before handling merges"),m(ii(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=Mi(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,m(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),m(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),m(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Qi(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Qi(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),ei(e,i,"child_removed",t,r,n),ei(e,i,"child_added",t,r,n),ei(e,i,"child_moved",o,r,n),ei(e,i,"child_changed",t,r,n),ei(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Yi,Gi;class Xi{constructor(){this.views=new Map}}function Ji(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return m(null!=o,"SyncTree gave us an op for an invalid query."),Ki(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(Ki(o,t,n,r));return i}}function Zi(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=Ci(n,i?r:null),o=!1;e?o=!0:r instanceof xr?(e=Ei(n,r),o=!1):(e=xr.EMPTY_NODE,o=!1);const s=ti(new Jr(e,o,!1),new Jr(r,i,!1));return new Hi(t,s)}return s}function eo(e,t,n,r,i,o){const s=Zi(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(mr,(e,t)=>{r.push(Ir(e,t))});return n.isFullyInitialized()&&r.push(Nr(n.getNode())),Qi(e,r,n.getNode(),t)}(s,n)}function to(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=so(e);if("default"===i)for(const[l,c]of e.views.entries())s=s.concat($i(c,n,r)),Vi(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(i);t&&(s=s.concat($i(t,n,r)),Vi(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!so(e)&&o.push(new(m(Yi,"Reference.ts has not been loaded"),Yi)(t._repo,t._path)),{removed:o,events:s}}function no(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ro(e,t){let n=null;for(const r of e.views.values())n=n||qi(r,t);return n}function io(e,t){if(t._queryParams.loadsAllData())return ao(e);{const n=t._queryIdentifier;return e.views.get(n)}}function oo(e,t){return null!=io(e,t)}function so(e){return null!=ao(e)}function ao(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let lo=1;class co{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ai(null),this.pendingWriteTree_={visibleWrites:li.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uo(e,t,n,r,i){return function(e,t,n,r,i){m(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ci(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?bo(e,new Gr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ho(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(_i(e.pendingWriteTree_,t)){let t=new ai(null);return null!=r.snap?t=t.set(An(),!0):en(r.children,e=>{t=t.set(new Ln(e),!0)}),bo(e,new Qr(r.path,t,n))}return[]}function fo(e,t,n){return bo(e,new Gr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function po(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||oo(s,t))){const l=to(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(o,(e,t)=>so(t));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&so(t)){return[ao(t)]}{let e=[];return t&&(e=no(t)),en(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=ko(e,r);e.listenProvider_.startListening(To(i),wo(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(To(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(xo(t));e.listenProvider_.stopListening(To(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=xo(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function mo(e,t,n,r){const i=So(e,r);if(null!=i){const r=Co(i),o=r.path,s=r.queryId,a=Wn(o,t);return Eo(e,o,new Gr(Kr(s),a,n))}return[]}function go(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(e,t)=>{const n=Wn(e,i);o=o||ro(t,n),s=s||so(t)});let a,l=e.syncPointTree_.get(i);if(l?(s=s||so(l),o=o||ro(l,An())):(l=new Xi,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o)a=!0;else{a=!1,o=xr.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild((e,t)=>{const n=ro(t,An());n&&(o=o.updateImmediateChild(e,n))})}const c=oo(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=xo(t);m(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=lo++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=eo(l,t,n,vi(e.pendingWriteTree_,i),o,a);if(!c&&!s&&!r){const n=io(l,t);u=u.concat(function(e,t,n){const r=t._path,i=wo(e,t),o=ko(e,n),s=e.listenProvider_.startListening(To(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)m(!so(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!Un(e)&&t&&so(t))return[ao(t).query];{let e=[];return t&&(e=e.concat(no(t).map(e=>e.query))),en(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(To(r),wo(e,r))}}return s}(e,t,n))}return u}function yo(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=ro(n,Wn(e,t));if(r)return r});return Si(r,t,i,n,!0)}function bo(e,t){return vo(t,e.syncPointTree_,null,vi(e.pendingWriteTree_,An()))}function vo(e,t,n,r){if(Un(e.path))return _o(e,t,n,r);{const i=t.get(An());null==n&&null!=i&&(n=ro(i,An()));let o=[];const s=Dn(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=Ri(r,s);o=o.concat(vo(a,l,e,t))}return i&&(o=o.concat(Ji(i,e,r,n))),o}}function _o(e,t,n,r){const i=t.get(An());null==n&&null!=i&&(n=ro(i,An()));let o=[];return t.children.inorderTraversal((t,i)=>{const s=n?n.getImmediateChild(t):null,a=Ri(r,t),l=e.operationForChild(t);l&&(o=o.concat(_o(l,i,s,a)))}),i&&(o=o.concat(Ji(i,e,r,n))),o}function ko(e,t){const n=t.query,r=wo(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||xr.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=So(e,n);if(r){const n=Co(r),i=n.path,o=n.queryId,s=Wn(i,t);return Eo(e,i,new Yr(Kr(o),s))}return[]}(e,n._path,r):function(e,t){return bo(e,new Yr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return po(e,n,null,r)}}}}function wo(e,t){const n=xo(t);return e.queryToTagMap.get(n)}function xo(e){return e._path.toString()+"$"+e._queryIdentifier}function So(e,t){return e.tagToQueryMap.get(t)}function Co(e){const t=e.indexOf("$");return m(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ln(e.substr(0,t))}}function Eo(e,t,n){const r=e.syncPointTree_.get(t);m(r,"Missing sync point for query tag that we're tracking");return Ji(r,n,vi(e.pendingWriteTree_,t),null)}function To(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(m(Gi,"Reference.ts has not been loaded"),Gi)(e._repo,e._path):e}class No{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new No(t)}node(){return this.node_}}class Io{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Bn(this.path_,e);return new Io(this.syncTree_,t)}node(){return yo(this.syncTree_,this.path_)}}const Po=function(e,t,n){return e&&"object"===typeof e?(m(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Ro(e[".sv"],t,n):"object"===typeof e[".sv"]?Lo(e[".sv"],t):void m(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Ro=function(e,t,n){if("timestamp"===e)return n.timestamp;m(!1,"Unexpected server value: "+e)},Lo=function(e,t,n){e.hasOwnProperty("increment")||m(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&m(!1,"Unexpected increment value: "+r);const i=t.node();if(m(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},Ao=function(e,t,n,r){return Oo(t,new Io(n,e),r)},Do=function(e,t,n){return Oo(e,new No(t),n)};function Oo(e,t,n){const r=e.getPriority().val(),i=Po(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=Po(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new pr(o,Cr(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new pr(i))),r.forEachChild(mr,(e,r)=>{const i=Oo(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))}),o}}class Mo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function zo(e,t){let n=t instanceof Ln?t:new Ln(t),r=e,i=Dn(n);for(;null!==i;){const e=V(r.node.children,i)||{children:{},childCount:0};r=new Mo(i,r,e),n=Mn(n),i=Dn(n)}return r}function Fo(e){return e.node.value}function jo(e,t){e.node.value=t,qo(e)}function Bo(e){return e.node.childCount>0}function Uo(e,t){en(e.node.children,(n,r)=>{t(new Mo(n,e,r))})}function Wo(e,t,n,r){n&&!r&&t(e),Uo(e,e=>{Wo(e,t,!0,r)}),n&&r&&t(e)}function Ho(e){return new Ln(null===e.parent?e.name:Ho(e.parent)+"/"+e.name)}function qo(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Fo(e)&&!Bo(e)}(n),i=q(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,qo(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,qo(e))}(e.parent,e.name,e)}const Vo=/[\[\].#$\/\u0000-\u001F\u007F]/,$o=/[\[\].#$\u0000-\u001F\u007F]/,Ko=10485760,Qo=function(e){return"string"===typeof e&&0!==e.length&&!Vo.test(e)},Yo=function(e){return"string"===typeof e&&0!==e.length&&!$o.test(e)},Go=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!$t(e)||e&&"object"===typeof e&&q(e,".sv")},Xo=function(e,t,n,r){r&&void 0===t||Jo(X(e,"value"),t,n)},Jo=function(e,t,n){const r=n instanceof Ln?new $n(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Qn(r));if("function"===typeof t)throw new Error(e+"contains a function "+Qn(r)+" with contents = "+t.toString());if($t(t))throw new Error(e+"contains "+t.toString()+" "+Qn(r));if("string"===typeof t&&t.length>Ko/3&&J(t)>Ko)throw new Error(e+"contains a string greater than "+Ko+" utf8 bytes "+Qn(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(en(t,(t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Qo(t)))throw new Error(e+" contains an invalid key ("+t+") "+Qn(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=J(t),Kn(e)}(r,t),Jo(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=J(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+Qn(r)+" in addition to actual children.")}},Zo=function(e,t,n,r){if(r&&void 0===t)return;const i=X(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];en(t,(e,t)=>{const r=new Ln(e);if(Jo(i,t,Bn(n,r)),".priority"===zn(r)&&!Go(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=Fn(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!Qo(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Hn);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&Vn(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},es=function(e,t,n){if(!n||void 0!==t){if($t(t))throw new Error(X(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Go(t))throw new Error(X(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ts=function(e,t,n,r){if((!r||void 0!==n)&&!Yo(n))throw new Error(X(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ns=function(e,t){if(".info"===Dn(t))throw new Error(e+" failed = Can't modify data under /.info/")},rs=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Qo(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Yo(e)}(n))throw new Error(X(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class is{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function os(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||qn(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ss(e,t,n){os(e,n),ls(e,e=>qn(e,t))}function as(e,t,n){os(e,n),ls(e,e=>Vn(e,t)||Vn(t,e))}function ls(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(cs(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function cs(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Ft&&Ut("event: "+n.toString()),on(r)}}}const us="repo_interrupt";class ds{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new is,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Br(),this.transactionQueueTree_=new Mo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hs(e,t,n){if(e.stats_=_n(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Fr(e.repoInfo_,(t,n,r,i)=>{ms(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>gs(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{W(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Xn(e.repoInfo_,t,(t,n,r,i)=>{ms(e,t,n,r,i)},t=>{gs(e,t)},t=>{!function(e,t){en(t,(t,n)=>{ys(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return vn[n]||(vn[n]=t()),vn[n]}(e.repoInfo_,()=>new Vr(e.stats_,e.server_)),e.infoData_=new jr,e.infoSyncTree_=new co({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=fo(e.infoSyncTree_,t._path,s),setTimeout(()=>{i("ok")},0)),o},stopListening:()=>{}}),ys(e,"connected",!1),e.serverSyncTree_=new co({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const o=i(n,r);as(e.eventQueue_,t._path,o)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function fs(e){const t=e.infoData_.getNode(new Ln(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ps(e){return(t=(t={timestamp:fs(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function ms(e,t,n,r,i){e.dataUpdateCount++;const o=new Ln(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=K(n,e=>Cr(e));s=function(e,t,n,r){const i=So(e,r);if(i){const r=Co(i),o=r.path,s=r.queryId,a=Wn(o,t),l=ai.fromObject(n);return Eo(e,o,new Xr(Kr(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=Cr(n);s=mo(e.serverSyncTree_,o,t,i)}else if(r){const t=K(n,e=>Cr(e));s=function(e,t,n){const r=ai.fromObject(n);return bo(e,new Xr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=Cr(n);s=fo(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=Ns(e,o)),as(e.eventQueue_,a,s)}function gs(e,t){ys(e,"connected",t),!1===t&&function(e){Ss(e,"onDisconnectEvents");const t=ps(e),n=Br();Hr(e.onDisconnect_,An(),(r,i)=>{const o=Ao(r,i,e.serverSyncTree_,t);Ur(n,r,o)});let r=[];Hr(n,An(),(t,n)=>{r=r.concat(fo(e.serverSyncTree_,t,n));const i=As(e,t);Ns(e,i)}),e.onDisconnect_=Br(),as(e.eventQueue_,An(),r)}(e)}function ys(e,t,n){const r=new Ln("/.info/"+t),i=Cr(n);e.infoData_.updateSnapshot(r,i);const o=fo(e.infoSyncTree_,r,i);as(e.eventQueue_,r,o)}function bs(e){return e.nextWriteId_++}function vs(e,t,n,r,i){Ss(e,"set",{path:t.toString(),value:n,priority:r});const o=ps(e),s=Cr(n,r),a=yo(e.serverSyncTree_,t),l=Do(s,a,o),c=bs(e),u=uo(e.serverSyncTree_,t,l,c,!0);os(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(n,r)=>{const o="ok"===n;o||Vt("set at "+t+" failed: "+n);const s=ho(e.serverSyncTree_,c,!o);as(e.eventQueue_,t,s),Cs(e,i,n,r)});const d=As(e,t);Ns(e,d),as(e.eventQueue_,d,[])}function _s(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&Wr(e.onDisconnect_,t),Cs(e,n,r,i)})}function ks(e,t,n,r){const i=Cr(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(n,o)=>{"ok"===n&&Ur(e.onDisconnect_,t,i),Cs(e,r,n,o)})}function ws(e,t,n){let r;r=".info"===Dn(t._path)?po(e.infoSyncTree_,t,n):po(e.serverSyncTree_,t,n),ss(e.eventQueue_,t._path,r)}function xs(e){e.persistentConnection_&&e.persistentConnection_.interrupt(us)}function Ss(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Ut(t,...r)}function Cs(e,t,n,r){t&&on(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}})}function Es(e,t,n){return yo(e.serverSyncTree_,t,n)||xr.EMPTY_NODE}function Ts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Ls(e,t),Fo(t)){const n=Ps(e,t);m(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=Es(e,t,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const e=n[c];m(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Wn(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,r=>{Ss(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(ho(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();Ls(e,zo(e.transactionQueueTree_,t)),Ts(e,e.transactionQueueTree_),as(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)on(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Vt("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Ns(e,t)}},s)}(e,Ho(t),n)}else Bo(t)&&Uo(t,t=>{Ts(e,t)})}function Ns(e,t){const n=Is(e,t),r=Ho(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter(e=>0===e.status),s=o.map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){const o=t[a],l=Wn(n,o.path);let c,u=!1;if(m(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)u=!0,c=o.abortReason,i=i.concat(ho(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=25)u=!0,c="maxretry",i=i.concat(ho(e.serverSyncTree_,o.currentWriteId,!0));else{const n=Es(e,o.path,s);o.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){Jo("transaction failed: Data returned ",r,o.path);let t=Cr(r);"object"===typeof r&&null!=r&&q(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=ps(e),c=Do(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=bs(e),s.splice(s.indexOf(a),1),i=i.concat(uo(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(ho(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",i=i.concat(ho(e.serverSyncTree_,o.currentWriteId,!0))}as(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===c?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(c),!1,null))))}Ls(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)on(r[a]);Ts(e,e.transactionQueueTree_)}(e,Ps(e,n),r),r}function Is(e,t){let n,r=e.transactionQueueTree_;for(n=Dn(t);null!==n&&void 0===Fo(r);)r=zo(r,n),n=Dn(t=Mn(t));return r}function Ps(e,t){const n=[];return Rs(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Rs(e,t,n){const r=Fo(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Uo(t,t=>{Rs(e,t,n)})}function Ls(e,t){const n=Fo(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,jo(t,n.length>0?n:void 0)}Uo(t,t=>{Ls(e,t)})}function As(e,t){const n=Ho(Is(e,t)),r=zo(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{Ds(e,t)}),Ds(e,r),Wo(r,t=>{Ds(e,t)}),n}function Ds(e,t){const n=Fo(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(m(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(m(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(ho(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?jo(t,void 0):n.length=o+1,as(e.eventQueue_,Ho(t),i);for(let e=0;e<r.length;e++)on(r[e])}}const Os=function(e,t){const n=Ms(e),r=n.namespace;"firebase.com"===n.domain&&qt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||qt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new mn(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Ln(n.pathString)}},Ms=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Vt("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},zs="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Fs=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=zs.charAt(n%64),n=Math.floor(n/64);m(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=zs.charAt(t[i]);return m(20===s.length,"nextPushId: Length should be 20."),s}}();class js{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+W(this.snapshot.exportVal())}}class Bs{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Us{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return m(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Ws{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new P;return _s(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){ns("OnDisconnect.remove",this._path);const e=new P;return ks(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){ns("OnDisconnect.set",this._path),Xo("OnDisconnect.set",e,this._path,!1);const t=new P;return ks(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){ns("OnDisconnect.setWithPriority",this._path),Xo("OnDisconnect.setWithPriority",e,this._path,!1),es("OnDisconnect.setWithPriority",t,!1);const n=new P;return function(e,t,n,r,i){const o=Cr(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(n,r)=>{"ok"===n&&Ur(e.onDisconnect_,t,o),Cs(0,i,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){ns("OnDisconnect.update",this._path),Zo("OnDisconnect.update",e,this._path,!1);const t=new P;return function(e,t,n,r){if($(n))return Ut("onDisconnect().update() called with empty data.  Don't do anything."),void Cs(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(i,o)=>{"ok"===i&&en(n,(n,r)=>{const i=Cr(r);Ur(e.onDisconnect_,Bn(t,n),i)}),Cs(0,r,i,o)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Hs{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Un(this._path)?null:zn(this._path)}get ref(){return new qs(this._repo,this._path)}get _queryIdentifier(){const e=zr(this._queryParams),t=Jt(e);return"{}"===t?"default":t}get _queryObject(){return zr(this._queryParams)}isEqual(e){if(!((e=Z(e))instanceof Hs))return!1;const t=this._repo===e._repo,n=qn(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class qs extends Hs{constructor(e,t){super(e,t,new Or,!1)}get parent(){const e=jn(this._path);return null===e?null:new qs(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Vs{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ln(e),n=Ks(this.ref,e);return new Vs(this._node.getChild(t),n,mr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new Vs(n,Ks(this.ref,t),mr)))}hasChild(e){const t=new Ln(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $s(e,t){return(e=Z(e))._checkNotDeleted("ref"),void 0!==t?Ks(e._root,t):e._root}function Ks(e,t){var n,r,i,o;return null===Dn((e=Z(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ts(n,r,i,o)):ts("child","path",t,!1),new qs(e._repo,Bn(e._path,t))}function Qs(e,t){e=Z(e),ns("set",e._path),Xo("set",t,e._path,!1);const n=new P;return vs(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}class Ys{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new js("value",this,new Vs(e.snapshotNode,new qs(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Bs(this,e,t):null}matches(e){return e instanceof Ys&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Gs{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Bs(this,e,t):null}createEvent(e,t){m(null!=e.childName,"Child events should have a childName.");const n=Ks(new qs(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new js(e.type,this,new Vs(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Gs&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Xs(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{ws(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new Us(n,o||void 0),a="value"===t?new Ys(s):new Gs(t,s);return function(e,t,n){let r;r=".info"===Dn(t._path)?go(e.infoSyncTree_,t,n):go(e.serverSyncTree_,t,n),ss(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>ws(e._repo,e,a)}function Js(e,t,n,r){return Xs(e,"value",t,n,r)}!function(e){m(!Yi,"__referenceConstructor has already been defined"),Yi=e}(qs),function(e){m(!Gi,"__referenceConstructor has already been defined"),Gi=e}(qs);const Zs={};let ea=!1;function ta(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||qt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ut("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=Os(o,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/shiden",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,o="http://".concat(a,"?ns=").concat(c.namespace),l=Os(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new cn(cn.OWNER):new ln(e.name,e.options,t);rs("Invalid Firebase Database URL",l),Un(l.path)||qt("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=Zs[t.name];i||(i={},Zs[t.name]=i);let o=i[e.toURLString()];o&&qt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new ds(e,ea,n,r),i[e.toURLString()]=o,o}(c,e,u,new an(e,n));return new na(d,e)}class na{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hs(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qs(this._repo,An())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Zs[t];n&&n[e.key]===e||qt("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),xs(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&qt("Cannot call "+e+" on a deleted database.")}}const ra={".sv":"timestamp"};Xn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Xn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Nt("12.8.0"),ct(new ee("database",(e,t)=>{let{instanceIdentifier:n}=t;return ta(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),pt(Ct,Et,e),pt(Ct,Et,"esm2020")}();pt("firebase","12.8.0","app");const ia=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt;const t=ot.get(e);if(!t&&e===rt&&I())return ft();if(!t)throw dt.create("no-app",{appName:e});return t}(),t=arguments.length>1?arguments[1]:void 0;const n=ut(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=N("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Z(e),e._checkNotDeleted("useEmulator");const i="".concat(t,":").concat(n),o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Q(r,o.repoInfo_.emulatorOptions))return;qt("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&qt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new cn(cn.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[k(JSON.stringify({alg:"none",type:"JWT"})),k(JSON.stringify(o)),""].join(".")}(r.mockUserToken,e.app.options.projectId);s=new cn(t)}R(t)&&(!async function(e){(await fetch(e,{credentials:"include"})).ok}(t),D("Database",!0));!function(e,t,n,r){const i=t.lastIndexOf(":"),o=R(t.substring(0,i));e.repoInfo_=new mn(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(o,i,r,s)}(n,...e)}return n}(ft({apiKey:"AIzaSyDEOQ0xiSg2MfqmL5qVlm-MP6fRC32OpVQ",authDomain:"shiden-games.firebaseapp.com",databaseURL:"https://shiden-games-default-rtdb.firebaseio.com",projectId:"shiden-games",storageBucket:"shiden-games.firebasestorage.app",messagingSenderId:"764248462785",appId:"1:764248462785:web:aa3e68326893a71d288b40",measurementId:"G-V0VXR4MERY"}));class oa{constructor(e){this.skillsRaw=void 0,this.playerName="\u540d\u3082\u306a\u304d\u95d8\u58eb",this.skill=[],this.name=[],this.type=[],this.speed=[],this.damage=[],this.scar=[],this.limited=[],this.kage=[],this.gekirin=0,this.musou=0,this.stan=0,this.kakuran=0,this.suijaku=0,this.roubai=0,this.ekibyo=0,this.kakugo=0,this.sensei=0,this.bouheki=0,this.bouheki_=0,this.tate=0;const t=e.split("\uff0f");this.skillsRaw=t[0],t.length>=2&&(this.playerName=t[1]),this.initializeSkills(this.skillsRaw)}initializeSkills(e){this.skill=[],this.name=[],this.type=[],this.speed=[],this.damage=[],this.limited=[],this.scar=[],this.kage=[],this.gekirin=0,this.musou=0,this.stan=0,this.kakuran=0,this.suijaku=0,this.roubai=0,this.ekibyo=0,this.kakugo=0,this.sensei=0,this.bouheki=0,this.bouheki_=0,this.tate=0;for(let t=0;t<e.length;t++){switch(this.skill[t]=e.substring(t,t+1),this.name[t]="\u3000\u3000",this.type[t]=oa.NONE,this.speed[t]=0,this.damage[t]=0,this.limited[t]=0,this.skill[t]){case"\u4e00":this.name[t]="\u4e00\u9583",this.type[t]=oa.ATTACK,this.speed[t]=t+1,this.damage[t]=1;break;case"\u523a":this.name[t]="\u523a\u7a81",this.type[t]=oa.ATTACK,this.speed[t]=1,this.damage[t]=1;break;case"\u679c":this.name[t]="\u679c\u65ad",this.type[t]=oa.ATTACK,this.speed[t]=1,this.damage[t]=t+1;break;case"\u5263":this.name[t]="\u5263\u821e",this.type[t]=oa.ATTACK,this.speed[t]=t+1-1,this.damage[t]=0,this.speed[t]<0&&(this.speed[t]=0);break;case"\u7d2b":this.name[t]="\u7d2b\u96fb",this.type[t]=oa.ATTACK,this.speed[t]=t+1+2,this.damage[t]=1;break;case"\u546a":this.name[t]="\u546a\u8a5b",this.type[t]=oa.ATTACK,this.speed[t]=1,this.damage[t]=1;break;case"\u96f7":this.name[t]="\u96f7\u706b",this.type[t]=oa.ATTACK,this.speed[t]=t+1,this.damage[t]=2,this.limited[t]=1;break;case"\u96a0":this.name[t]="\u96a0\u5203",this.type[t]=oa.ATTACK,this.speed[t]=t+1,this.damage[t]=2;break;case"\u6012":this.name[t]="\u6012\u6fe4",this.type[t]=oa.ATTACK,this.speed[t]=t+1-2,this.damage[t]=0,this.speed[t]<0&&(this.speed[t]=0);break;case"\u5f31":this.name[t]="\u5f31\u6483",this.type[t]=oa.ATTACK,this.speed[t]=0,this.damage[t]=1;break;case"\u899a":this.name[t]="\u899a\u609f",this.type[t]=oa.BUFF,this.speed[t]=t+1,this.limited[t]=1;break;case"\u9632":this.name[t]="\u9632\u58c1",this.type[t]=oa.BUFF,this.speed[t]=t+1,this.limited[t]=1;break;case"\u5c01":this.name[t]="\u5c01\u5370",this.type[t]=oa.BUFF,this.speed[t]=t+1,this.limited[t]=1;break;case"\u5f71":this.name[t]="\u5f71\u8a0e",this.type[t]=oa.BUFF,this.speed[t]=0;break;case"\u4ea4":this.name[t]="\u4ea4\u932f",this.type[t]=oa.COUNTER,this.speed[t]=t,this.damage[t]=1;break;case"\u6426":this.name[t]="\u6426\u624b",this.type[t]=oa.COUNTER,this.speed[t]=t+1,this.damage[t]=0;break;case"\u5f85":this.name[t]="\u5f85\u4f0f",this.type[t]=oa.COUNTER,this.speed[t]=1,this.damage[t]=2;break;case"\u7389":this.name[t]="\u7389\u97ff",this.type[t]=oa.COUNTER,this.speed[t]=t,this.damage[t]=0;break;case"\u5d29":this.name[t]="\u5d29\u6280",this.type[t]=oa.COUNTER,this.speed[t]=t+1,this.damage[t]=0;break;case"\u75ab":this.name[t]="\u75ab\u75c5",this.type[t]=oa.COUNTER,this.speed[t]=t+1,this.damage[t]=0;break;case"\u5f37":this.name[t]="\uff0b\u5f37",this.type[t]=oa.ENCHANT,this.speed[t]=0;break;case"\u786c":this.name[t]="\uff0b\u786c",this.type[t]=oa.ENCHANT,this.speed[t]=0;break;case"\u901f":this.name[t]="\uff0b\u901f",this.type[t]=oa.ENCHANT,this.speed[t]=0;break;case"\u53cd":this.name[t]="\uff0b\u53cd",this.type[t]=oa.ENCHANT,this.speed[t]=0;break;case"\u76fe":this.name[t]="\uff0b\u76fe",this.type[t]=oa.ENCHANT,this.speed[t]=0,this.limited[t]=1;break;case"\u932c":this.name[t]="\uff0b\u932c",this.type[t]=oa.ENCHANT,this.speed[t]=0,this.limited[t]=1;break;case"\u9006":this.name[t]="\u9006\u9c57",this.type[t]=oa.ENCHANT,this.speed[t]=0;break;case"\u7121":this.name[t]="\u7121\u60f3",this.type[t]=oa.ENCHANT,this.speed[t]=0,this.limited[t]=1;break;case"\u88cf":this.name[t]="\u88cf\u971e",this.type[t]=oa.ENCHANT,this.speed[t]=0;break;case"\u5148":this.name[t]="\u5148\u5236",this.type[t]=oa.ENCHANT,this.speed[t]=0;break;case"\u9023":this.name[t]="\u9023\u6483",this.type[t]=oa.ENCHANT,this.speed[t]=0,this.limited[t]=1;break;case"\u71d0":this.name[t]="\u71d0\u5149",this.type[t]=oa.ENCHANT,this.speed[t]=0;break;case"\u7a7a":this.name[t]="\u7a7a\u767d",this.type[t]=oa.ENCHANT,this.speed[t]=0}this.scar[t]=0}}shuffleArray(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}shuffleSkills(){const e=this.skillsRaw.split("");this.skillsRaw=e.join(""),this.initializeSkills(this.skillsRaw)}getSkillsLength(){return this.skillsRaw.length}getSkillsCount(){return this.skillsRaw.length}}oa.NONE=0,oa.ATTACK=1,oa.COUNTER=2,oa.ENCHANT=3,oa.BUFF=4;class sa{constructor(e,t){this.dataPc1=void 0,this.dataPc2=void 0,this.text="",this.turn=void 0,this.pc1=null,this.pc2=null,this.dataPc1=e,this.dataPc2=t,this.turn=1}start(){sa.SHORT=0,this.pc1=new oa(this.dataPc1),this.pc2=new oa(this.dataPc2);const e=this.pc1,t=this.pc2;for(this.text+="=============================================\n\n",this.text+=e.playerName+"\u3000VS\u3000"+t.playerName+"\n\n",this.text+="\u2015\u2015\u6226\u95d8\u958b\u59cb\u2015\u2015\n\n",this.turn=1;this.turn>=0;this.turn++){let n=0,r=0,i="",o="";if(this.text+="\u3010\u7b2c".concat(this.turn,"\u30e9\u30a6\u30f3\u30c9\u3011\n\n"),0===sa.SHORT)for(let t=0;t<e.getSkillsLength();t++)this.text+="\u3010".concat(e.name[t],"\u3011");else for(let t=0;t<e.getSkillsLength();t++)this.text+=e.skill[t];if(this.text+="\uff0f".concat(e.playerName),1===e.stan&&(n=1,i+="\u30b9"),1===e.roubai&&(n=1,i+="\u72fc"),1===e.suijaku&&(n=1,i+="\u5fd8"),1===e.kakugo&&(n=1,i+="\u899a"),e.bouheki>=1){n=1;for(let t=0;t<e.bouheki;t++)i+="\u9632"}if(e.gekirin>=1){n=1;for(let t=0;t<e.gekirin;t++)i+="\u9006"}if(1===e.musou&&(n=1,i+="\u7121"),1===e.sensei&&(n=1,i+="\u5148"),1===n&&(this.text+="\u3014".concat(i,"\u3015")),this.text+="\n",0===sa.SHORT)for(let e=0;e<t.getSkillsLength();e++)this.text+="\u3010".concat(t.name[e],"\u3011");else for(let e=0;e<t.getSkillsLength();e++)this.text+=t.skill[e];if(this.text+="\uff0f".concat(t.playerName),1===t.stan&&(r=1,o+="\u30b9"),1===t.roubai&&(r=1,o+="\u72fc"),1===t.suijaku&&(r=1,o+="\u5fd8"),1===t.kakugo&&(r=1,o+="\u899a"),t.bouheki>=1){r=1;for(let e=0;e<t.bouheki;e++)o+="\u9632"}if(t.gekirin>=1){r=1;for(let e=0;e<t.gekirin;e++)o+="\u9006"}1===t.musou&&(r=1,o+="\u7121"),1===t.sensei&&(r=1,o+="\u5148"),1===r&&(this.text+="\u3014".concat(o,"\u3015")),this.text+="\n";let s=0;this.text+="\n",this.text+="\u25bc\u958b\u59cb\u30d5\u30a7\u30a4\u30ba\n",this.text+="\n",this.turn<=e.getSkillsLength()&&("\u7121"===e.skill[this.turn-1]&&(this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[this.turn-1],"\u3011").concat(this.turn,"\u304c\u767a\u52d5\uff01\n"),this.text+="\uff1e".concat(e.playerName,"\u306b\u7121\u60f3\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),e.musou=1,e.limited[this.turn-1]=2,s=1),"\u5148"===e.skill[this.turn-1]&&(this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[this.turn-1],"\u3011").concat(this.turn,"\u304c\u767a\u52d5\uff01\n"),this.text+="\uff1e".concat(e.playerName,"\u306b\u5148\u5236\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),e.sensei=1,s=1)),this.turn<=t.getSkillsLength()&&("\u7121"===t.skill[this.turn-1]&&(this.text+="".concat(t.playerName,"\u306e\u3010").concat(t.name[this.turn-1],"\u3011").concat(this.turn,"\u304c\u767a\u52d5\uff01\n"),this.text+="\uff1e".concat(t.playerName,"\u306b\u7121\u60f3\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),t.musou=1,t.limited[this.turn-1]=2,s=1),"\u5148"===t.skill[this.turn-1]&&(this.text+="".concat(t.playerName,"\u306e\u3010").concat(t.name[this.turn-1],"\u3011").concat(this.turn,"\u304c\u767a\u52d5\uff01\n"),this.text+="\uff1e".concat(t.playerName,"\u306b\u5148\u5236\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),t.sensei=1,s=1)),1===s&&(this.text+="\n"),this.text+="\u25bc\u5148\u653b\u6c7a\u5b9a\u30d5\u30a7\u30a4\u30ba\n",this.text+="\n";let a,l=0,c=0,u=0,d=0;for(let g=0;g<e.getSkillsLength();g++){if(u=0,d=0,1===e.stan&&0===t.stan){this.text+="\u30b9\u30bf\u30f3\uff01 \u3000\u901f\u5ea6\uff1a\uff0d ",l=-999;break}if(1===e.sensei&&0===t.sensei){this.text+="\u5148\u5236\uff01\u3000 \u3000\u901f\u5ea6\uff1a\uff0d ",l=999;break}if(e.type[g]===oa.ATTACK&&!(g<e.getSkillsLength()-1&&"\u53cd"===e.skill[g+1])&&("\u96a0"!==e.skill[g]||2*Math.floor(this.turn/2)===this.turn)){if("\u5263"===e.skill[g]){e.damage[g]=0;for(let t=0;t<e.getSkillsLength();t++)e.type[t]!==oa.ATTACK||t<e.getSkillsLength()-1&&"\u53cd"===e.skill[t+1]||e.damage[g]++;e.speed[g]<0&&(e.speed[g]=0)}g<e.getSkillsLength()-1&&"\u901f"===e.skill[g+1]&&(u+=1),1===e.kakugo&&(u+=2),this.text+="\u3010".concat(e.name[g],"\u3011").concat(g+1,"\u3000\u901f\u5ea6\uff1a").concat(e.speed[g]+u,"\u3000"),l=e.speed[g]+u;break}if(e.type[g]===oa.BUFF){g<e.getSkillsLength()-1&&"\u901f"===e.skill[g+1]&&(u+=1),this.text+="\u3010".concat(e.name[g],"\u3011").concat(g+1,"\u3000\u901f\u5ea6\uff1a").concat(e.speed[g]+u,"\u3000"),l=e.speed[g]+u;break}if(g===e.getSkillsLength()-1){this.text+="\u30b9\u30ad\u30eb\u306a\u3057 \u901f\u5ea6\uff1a0\u3000",l=0;break}}this.text+="\uff0f".concat(e.playerName,"\n");for(let g=0;g<t.getSkillsLength();g++){if(1===t.stan&&0===e.stan){this.text+="\u30b9\u30bf\u30f3\uff01 \u3000\u901f\u5ea6\uff1a\uff0d ",c=-999;break}if(1===t.sensei&&0===e.sensei){this.text+="\u5148\u5236\uff01 \u3000\u3000\u901f\u5ea6\uff1a\uff0d ",c=999;break}if(t.type[g]===oa.ATTACK&&!(g<t.getSkillsLength()-1&&"\u53cd"===t.skill[g+1])&&("\u96a0"!==t.skill[g]||2*Math.floor(this.turn/2)===this.turn)){if("\u5263"===t.skill[g]){t.damage[g]=0;for(let n=0;n<t.getSkillsLength();n++)t.type[n]!==oa.ATTACK||n<e.getSkillsLength()-1&&"\u53cd"===e.skill[n+1]||t.damage[g]++;t.speed[g]<0&&(t.speed[g]=0)}g<t.getSkillsLength()-1&&"\u901f"===t.skill[g+1]&&(d+=1),1===t.kakugo&&(d+=2),this.text+="\u3010".concat(t.name[g],"\u3011").concat(g+1,"\u3000\u901f\u5ea6\uff1a").concat(t.speed[g]+d,"\u3000"),c=t.speed[g]+d;break}if(t.type[g]===oa.BUFF){g<t.getSkillsLength()-1&&"\u901f"===t.skill[g+1]&&(d+=1),this.text+="\u3010".concat(t.name[g],"\u3011").concat(g+1,"\u3000\u901f\u5ea6\uff1a").concat(t.speed[g]+d,"\u3000"),c=t.speed[g]+d;break}if(g===t.getSkillsLength()-1){this.text+="\u30b9\u30ad\u30eb\u306a\u3057 \u901f\u5ea6\uff1a0\u3000",c=0;break}}if(this.text+="\uff0f".concat(t.playerName,"\n"),this.text+="\n",l>c){if(this.text+="".concat(e.playerName,"\u306e\u5148\u653b\uff01\n"),this.text+="\n",this.text+="\u25bc".concat(e.playerName,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\n"),this.text+="\n",this.rinko(e,t),this.attack(e,t),this.text+="\n",this.effect(e,t)+this.effect(t,e)>=1&&(this.text+="\n"),this.breakup(e)+this.breakup(t)>=1&&(this.text+="\n"),a=this.judge(e,t,2),a>0)return a;if(this.text+="\u25bc".concat(t.playerName,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\n"),this.text+="\n",this.rinko(t,e),this.attack(t,e),this.text+="\n",this.effect(t,e)+this.effect(e,t)>=1&&(this.text+="\n"),this.breakup(t)+this.breakup(e)>=1&&(this.text+="\n"),a=this.judge(e,t,1),a>0)return a}if(l<c){if(this.text+="".concat(t.playerName,"\u306e\u5148\u653b\uff01\n"),this.text+="\n",this.text+="\u25bc".concat(t.playerName,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\n"),this.text+="\n",this.rinko(t,e),this.attack(t,e),this.text+="\n",this.effect(t,e)+this.effect(e,t)>=1&&(this.text+="\n"),this.breakup(t)+this.breakup(e)>=1&&(this.text+="\n"),a=this.judge(e,t,1),a>0)return a;if(this.text+="\u25bc".concat(e.playerName,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\n"),this.text+="\n",this.rinko(e,t),this.attack(e,t),this.text+="\n",this.effect(e,t)+this.effect(t,e)>=1&&(this.text+="\n"),this.breakup(e)+this.breakup(t)>=1&&(this.text+="\n"),a=this.judge(e,t,2),a>0)return a}if(l===c){if(this.text+="".concat(e.playerName,"\u306e\u5148\u653b\uff01\uff08\u901f\u5ea6\u540c\u5024\u306e\u305f\u3081\uff09\n"),this.text+="\n",this.text+="\u25bc".concat(e.playerName,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\n"),this.text+="\n",this.rinko(e,t),this.attack(e,t),this.text+="\n",this.effect(e,t)+this.effect(t,e)>=1&&(this.text+="\n"),this.breakup(e)+this.breakup(t)>=1&&(this.text+="\n"),a=this.judge(e,t,2),a>0)return a;if(this.text+="\u25bc".concat(t.playerName,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\n"),this.text+="\n",this.rinko(t,e),this.attack(t,e),this.text+="\n",this.effect(t,e)+this.effect(e,t)>=1&&(this.text+="\n"),this.breakup(t)+this.breakup(e)>=1&&(this.text+="\n"),a=this.judge(e,t,1),a>0)return a}let h=0,f=0;for(let t=0;t<e.getSkillsLength();t++)if("\u9023"===e.skill[t]){this.text+="\n",this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[t],"\u3011").concat(t+1,"\u304c\u767a\u52d5\uff01\n"),h=1;break}for(let e=0;e<t.getSkillsLength();e++)if("\u9023"===t.skill[e]){this.text+="\n",this.text+="".concat(t.playerName,"\u306e\u3010").concat(t.name[e],"\u3011").concat(e+1,"\u304c\u767a\u52d5\uff01\n"),f=1;break}if(1===h&&(this.text+="\n",this.text+="\u25bc".concat(e.playerName,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\n"),this.text+="\n",this.rinko(e,t),this.attack(e,t),this.text+="\n",this.effect(e,t)+this.effect(t,e)>=1&&(this.text+="\n"),this.breakup(e)+this.breakup(t)>=1&&(this.text+="\n"),a=this.judge(e,t,2),a>0))return a;if(1===f&&(this.text+="\n",this.text+="\u25bc".concat(t.playerName,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\n"),this.text+="\n",this.rinko(t,e),this.attack(t,e),this.text+="\n",this.effect(t,e)+this.effect(e,t)>=1&&(this.text+="\n"),this.breakup(t)+this.breakup(e)>=1&&(this.text+="\n"),a=this.judge(e,t,1),a>0))return a;let p=0;this.text+="\u25bc\u7d42\u4e86\u30d5\u30a7\u30a4\u30ba\n",this.text+="\n";const m=this.text;1===e.musou&&(this.text+="".concat(e.playerName,"\u306e\u7121\u60f3\u304c\u89e3\u9664\u3055\u308c\u305f\uff01\n"),e.musou=0,p=1),1===t.musou&&(this.text+="".concat(t.playerName,"\u306e\u7121\u60f3\u304c\u89e3\u9664\u3055\u308c\u305f\uff01\n"),t.musou=0,p=1),1===e.sensei&&(this.text+="".concat(e.playerName,"\u306e\u5148\u5236\u304c\u89e3\u9664\u3055\u308c\u305f\uff01\n"),e.sensei=0,p=1),1===t.sensei&&(this.text+="".concat(t.playerName,"\u306e\u5148\u5236\u304c\u89e3\u9664\u3055\u308c\u305f\uff01\n"),t.sensei=0,p=1);for(let t=0;t<e.getSkillsLength();t++)1===e.kage[t]&&(e.kage[t]=0,e.scar[t]=1);for(let e=0;e<t.getSkillsLength();e++)1===t.kage[e]&&(t.kage[e]=0,t.scar[e]=1);for(let t=0;t<e.getSkillsLength();t++)2===e.limited[t]&&(e.limited[t]=1,e.scar[t]=1);for(let e=0;e<t.getSkillsLength();e++)2===t.limited[e]&&(t.limited[e]=1,t.scar[e]=1);if(this.breakup(e)+this.breakup(t)>=1&&(p=1),1===e.suijaku)for(let t=0;t<e.getSkillsLength();t++)if(e.type[t]!==oa.NONE&&"\u7a7a"!==e.skill[t]){this.text+="\u5fd8\u5374\u306e\u52b9\u679c\u3067".concat(e.playerName,"\u306e\u3010").concat(e.name[t],"\u3011").concat(t+1,"\u304c\u3010\u7a7a\u767d\u3011").concat(t+1,"\u306b\u5909\u5316\u3057\u305f\uff01\n"),e.skill[t]="\u7a7a",e.name[t]="\u7a7a\u767d",e.type[t]=oa.ENCHANT,e.speed[t]=0,e.damage[t]=0,e.scar[t]=0,e.limited[t]=0,p=1;break}if(1===t.suijaku)for(let e=0;e<t.getSkillsLength();e++)if(t.type[e]!==oa.NONE&&"\u7a7a"!==t.skill[e]){this.text+="\u5fd8\u5374\u306e\u52b9\u679c\u3067".concat(t.playerName,"\u306e\u3010").concat(t.name[e],"\u3011").concat(e+1,"\u304c\u3010\u7a7a\u767d\u3011").concat(e+1,"\u306b\u5909\u5316\u3057\u305f\uff01\n"),t.skill[e]="\u7a7a",t.name[e]="\u7a7a\u767d",t.type[e]=oa.ENCHANT,t.speed[e]=0,t.damage[e]=0,t.scar[e]=0,t.limited[e]=0,p=1;break}if(this.text===m&&(this.text+="\u306a\u3057\n"),1===p&&(this.text+="\n"),a=this.judge(e,t,3),a>0)return a;this.text+="\n"}return 0}rinko(e,t){for(let n=0;n<e.getSkillsLength();n++)if("\u71d0"===e.skill[n]){this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\u304c\u767a\u52d5\uff01\n"),1===e.stan&&(this.text+="\uff1e".concat(e.playerName,"\u306e\u30b9\u30bf\u30f3\u304c\u89e3\u9664\u3055\u308c\u305f\uff01\n"),e.stan=0),1===e.suijaku&&(this.text+="\uff1e".concat(e.playerName,"\u306e\u5fd8\u5374\u304c\u89e3\u9664\u3055\u308c\u305f\uff01\n"),e.suijaku=0),this.text+="\n";break}}attack(e,t){let n,r,i=0,o=0,s=0,a=0,l=0,c=0,u=0;for(n=0;n<e.getSkillsLength();n++)if("\u88cf"===e.skill[n]){this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\u304c\u767a\u52d5\uff01\n"),this.text+="\n",l=1;break}if(0===l){for(n=0;n<e.getSkillsLength();n++){if(e.type[n]===oa.ATTACK&&!(n<e.getSkillsLength()-1&&"\u53cd"===e.skill[n+1])&&("\u96a0"!==e.skill[n]||2*Math.floor(this.turn/2)===this.turn)){if(this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\uff01\n"),1===e.limited[n]&&(e.limited[n]=2),"\u5263"===e.skill[n]){for(e.damage[n]=0,r=0;r<e.getSkillsLength();r++)e.type[r]!==oa.ATTACK||r<e.getSkillsLength()-1&&"\u53cd"===e.skill[r+1]||e.damage[n]++;e.speed[n]<0&&(e.speed[n]=0)}"\u6012"===e.skill[n]&&(e.damage[n]=this.turn),n<e.getSkillsLength()-1&&"\u5f37"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u5f37\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u304c1\u70b9\u4e0a\u6607\uff01\n"),s++),n<e.getSkillsLength()-1&&"\u901f"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u901f\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u901f\u5ea6\u306b+1\uff01\n")),n<e.getSkillsLength()-1&&"\u932c"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u932c\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u8fce\u6483\u30b9\u30ad\u30eb\u306e\u767a\u52d5\u30921\u56de\u306e\u307f\u7121\u52b9\u306b\uff01\n"),e.limited[n+1]=2),n<e.getSkillsLength()-1&&"\u76fe"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u76fe\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u9632\u58c1\u304c2\u3064\u4e0e\u3048\u3089\u308c\u308b\uff01\n"),e.limited[n+1]=2),1===e.kakugo&&(this.text+="\uff1e\u899a\u609f\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u304c1\u70b9\u4e0a\u6607\uff01\u901f\u5ea6\u306b+2\uff01\n",s++),e.gekirin>0&&(this.text+="\uff1e\u9006\u9c57\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u304c".concat(e.gekirin,"\u70b9\u4e0a\u6607\uff01\n"),s+=e.gekirin,e.gekirin=0),1===e.roubai&&(this.text+="\uff1e\u72fc\u72fd\u306e\u52b9\u679c\u3067\u901f\u5ea6\u304c0\u306b\u306a\u3063\u3066\u3044\u308b\uff01\n"),o=e.damage[n]+s;break}if(e.type[n]===oa.BUFF){this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\uff01\n"),n<e.getSkillsLength()-1&&"\u76fe"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u76fe\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u9632\u58c1\u304c2\u3064\u4e0e\u3048\u3089\u308c\u308b\uff01\n"),e.limited[n+1]=2),1===e.limited[n]&&(e.limited[n]=2);break}if(n===e.getSkillsLength()-1){this.text+="".concat(e.playerName,"\u306e\u3010\u5f31\u6483\u30110\uff01\n"),a=1,o=1;break}}i=n}if(1===l){for(n=e.getSkillsLength()-1;n>=0;n--){if(e.type[n]===oa.ATTACK&&!(n<e.getSkillsLength()-1&&"\u53cd"===e.skill[n+1])&&("\u96a0"!==e.skill[n]||2*Math.floor(this.turn/2)===this.turn)){if(this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\uff01\n"),1===e.limited[n]&&(e.limited[n]=2),"\u5263"===e.skill[n]){for(e.damage[n]=0,r=0;r<e.getSkillsLength();r++)e.type[r]!==oa.ATTACK||r<e.getSkillsLength()-1&&"\u53cd"===e.skill[r+1]||e.damage[n]++;e.speed[n]<0&&(e.speed[n]=0)}"\u6012"===e.skill[n]&&(e.damage[n]=this.turn),n<e.getSkillsLength()-1&&"\u5f37"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u5f37\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u304c1\u70b9\u4e0a\u6607\uff01\n"),s++),n<e.getSkillsLength()-1&&"\u901f"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u901f\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u901f\u5ea6\u306b+1\uff01\n")),n<e.getSkillsLength()-1&&"\u932c"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u932c\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u8fce\u6483\u30b9\u30ad\u30eb\u306e\u767a\u52d5\u30921\u56de\u306e\u307f\u7121\u52b9\u306b\uff01\n"),e.limited[n+1]=2),n<e.getSkillsLength()-1&&"\u76fe"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u76fe\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u9632\u58c1\u304c2\u3064\u4e0e\u3048\u3089\u308c\u308b\uff01\n")),1===e.kakugo&&(this.text+="\uff1e\u899a\u609f\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u304c1\u70b9\u4e0a\u6607\uff01\u901f\u5ea6\u306b+2\uff01\n",s++),e.gekirin>0&&(this.text+="\uff1e\u9006\u9c57\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u304c".concat(e.gekirin,"\u70b9\u4e0a\u6607\uff01\n"),s+=e.gekirin,e.gekirin=0),1===e.roubai&&(this.text+="\uff1e\u72fc\u72fd\u306e\u52b9\u679c\u3067\u901f\u5ea6\u304c0\u306b\u306a\u3063\u3066\u3044\u308b\uff01\n"),o=e.damage[n]+s;break}if(e.type[n]===oa.BUFF){this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\uff01\n"),n<e.getSkillsLength()-1&&"\u76fe"===e.skill[n+1]&&(this.text+="\uff1e\u3010\uff0b\u76fe\u3011".concat(n+2,"\u306e\u52b9\u679c\u3067\u9632\u58c1\u304c2\u3064\u4e0e\u3048\u3089\u308c\u308b\uff01\n")),1===e.limited[n]&&(e.limited[n]=2);break}if(0===n){this.text+="".concat(e.playerName,"\u306e\u3010\u5f31\u6483\u30110\uff01\n"),a=1,o=1;break}}i=n}i<e.getSkillsLength()-1&&"\u901f"===e.skill[i+1]&&(u+=1),1===e.kakugo&&(u+=2),c=e.speed[i]+u,1===e.roubai&&(c=0),1===a&&(c=0),o>0&&(this.text+="\uff1e".concat(t.playerName,"\u306b").concat(o,"\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\uff01\uff08\u901f\u5ea6\uff1a").concat(c,"\uff09\n\n"));let d=0,h=0,f=0,p=0;for(let m=0;m<o;m++){if(1===t.musou){this.text+="\uff1e".concat(t.playerName,"\u306f\u7121\u60f3\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u306a\u3044\uff01\n");break}if(t.bouheki>=1){this.text+="\uff1e".concat(t.playerName,"\u306f\u9632\u58c1\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u306a\u3044\uff01\n");const e=Math.ceil(t.bouheki/2);this.text+="\uff1e".concat(t.playerName,"\u306e\u9632\u58c1\u304c").concat(e,"\u500b\u89e3\u9664\u3055\u308c\u305f\uff01\n"),t.bouheki-=e;break}d=0,h=0;for(let e=0;e<t.getSkillsLength();e++){if(t.type[e]!==oa.NONE&&2!==t.scar[e]){d=e;break}if(e===t.getSkillsLength()-1){h=1;break}}if("\u523a"===e.skill[i]){let e=999,n=-1,r=i+1;for(let i=0;i<t.getSkillsLength();i++)if(t.type[i]!==oa.NONE&&2!==t.scar[i]){let t=i+1,o=Math.abs(r-t);o<e?(e=o,n=i):o===e&&t>n+1&&(n=i)}-1!==n?d=n:h=1}if(1===h){h=0;break}this.text+="\uff1e".concat(t.playerName,"\u306e\u3010").concat(t.name[d],"\u3011").concat(d+1,"\u306b\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u305f\uff01\n"),t.scar[d]=2;let n=0,r=0;if(t.type[d]===oa.COUNTER||t.type[d]===oa.ATTACK&&d<t.getSkillsLength()-1&&"\u53cd"===t.skill[d+1])if(i<e.getSkillsLength()-1&&"\u932c"===e.skill[i+1]&&0===p)this.text+="\uff1e\u3010".concat(e.name[i+1],"\u3011").concat(i+2,"\u306e\u52b9\u679c\u3067").concat(t.playerName,"\u306e\u3010").concat(t.name[d],"\u3011").concat(d+1,"\u306f\u767a\u52d5\u3057\u306a\u3044\uff01\n"),p=1;else{let s=0,l=0;if("\u5263"===t.skill[d]){t.damage[d]=0;for(let e=0;e<t.getSkillsLength();e++)t.type[e]!==oa.ATTACK||e<t.getSkillsLength()-1&&"\u53cd"===t.skill[e+1]||t.damage[d]++;t.speed[d]<0&&(t.speed[d]=0)}if("\u6012"===t.skill[d]&&(t.damage[d]=this.turn),d<t.getSkillsLength()-1&&"\u901f"===t.skill[d+1]&&(l+=1),1===t.kakugo&&(l+=2),s=t.speed[d]+l,s>=c||1===a){if(f=1,1===t.kakugo&&(this.text+="\uff1e\u899a\u609f\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u304c1\u70b9\u4e0a\u6607\uff01\u901f\u5ea6\u306b+2\uff01\n"),this.text+="\uff1e".concat(t.playerName,"\u306e\u3010").concat(t.name[d],"\u3011").concat(d+1,"\u304c\u767a\u52d5\uff01\uff08\u901f\u5ea6\uff1a").concat(s,"\uff09\n"),1===t.limited[d]&&(t.limited[d]=2),"\u4ea4"===t.skill[d]||"\u5f85"===t.skill[d]||"\u7389"===t.skill[d]||"\u4e00"===t.skill[d]||"\u523a"===t.skill[d]||"\u679c"===t.skill[d]||"\u5263"===t.skill[d]||"\u7d2b"===t.skill[d]||"\u546a"===t.skill[d]||"\u96f7"===t.skill[d]||"\u96a0"===t.skill[d]||"\u6012"===t.skill[d]||"\u5f31"===t.skill[d]){"\u7389"===t.skill[d]&&(t.damage[d]=c);let o=t.damage[d];1===t.kakugo&&(o+=1);for(let s=0;s<o;s++){if(1===e.musou){this.text+="\uff1e\uff1e".concat(e.playerName,"\u306f\u7121\u60f3\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u306a\u3044\uff01\n");break}if(e.bouheki>=1){this.text+="\uff1e\uff1e".concat(e.playerName,"\u306f\u9632\u58c1\u306e\u52b9\u679c\u3067\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u306a\u3044\uff01\n");const t=Math.ceil(e.bouheki/2);this.text+="\uff1e\uff1e".concat(e.playerName,"\u306e\u9632\u58c1\u304c").concat(t,"\u500b\u89e3\u9664\u3055\u308c\u305f\uff01\n"),e.bouheki-=t;break}n=0,r=0;for(let t=0;t<e.getSkillsLength();t++){if(e.type[t]!==oa.NONE&&2!==e.scar[t]){n=t;break}if(t===e.getSkillsLength()-1){r=1;break}}if("\u4ea4"===t.skill[d]){if(1===a){this.text+="\uff1e\uff1e".concat(e.playerName,"\u306e\u3010\u5f31\u6483\u30110\u306f\u30c0\u30e1\u30fc\u30b8\u306e\u5bfe\u8c61\u306b\u306a\u3089\u306a\u3044\uff01\n");break}n=i}if("\u523a"===t.skill[d]){let t=999,i=-1,o=d+1;for(let n=0;n<e.getSkillsLength();n++)if(e.type[n]!==oa.NONE&&2!==e.scar[n]){let e=n+1,r=Math.abs(o-e);r<t?(t=r,i=n):r===t&&e>i+1&&(i=n)}-1!==i?n=i:r=1}if(1===r){r=0;break}this.text+="\uff1e\uff1e".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\u306b\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u305f\uff01\n"),e.scar[n]=2}}"\u6426"===t.skill[d]&&(e.roubai=2),"\u5d29"===t.skill[d]&&(e.stan=2),"\u75ab"===t.skill[d]&&(e.ekibyo=2),"\u7d2b"===t.skill[d]&&(t.stan=2),"\u546a"===t.skill[d]&&(e.suijaku=2),m<o-1&&(this.text+="\uff1e".concat(e.playerName,"\u306e\u3010").concat(e.name[i],"\u3011").concat(i+1,"\u304c\u5f37\u5236\u4e2d\u65ad\u3055\u308c\u305f\uff01\n")),h=1}else this.text+="\uff1e".concat(t.playerName,"\u306e\u3010").concat(t.name[d],"\u3011").concat(d+1,"\u306f\u767a\u52d5\u3057\u306a\u3044\uff01\n")}if(1===h){h=0;break}}for(let m=0;m<e.getSkillsLength();m++)2===e.scar[m]&&(e.scar[m]=1);for(let m=0;m<t.getSkillsLength();m++)2===t.scar[m]&&(t.scar[m]=1);if("\u7d2b"===e.skill[i]&&(e.stan=2),i<e.getSkillsLength()-1&&"\u76fe"===e.skill[i+1]&&(e.tate=2,e.limited[i+1]=2),0===f&&"\u546a"===e.skill[i]&&(t.suijaku=2),"\u899a"===e.skill[i]&&(e.kakugo=2),"\u9632"===e.skill[i]&&(e.bouheki_=2),"\u5c01"===e.skill[i]&&(t.stan=2,t.roubai=2,t.suijaku=2),"\u5f71"===e.skill[i])for(let m=0;m<t.getSkillsLength();m++)if(t.type[m]!==oa.NONE){for(let e=0;e<t.getSkillsLength();e++)t.skill[e]===t.skill[m]&&(t.kage[e]=2);break}f=0}effect(e,t){let n=0;2===e.kakugo&&(this.text+="".concat(e.playerName,"\u306b\u899a\u609f\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),e.kakugo=1,n=1),2===e.bouheki_&&(this.text+="".concat(e.playerName,"\u306b\u9632\u58c1\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),this.text+="".concat(e.playerName,"\u306b\u9632\u58c1\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),this.text+="".concat(e.playerName,"\u306b\u9632\u58c1\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),e.bouheki+=3,e.bouheki_=0,n=1),2===e.tate&&(this.text+="".concat(e.playerName,"\u306b\u9632\u58c1\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),this.text+="".concat(e.playerName,"\u306b\u9632\u58c1\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),e.bouheki+=2,e.tate=0,n=1),2===e.stan&&(this.text+="".concat(e.playerName,"\u306f\u30b9\u30bf\u30f3\u3092\u53d7\u3051\u305f\uff01\n"),e.stan=1,n=1),2===e.roubai&&(this.text+="".concat(e.playerName,"\u306f\u72fc\u72fd\u3092\u53d7\u3051\u305f\uff01\n"),e.roubai=1,n=1),2===e.suijaku&&(this.text+="".concat(e.playerName,"\u306f\u5fd8\u5374\u3092\u53d7\u3051\u305f\uff01\n"),e.suijaku=1,n=1);for(let r=0;r<t.getSkillsLength();r++)2===t.kage[r]&&(this.text+="".concat(t.playerName,"\u306e\u3010").concat(t.name[r],"\u3011").concat(r+1,"\u306f\u7d42\u4e86\u30d5\u30a7\u30a4\u30ba\u306b\u7834\u58ca\u3055\u308c\u308b\uff01\n"),t.kage[r]=1,n=1);if(2===e.ekibyo){for(let t=0;t<e.getSkillsLength();t++)if(e.type[t]!==oa.NONE){if(e.limited[t]>=1)break;this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[t],"\u3011").concat(t+1,"\u304c\u3010\u75ab\u75c5\u3011").concat(t+1,"\u306b\u5909\u5316\u3057\u305f\uff01\n"),e.skill[t]="\u75ab",e.name[t]="\u75ab\u75c5",e.type[t]=oa.COUNTER,e.speed[t]=t+1,e.damage[t]=0,e.limited[t]=0;break}e.ekibyo=0,n=1}return n}breakup(e){let t=0;for(let n=0;n<e.getSkillsLength();n++)1===e.scar[n]&&(e.type[n]!==oa.ENCHANT&&n<e.getSkillsLength()-1&&"\u786c"===e.skill[n+1]?(this.text+="".concat(e.playerName,"\u306e\u3010\uff0b\u786c\u3011").concat(n+2,"\u306b\u3088\u3063\u3066\u3010").concat(e.name[n],"\u3011").concat(n+1,"\u306e\u7834\u58ca\u304c\u7121\u52b9\u5316\u3055\u308c\u305f\uff01\n"),this.text+="".concat(e.playerName,"\u306e\u3010\uff0b\u786c\u3011").concat(n+2,"\u304c\u7834\u58ca\u3055\u308c\u305f\uff01\n"),e.skill[n+1]="\uff3f",e.name[n+1]="\u3000\u3000",e.type[n+1]=oa.NONE,e.speed[n+1]=0,e.damage[n+1]=0,e.scar[n+1]=0,e.limited[n+1]=0,e.scar[n]=0):(this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\u304c\u7834\u58ca\u3055\u308c\u305f\uff01\n"),"\u9006"===e.skill[n]&&(this.text+="".concat(e.playerName,"\u306e\u3010").concat(e.name[n],"\u3011").concat(n+1,"\u304c\u767a\u52d5\uff01\n"),this.text+="\uff1e".concat(e.playerName,"\u306b\u9006\u9c57\u304c\u4e0e\u3048\u3089\u308c\u305f\uff01\n"),e.gekirin++),e.skill[n]="\uff3f",e.name[n]="\u3000\u3000",e.type[n]=oa.NONE,e.speed[n]=0,e.damage[n]=0,e.scar[n]=0,e.limited[n]=0,e.kage[n]=0),t=1);return t}judge(e,t,n){let r=0,i=0;for(let o=0;o<t.getSkillsLength();o++)t.type[o]!==oa.NONE&&(r=1);0===r&&(i+=1),r=0;for(let o=0;o<e.getSkillsLength();o++)e.type[o]!==oa.NONE&&(r=1);if(0===r&&(i+=2),i>0){if(this.text+="\n\u3010\u52dd\u6557\u5224\u5b9a\u3011\n\n",0===sa.SHORT)for(let t=0;t<e.getSkillsLength();t++)this.text+="\u3010".concat(e.name[t],"\u3011");else for(let t=0;t<e.getSkillsLength();t++)this.text+=e.skill[t];if(this.text+="\uff0f".concat(e.playerName),this.text+="\n",0===sa.SHORT)for(let e=0;e<t.getSkillsLength();e++)this.text+="\u3010".concat(t.name[e],"\u3011");else for(let e=0;e<t.getSkillsLength();e++)this.text+=t.skill[e];this.text+="\uff0f".concat(t.playerName),this.text+="\n\n"}return 3===i&&(i=1===n?2:2===n?1:3),1===i?(this.text+="".concat(e.playerName,"\u306e\u52dd\u5229\uff01\n\n"),this.text+="=============================================\n",1):2===i?(this.text+="".concat(t.playerName,"\u306e\u52dd\u5229\uff01\n\n"),this.text+="=============================================\n",2):3===i?(this.text+="\u5f15\u304d\u5206\u3051\n\n",this.text+="=============================================\n",3):0}}sa.SHORT=0;class aa{constructor(e,t){this.player1=void 0,this.player2=void 0,this.battle=void 0,this.gameLog="",this.winner=0,this.player1=new oa(e+"\uff0f\u30d7\u30ec\u30a4\u30e4\u30fc"),this.player2=new oa(t+"\uff0f\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf"),this.player1.shuffleSkills(),this.player2.shuffleSkills(),this.battle=new sa(this.player1.skillsRaw+"\uff0f"+this.player1.playerName,this.player2.skillsRaw+"\uff0f"+this.player2.playerName)}startGame(){const e=this.battle.start();return this.gameLog=this.battle.text,this.winner=e,this.winner}chooseAISkill(){const e=[],t=[];for(let n=0;n<this.player2.getSkillsCount();n++)this.player2.type[n]!==oa.NONE&&0===this.player2.scar[n]&&(this.player2.type[n]===oa.ATTACK?e.push(n):t.push(n));if(e.length>0){return e[Math.floor(Math.random()*e.length)]}if(t.length>0){return t[Math.floor(Math.random()*t.length)]}return-1}}const la=[{abbr:"\u4e00",name:"\u4e00\u9583",icon:"/images/skill/a01.gif",type:"\u653b\u6483",speed:"LV",description:"\u76f8\u624b\u306b1\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u523a",name:"\u523a\u7a81",icon:"/images/skill/a02.gif",type:"\u653b\u6483",speed:"1",description:"\u76f8\u624b\u306b1\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\n\u30c0\u30e1\u30fc\u30b8\u306e\u5bfe\u8c61\u306f\u3001\u3053\u306e\u30b9\u30ad\u30eb\u3068\u6700\u3082LV\u304c\u8fd1\u3044\u30b9\u30ad\u30eb\uff08\u3088\u308a\u9ad8\u3044LV\u3092\u512a\u5148\uff09\u306b\u5909\u66f4\u3055\u308c\u308b\u3002"},{abbr:"\u679c",name:"\u679c\u65ad",icon:"/images/skill/a03.gif",type:"\u653b\u6483",speed:"1",description:"\u76f8\u624b\u306bLV\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u5263",name:"\u5263\u821e",icon:"/images/skill/a04.gif",type:"\u653b\u6483",speed:"LV-1",description:"\u76f8\u624b\u306bX\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\nX\u306f\u3001\u3042\u306a\u305f\u304c\u6240\u6301\u3057\u3066\u3044\u308b\u653b\u6483\u30b9\u30ad\u30eb\u306e\u6570\u3067\u3042\u308b\u3002"},{abbr:"\u7d2b",name:"\u7d2b\u96fb",icon:"/images/skill/a05.gif",type:"\u653b\u6483",speed:"LV+2",description:"\u76f8\u624b\u306b1\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\n\u3042\u306a\u305f\u306b\u72b6\u614b\u300c\u30b9\u30bf\u30f3\u300d\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u546a",name:"\u546a\u8a5b",icon:"/images/skill/a06.gif",type:"\u653b\u6483",speed:"1",description:"\u76f8\u624b\u306b1\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\u76f8\u624b\u306b\u72b6\u614b\u300c\u5fd8\u5374\u300d\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u96f7",name:"\u96f7\u706b",icon:"/images/skill/a07.gif",type:"\u653b\u6483\uff08\u30ea\u30df\u30c6\u30c3\u30c9\uff09",speed:"LV",description:"\u76f8\u624b\u306b2\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u96a0",name:"\u96a0\u5203",icon:"/images/skill/a08.gif",type:"\u653b\u6483",speed:"LV",description:"\u76f8\u624b\u306b2\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\n\u3053\u306e\u30b9\u30ad\u30eb\u306f\u5947\u6570\u30e9\u30a6\u30f3\u30c9\u306e\u6642\u3001\u5148\u653b\u6c7a\u5b9a\u30d5\u30a7\u30a4\u30ba\u3067\u901f\u5ea6\u3092\u6bd4\u8f03\u3059\u308b\u30b9\u30ad\u30eb\u306e\u5bfe\u8c61\u306b\u306a\u3089\u305a\u3001\u307e\u305f\u3001\u653b\u6483\u30d5\u30a7\u30a4\u30ba\u3067\u4f7f\u7528\u3059\u308b\u30b9\u30ad\u30eb\u306b\u3082\u9078\u629e\u3055\u308c\u306a\u3044\u3002"},{abbr:"\u6012",name:"\u6012\u6fe4",icon:"/images/skill/a09.gif",type:"\u653b\u6483",speed:"LV-2\uff08\u6700\u4f4e0\uff09",description:"\u76f8\u624b\u306bX\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\nX\u306f\u3001\u73fe\u5728\u306e\u30e9\u30a6\u30f3\u30c9\u6570\u3067\u3042\u308b\u3002"},{abbr:"\u5f31",name:"\u5f31\u6483",icon:"/images/skill/a10.gif",type:"\u653b\u6483",speed:"0",description:"\u76f8\u624b\u306b1\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\n\u3042\u306a\u305f\u304c\u653b\u6483\u30fb\u88dc\u52a9\u30b9\u30ad\u30eb\u3092\u6240\u6301\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u653b\u6483\u30d5\u30a7\u30a4\u30ba\u306b\u81ea\u52d5\u7684\u306b\u3053\u306e\u30b9\u30ad\u30eb\u304c\u4f7f\u7528\u3055\u308c\u308b\u3002"},{abbr:"\u899a",name:"\u899a\u609f",icon:"/images/skill/b01.gif",type:"\u88dc\u52a9\uff08\u30ea\u30df\u30c6\u30c3\u30c9\uff09",speed:"LV",description:"\u3042\u306a\u305f\u306b\u72b6\u614b\u300c\u899a\u609f\u300d\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u9632",name:"\u9632\u58c1",icon:"/images/skill/b02.gif",type:"\u88dc\u52a9\uff08\u30ea\u30df\u30c6\u30c3\u30c9\uff09",speed:"LV",description:"\u3042\u306a\u305f\u306b\u72b6\u614b\u300c\u9632\u58c1\u300d\u30923\u3064\u4e0e\u3048\u308b\u3002"},{abbr:"\u5c01",name:"\u5c01\u5370",icon:"/images/skill/b03.gif",type:"\u88dc\u52a9\uff08\u30ea\u30df\u30c6\u30c3\u30c9\uff09",speed:"LV",description:"\u76f8\u624b\u306b\u72b6\u614b\u300c\u30b9\u30bf\u30f3\u300d\u300c\u72fc\u72fd\u300d\u300c\u5fd8\u5374\u300d\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u5f71",name:"\u5f71\u8a0e",icon:"/images/skill/b04.gif",type:"\u88dc\u52a9",speed:"LV",description:"\u76f8\u624b\u304c\u6240\u6301\u3057\u3066\u3044\u308b\u5148\u982d\u306e\u30b9\u30ad\u30eb\u30921\u3064\u6307\u5b9a\u3059\u308b\u3002\n\u3053\u306e\u30b9\u30ad\u30eb\u3092\u4f7f\u7528\u3057\u305f\u30e9\u30a6\u30f3\u30c9\u306e\u7d42\u4e86\u30d5\u30a7\u30a4\u30ba\u306b\u3001\u76f8\u624b\u304c\u6240\u6301\u3057\u3066\u3044\u308b\u6307\u5b9a\u3057\u305f\u30b9\u30ad\u30eb\u3068\u540c\u540d\u306e\u30b9\u30ad\u30eb\u3092\u5168\u3066\u7834\u58ca\u3059\u308b\u3002"},{abbr:"\u4ea4",name:"\u4ea4\u932f",icon:"/images/skill/c01.gif",type:"\u8fce\u6483",speed:"LV-1",description:"\u76f8\u624b\u306b1\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\n\u30c0\u30e1\u30fc\u30b8\u306e\u5bfe\u8c61\u306f\u3001\u3053\u306e\u30b9\u30ad\u30eb\u306b\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u305f\u653b\u6483\u30b9\u30ad\u30eb\u3067\u3042\u308b\u3002"},{abbr:"\u6426",name:"\u6426\u624b",icon:"/images/skill/c02.gif",type:"\u8fce\u6483",speed:"LV",description:"\u76f8\u624b\u306b\u72b6\u614b\u300c\u72fc\u72fd\u300d\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u5f85",name:"\u5f85\u4f0f",icon:"/images/skill/c03.gif",type:"\u8fce\u6483",speed:"1",description:"\u76f8\u624b\u306b2\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u7389",name:"\u7389\u97ff",icon:"/images/skill/c04.gif",type:"\u8fce\u6483",speed:"LV-1",description:"\u76f8\u624b\u306bX\u70b9\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3002\nX\u306f\u3001\u3053\u306e\u30b9\u30ad\u30eb\u306b\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u305f\u653b\u6483\u30b9\u30ad\u30eb\u306e\u901f\u5ea6\uff08\u6700\u4f4e0\uff09\u3067\u3042\u308b\u3002"},{abbr:"\u5d29",name:"\u5d29\u6280",icon:"/images/skill/c05.gif",type:"\u8fce\u6483",speed:"LV",description:"\u76f8\u624b\u306b\u72b6\u614b\u300c\u30b9\u30bf\u30f3\u300d\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u75ab",name:"\u75ab\u75c5",icon:"/images/skill/c06.gif",type:"\u8fce\u6483",speed:"LV",description:"\u76f8\u624b\u306e\u5148\u982d\u306e\u30b9\u30ad\u30eb\u304c\u30ea\u30df\u30c6\u30c3\u30c9\u3067\u306a\u3044\u306a\u3089\u3070\u3001\u305d\u306e\u30b9\u30ad\u30eb\u3092\u3010\u75ab\u75c5\u3011\u306b\u5909\u5316\u3055\u305b\u308b\u3002"},{abbr:"\u5f37",name:"\uff0b\u5f37",icon:"/images/skill/d01.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u3053\u306e\u30b9\u30ad\u30eb\u306e\u76f4\u524d\u306e\u653b\u6483\u30b9\u30ad\u30eb\u304c\u4e0e\u3048\u308b\u30c0\u30e1\u30fc\u30b8\u306f\u5e38\u306b+1\u3055\u308c\u308b\u3002"},{abbr:"\u786c",name:"\uff0b\u786c",icon:"/images/skill/d02.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u3053\u306e\u30b9\u30ad\u30eb\u306e\u76f4\u524d\u306e\u653b\u6483\u30fb\u88dc\u52a9\u30fb\u8fce\u6483\u30b9\u30ad\u30eb\u304c\u7834\u58ca\u3055\u308c\u308b\u76f4\u524d\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\u305d\u306e\u30b9\u30ad\u30eb\u306e\u7834\u58ca\u3092\u7121\u52b9\u306b\u3057\u3001\u4ee3\u308f\u308a\u306b\u3053\u306e\u30b9\u30ad\u30eb\u3092\u7834\u58ca\u3059\u308b\u3002"},{abbr:"\u901f",name:"\uff0b\u901f",icon:"/images/skill/d03.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u3053\u306e\u30b9\u30ad\u30eb\u306e\u76f4\u524d\u306e\u653b\u6483\u30fb\u88dc\u52a9\u30fb\u8fce\u6483\u30b9\u30ad\u30eb\u306e\u901f\u5ea6\u306f\u5e38\u306b+1\u3055\u308c\u308b\u3002"},{abbr:"\u53cd",name:"\uff0b\u53cd",icon:"/images/skill/d04.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u3053\u306e\u30b9\u30ad\u30eb\u306e\u76f4\u524d\u306e\u653b\u6483\u30b9\u30ad\u30eb\u306f\u3001\u5e38\u306b\u8fce\u6483\u30b9\u30ad\u30eb\u3068\u3057\u3066\u6271\u308f\u308c\u308b\u3002"},{abbr:"\u76fe",name:"\uff0b\u76fe",icon:"/images/skill/d05.gif",type:"\u4ed8\u5e2f\uff08\u30ea\u30df\u30c6\u30c3\u30c9\uff09",speed:"\u306a\u3057",description:"\u3053\u306e\u30b9\u30ad\u30eb\u306e\u76f4\u524d\u306e\u653b\u6483\u30fb\u88dc\u52a9\u30b9\u30ad\u30eb\u3092\u4f7f\u7528\u3059\u308b\u76f4\u524d\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\n\u305d\u306e\u30b9\u30ad\u30eb\u306e\u52b9\u679c\u306b\u300c\u3042\u306a\u305f\u306b\u72b6\u614b\u300c\u9632\u58c1\u300d\u30922\u3064\u4e0e\u3048\u308b\u3002\u300d\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\u3053\u306e\u52b9\u679c\u306f\u3001\u653b\u6483\u30fb\u88dc\u52a9\u30b9\u30ad\u30eb\u306b\u3088\u308b\u300c\u30c0\u30e1\u30fc\u30b8\u4ee5\u5916\u306e\u52b9\u679c\u300d\u3068\u3057\u3066\u6271\u3046\u3002"},{abbr:"\u932c",name:"\uff0b\u932c",icon:"/images/skill/d06.gif",type:"\u4ed8\u5e2f\uff08\u30ea\u30df\u30c6\u30c3\u30c9\uff09",speed:"\u306a\u3057",description:"\u3053\u306e\u30b9\u30ad\u30eb\u306e\u76f4\u524d\u306e\u653b\u6483\u30b9\u30ad\u30eb\u3092\u4f7f\u7528\u3059\u308b\u76f4\u524d\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\n\u305d\u306e\u30b9\u30ad\u30eb\u304c\u767a\u751f\u3055\u305b\u305f\u30c0\u30e1\u30fc\u30b8\u306b\u3088\u308b\u8fce\u6483\u30b9\u30ad\u30eb\u306e\u767a\u52d5\u30921\u56de\u306e\u307f\u7121\u52b9\u306b\u3059\u308b\u3002\n\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u305f\u8fce\u6483\u30b9\u30ad\u30eb\u304c\u767a\u52d5\u6761\u4ef6\u3092\u6e80\u305f\u3057\u3066\u3044\u306a\u304f\u3066\u3082\u3001\u3053\u306e\u52b9\u679c\u306f\u9069\u7528\u3055\u308c\u308b\u3002"},{abbr:"\u9006",name:"\u9006\u9c57",icon:"/images/skill/d07.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u3053\u306e\u30b9\u30ad\u30eb\u304c\u7834\u58ca\u3055\u308c\u305f\u76f4\u5f8c\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\n\u3042\u306a\u305f\u306b\u72b6\u614b\u300c\u9006\u9c57\u300d\u30921\u3064\u4e0e\u3048\u308b\u3002"},{abbr:"\u7121",name:"\u7121\u60f3",icon:"/images/skill/d08.gif",type:"\u4ed8\u5e2f\uff08\u30ea\u30df\u30c6\u30c3\u30c9\uff09",speed:"\u306a\u3057",description:"\u7b2cLV\u30e9\u30a6\u30f3\u30c9\u306e\u958b\u59cb\u30d5\u30a7\u30a4\u30ba\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\n\u3042\u306a\u305f\u306b\u72b6\u614b\u300c\u7121\u60f3\u300d\u3092\u4e0e\u3048\u308b\u3002\u3053\u306e\u30b9\u30ad\u30eb\u306f1\u3064\u3057\u304b\u9078\u629e\u3067\u304d\u306a\u3044\u3002"},{abbr:"\u88cf",name:"\u88cf\u971e",icon:"/images/skill/d09.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u3042\u306a\u305f\u304c\u4f7f\u7528\u3059\u308b\u653b\u6483\u30fb\u88dc\u52a9\u30b9\u30ad\u30eb\u3092\u9078\u629e\u3059\u308b\u76f4\u524d\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\n\u3042\u306a\u305f\u304c\u4f7f\u7528\u3059\u308b\u653b\u6483\u30fb\u88dc\u52a9\u30b9\u30ad\u30eb\u306f\u3001\u3042\u306a\u305f\u304c\u6240\u6301\u3057\u3066\u3044\u308b\u6700\u5f8c\u5c3e\u306e\u30b9\u30ad\u30eb\u304c\u9078\u629e\u3055\u308c\u308b\u3002"},{abbr:"\u5148",name:"\u5148\u5236",icon:"/images/skill/d10.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u7b2cLV\u30e9\u30a6\u30f3\u30c9\u306e\u958b\u59cb\u30d5\u30a7\u30a4\u30ba\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\u3042\u306a\u305f\u306b\u72b6\u614b\u300c\u5148\u5236\u300d\u3092\u4e0e\u3048\u308b\u3002"},{abbr:"\u9023",name:"\u9023\u6483",icon:"/images/skill/d11.gif",type:"\u4ed8\u5e2f\uff08\u30ea\u30df\u30c6\u30c3\u30c9\uff09",speed:"\u306a\u3057",description:"\u5404\u30e9\u30a6\u30f3\u30c9\u306e\u7d42\u4e86\u30d5\u30a7\u30a4\u30ba\u76f4\u524d\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\u3042\u306a\u305f\u306f\u653b\u6483\u30d5\u30a7\u30a4\u30ba\u3092\u3082\u3046\u4e00\u5ea6\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3002"},{abbr:"\u71d0",name:"\u71d0\u5149",icon:"/images/skill/d12.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u3042\u306a\u305f\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba\u958b\u59cb\u76f4\u5f8c\u306b\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u3002\u3042\u306a\u305f\u304c\u53d7\u3051\u3066\u3044\u308b\u60aa\u3044\u72b6\u614b\u3092\u5168\u3066\u89e3\u9664\u3059\u308b\u3002"},{abbr:"\u7a7a",name:"\u7a7a\u767d",icon:"/images/skill/d13.gif",type:"\u4ed8\u5e2f",speed:"\u306a\u3057",description:"\u4f55\u306e\u52b9\u679c\u3082\u6301\u305f\u306a\u3044\u3002"}],ca=e=>la.find(t=>t.abbr===e),ua=[{name:"\u899a\u609f",description:"\u300c\u899a\u609f\u300d\u3092\u53d7\u3051\u3066\u3044\u308b\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306e\u6240\u6301\u3059\u308b\u653b\u6483\u30fb\u8fce\u6483\u30b9\u30ad\u30eb\u306f\u5e38\u306b\u4e0e\u3048\u308b\u30c0\u30e1\u30fc\u30b8\u306b+1\u3001\u901f\u5ea6\u306b+2\u3055\u308c\u308b\u3002"},{name:"\u9632\u58c1",description:"\u653b\u6483\u30b9\u30ad\u30eb\u306b\u3088\u308b\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u6642\u3001\u4ed8\u4e0e\u3055\u308c\u305f\u534a\u5206(\u7aef\u6570\u5207\u308a\u4e0a\u3052)\u3092\u89e3\u9664\u3057\u3066\u305d\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u5168\u3066\u7121\u52b9\u306b\u3059\u308b\u3002\u30c0\u30e1\u30fc\u30b8\u4ee5\u5916\u306e\u52b9\u679c\u306f\u901a\u5e38\u901a\u308a\u53d7\u3051\u308b\u3002"},{name:"\u9006\u9c57",description:"\u6240\u6301\u3059\u308b\u653b\u6483\u30b9\u30ad\u30eb\u304c\u4e0e\u3048\u308b\u30c0\u30e1\u30fc\u30b8\u306b+1\u3055\u308c\u308b\u3002\u8907\u6570\u53d7\u3051\u3066\u3044\u308b\u5834\u5408\u3001\u52b9\u679c\u306f\u91cd\u8907\u3059\u308b\u3002\u3010\u5f31\u6483\u3011\u4ee5\u5916\u306e\u653b\u6483\u30b9\u30ad\u30eb\u3092\u4f7f\u7528\u3057\u305f\u76f4\u5f8c\u306b\u89e3\u9664\u3055\u308c\u308b\u3002"},{name:"\u7121\u60f3",description:"\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u6642\u3001\u305d\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u5168\u3066\u7121\u52b9\u306b\u3059\u308b\u3002\u30c0\u30e1\u30fc\u30b8\u4ee5\u5916\u306e\u52b9\u679c\u306f\u901a\u5e38\u901a\u308a\u53d7\u3051\u308b\u3002\u6bce\u30e9\u30a6\u30f3\u30c9\u306e\u7d42\u4e86\u30d5\u30a7\u30a4\u30ba\u306b\u89e3\u9664\u3055\u308c\u308b\u3002"},{name:"\u5148\u5236",description:"\u5148\u653b\u6c7a\u5b9a\u30d5\u30a7\u30a4\u30ba\u306b\u304a\u3044\u3066\u5e38\u306b\u5148\u653b\u3068\u306a\u308b\u3002\u4e21\u8005\u304c\u53d7\u3051\u3066\u3044\u308b\u5834\u5408\u306f\u901f\u5ea6\u6bd4\u8f03\u3068\u306a\u308b\u3002\u6bce\u30e9\u30a6\u30f3\u30c9\u306e\u7d42\u4e86\u30d5\u30a7\u30a4\u30ba\u306b\u89e3\u9664\u3055\u308c\u308b\u3002"},{name:"\u30b9\u30bf\u30f3",description:"\u5148\u653b\u6c7a\u5b9a\u30d5\u30a7\u30a4\u30ba\u306b\u304a\u3044\u3066\u5e38\u306b\u5f8c\u653b\u3068\u306a\u308b\u3002\u4ed6\u306e\u3042\u3089\u3086\u308b\u901f\u5ea6\u5909\u5316\u52b9\u679c\u306b\u5bfe\u3057\u3066\u512a\u5148\u3055\u308c\u308b\u3002"},{name:"\u72fc\u72fd",description:"\u6240\u6301\u3059\u308b\u653b\u6483\u30b9\u30ad\u30eb\u306e\u901f\u5ea6\u306f\u3001\u653b\u6483\u30d5\u30a7\u30a4\u30ba\u306b\u304a\u3044\u3066\u5e38\u306b0\u3068\u3057\u3066\u6271\u308f\u308c\u308b\u3002\u4ed6\u306e\u3042\u3089\u3086\u308b\u901f\u5ea6\u5909\u5316\u52b9\u679c\u306b\u5bfe\u3057\u3066\u512a\u5148\u3055\u308c\u308b\u3002"},{name:"\u5fd8\u5374",description:"\u6bce\u30e9\u30a6\u30f3\u30c9\u306e\u7d42\u4e86\u30d5\u30a7\u30a4\u30ba\u306b\u3001\u81ea\u8eab\u304c\u6240\u6301\u3057\u3066\u3044\u308b\u3010\u7a7a\u767d\u3011\u3092\u9664\u304f\u5148\u982d\u306e\u30b9\u30ad\u30eb\u304c\u3010\u7a7a\u767d\u3011\u306b\u5909\u5316\u3059\u308b\u3002"}],da=[{no:11,name:"\u5b87\u591a",bossImage:"/images/skill/monster/11.png",bossDescription:"\u304b\u3064\u3066\u5263\u306b\u5168\u3066\u3092\u6367\u3052\u305f\u8005\u9054\u304c\u3044\u305f\u3002\u305d\u306e\u610f\u5fd7\u306f\u4eca\u3001\u3042\u306a\u305f\u306b\u7259\u3092\u5411\u304f\u3002\u6570\u591a\u306e\u5e7b\u5f71\u3092\u5207\u308a\u4f0f\u305b\u3001\u4f1d\u8aac\u306e\u6249\u3092\u958b\u3051\u3002",bossName:"\u30a2\u30ce\u30de",shopSkills:["\u9023","\u5148","\u9006","\u96f7","\u96a0","\u5c01","\u7d2b","\u5f71","\u7389","\u932c","\u7121","\u71d0"],bossSkillAbbrs:"\u5f85\u786c\u71d0\u786c\u96f7\u53cd\u4ea4\u786c\u4e00"},{no:2,name:"\u98df\u6599\u3092\u63a2\u305d\u3046",bossName:"\u30aa\u30aa\u30b5\u30bd\u30ea",bossImage:"/images/monster/2.png",bossDescription:"\u98df\u3079\u3089\u308c\u306a\u3044\u2026\u2026\u3002",shopSkills:["\u5d29\u6280","\u679c\u65ad"],bossSkillAbbrs:"\u5d29\u5d29\u5f85\u523a\u523a"},{no:3,name:"\u72e9\u308a\u3092\u3057\u3088\u3046",bossName:"\u8089\u539a\u306a\u99ac",bossImage:"/images/monster/3.png",bossDescription:"\u304a\u3044\u3057\u305d\u3046\uff01\uff01\u3059\u3054\u3044\uff01\uff01\u304a\u3044\u3057\u305d\u3046\uff01\uff01",shopSkills:["\u6426\u624b","\uff0b\u901f"],bossSkillAbbrs:"\u6426\u5f85\u5f85\u679c\u901f"},{no:4,name:"\u5bb6\u3092\u4f5c\u308d\u3046",bossName:"\u30b3\u30ce\u30ad\u30ca\u30f3\u30ce\u30ad",bossImage:"/images/monster/4.png",bossDescription:"\u898b\u305f\u3053\u3068\u3082\u306a\u3044\u304c\u7531\u7dd2\u304c\u3042\u308a\u305d\u3046\u3060\u3002",shopSkills:["\u9632\u58c1","\uff0b\u786c","\uff0b\u76fe"],bossSkillAbbrs:"\u7a7a\u7a7a\u523a\u786c\u7a7a\u7a7a\u523a\u786c"},{no:5,name:"\u5bb6\u304c\u58ca\u308c\u305f",bossName:"\u30b4\u30ea\u30e9\u30de\u30b9\u30bf\u30fc",bossImage:"/images/monster/5.png",bossDescription:"\u6d1e\u7a9f\u306e\u4e3b\u3002\u4ec1\u7fa9\u306a\u304d\u6226\u3044\u3060\u3002",shopSkills:["\u5263\u821e","\u4ea4\u932f","\uff0b\u5f37"],bossSkillAbbrs:"\u5d29\u5f85\u9632\u679c\u901f"},{no:6,name:"\u9b5a\u3092\u7372\u308d\u3046",bossName:"\u8089\u539a\u306a\u9b5a",bossImage:"/images/monster/6.png",bossDescription:"\u4ef2\u9593\u3068\u98df\u3079\u308b\u9b5a\u306f\u7d76\u5bfe\u306b\u304a\u3044\u3057\u3044\u3002",shopSkills:["\u6012\u6fe4","\u88cf\u971e","\uff0b\u53cd"],bossSkillAbbrs:"\u6426\u6426\u679c\u53cd\u4e00\u5f37"},{no:7,name:"\u9b54\u7363\u306e\u8972\u6483",bossName:"\u30ea\u30b6\u30fc\u30c9\u30ed\u30fc\u30c9",bossImage:"/images/monster/7.png",bossDescription:"\u60aa\u5922\u306b\u3088\u3046\u3053\u305d\u3002",shopSkills:["\u546a\u8a5b","\u75ab\u75c5","\u96a0\u5203"],bossSkillAbbrs:"\u4ea4\u4e00\u88cf\u4e00\u88cf\u5263"},{no:8,name:"\u71c3\u3048\u308b\u6d77\u5cb8",bossName:"\u7d76\u671b\u306e\u30ad\u30de\u30a4\u30e9",bossImage:"/images/monster/8.png",bossDescription:"\u7d76\u5bfe\u306b\u8ca0\u3051\u3089\u308c\u306a\u3044\u3002\u3042\u306a\u305f\u306f\u5263\u3092\u53d6\u308b\u3002",shopSkills:["\u5148\u5236","\u9006\u9c57","\u899a\u609f"],bossSkillAbbrs:"\u75ab\u786c\u6426\u786c\u523a\u6012\u901f"},{no:9,name:"\u7121\u4eba\u5cf6\u5730\u4e0b\u937e\u4e73\u6d1e",bossName:"\u72ec\u88c1\u8005\u306e\u5ead\u5712",bossImage:"/images/monster/9.png",bossDescription:"\u6bba\u622e\u5175\u5668\u306f\u90aa\u60aa\u306b\u5fae\u7b11\u3080\u3002",shopSkills:["\u96f7\u706b","\u5c01\u5370","\u9023\u6483"],bossSkillAbbrs:"\u5148\u5f85\u5f85\u5c01\u9023\u96f7\u96f7"},{no:10,name:"\u5cf6\u306e\u79d8\u5bc6",bossName:"\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u30c0\u30b9\u30c8",bossImage:"/images/monster/10.png",bossDescription:"\u5f31\u70b9\u306a\u3093\u3066\u5206\u304b\u3089\u306a\u3044\u3088\u3002",shopSkills:["\u7d2b\u96fb","\u5f71\u8a0e","\u7389\u97ff"],bossSkillAbbrs:"\u9006\u9006\u9006"},{no:11,name:"\u5b87\u591a",bossName:"\u5263\u7363",bossImage:"/images/monster/11.png",bossDescription:"\u304b\u3064\u3066\u5263\u306b\u5168\u3066\u3092\u6367\u3052\u305f\u8005\u9054\u304c\u3044\u305f\u3002",shopSkills:["\uff0b\u932c","\u7121\u60f3","\u71d0\u5149"],bossSkillAbbrs:"\u7121\u899a\u4ea4\u679c\u53cd\u7389\u9023\u7d2b\u76fe"},{no:12,name:"\u751f\u304d\u6b8b\u308d\u3046",bossName:"\u30a2\u30ce\u30de",bossImage:"/images/monster/12.png",bossDescription:"\u300c\u30cf\u30cf\u30cf\u30cf\u30cf\u30cf\u30cf\u30cf\u30cf\u30cf\u30cf\u30cf\u30cf\uff01\uff01\uff01\u300d",shopSkills:[],bossSkillAbbrs:"\u5f71\u5f71\u786c\u9006\u71d0\u96f7\u53cd\u4ea4\u786c\u4e00"}],ha=e=>{const t=new Set;for(let n=0;n<e;n++)da[n].shopSkills.forEach(e=>t.add(e));return la.filter(e=>t.has(e.name))},fa=e=>la.find(t=>t.name===e);var pa=n(579);const ma=e=>{var t;let{skill:n,isSelected:i,onClick:o,id:s,isConnected:a,isDimmed:l,disableTooltip:u,iconMode:d}=e;const[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),g=(0,r.useRef)(null),[y,b]=(0,r.useState)("center");(0,r.useEffect)(()=>{if(h&&g.current){const e=g.current.getBoundingClientRect(),t=window.innerWidth,n=20,r=220;e.left<r/2+n?b("left"):t-e.right<r/2+n?b("right"):b("center")}},[h]);return(0,pa.jsxs)("div",{id:s,ref:g,className:(a?"synergy-active ":"")+"skill-card",onClick:()=>{o&&o(n.abbr)},onMouseEnter:()=>!u&&f(!0),onMouseLeave:()=>!u&&f(!1),style:{border:a?"3px solid #ffeb3b":l?"3px solid #333":i?"3px solid gold":"1px solid #444",borderRadius:"8px",padding:"10px",margin:"5px",cursor:o?"pointer":"default",backgroundColor:a?"#4a4a00":i?"#333300":"#1a1a1a",color:l?"#666":"#eee",display:"flex",flexDirection:"column",alignItems:"center",boxShadow:a?"0 0 20px #ffeb3b, inset 0 0 15px #ffeb3b":l?"none":i?"0 0 10px rgba(255,215,0,0.7)":"0 2px 4px rgba(0,0,0,0.3)",position:"relative",transition:"all 0.3s ease",filter:l?"grayscale(80%)":"none",opacity:l?.7:1},children:[(()=>{if("ABBR"===d)return(0,pa.jsx)("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#333",border:"1px solid #666",borderRadius:"4px",fontSize:"18px",fontWeight:"bold",color:"#fff",filter:l?"grayscale(100%)":"none"},children:n.abbr});if("PHONE"===d){const e=la.map(e=>e.abbr).indexOf(n.abbr);let t="";return t=e>=0&&e<=9?e.toString():e>=10&&e<=35?String.fromCharCode(e-10+65):"?",(0,pa.jsx)("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1a1a1a",border:"2px solid #4fc3f7",borderRadius:"50%",fontSize:"20px",fontWeight:"bold",color:"#4fc3f7",boxShadow:"0 0 5px #4fc3f7",filter:l?"grayscale(100%)":"none"},children:t})}return(0,pa.jsx)("img",{src:"/shiden"+n.icon,alt:n.name,className:"skill-icon",style:{filter:l?"grayscale(100%)":"drop-shadow(0 0 2px rgba(255,255,255,0.2))"}})})(),(0,pa.jsx)("span",{className:"skill-name",children:n.name}),h&&(0,pa.jsxs)("div",{style:(()=>{const e={position:"absolute",bottom:"105%",backgroundColor:"rgba(30, 30, 30, 0.95)",color:"white",padding:"12px",borderRadius:"8px",whiteSpace:"normal",zIndex:2e3,textAlign:"left",boxShadow:"0 4px 15px rgba(0,0,0,0.5)",minWidth:"220px",maxWidth:"300px",pointerEvents:"auto",fontSize:"12px",lineHeight:"1.4",border:"1px solid #555"};return c(c({},e),{},"left"===y?{left:"0",transform:"none"}:"right"===y?{right:"0",transform:"none"}:{left:"50%",transform:"translateX(-50%)"})})(),onClick:e=>e.stopPropagation(),children:[(0,pa.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[(0,pa.jsx)("strong",{children:"\u8a73\u7d30\u60c5\u5831"}),(0,pa.jsx)("button",{onClick:e=>{e.stopPropagation(),f(!1)},style:{background:"#555",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"10px",padding:"2px 6px"},children:"\u9589\u3058\u308b"})]}),(0,pa.jsx)("strong",{children:"\u7a2e\u5225:"})," ",(0,pa.jsx)("span",{style:{color:"#61dafb"},children:n.type}),(0,pa.jsx)("br",{}),(0,pa.jsx)("strong",{children:"\u901f\u5ea6:"})," ",(0,pa.jsx)("span",{style:{color:"#61dafb"},children:n.speed}),(0,pa.jsx)("br",{}),(e=>{let t=[e];return ua.forEach(e=>{const n=[];t.forEach(t=>{if("string"===typeof t){const r=new RegExp("(".concat(e.name,")"),"g");t.split(r).forEach(t=>{t===e.name?n.push((0,pa.jsx)("span",{onMouseEnter:()=>m(e.name),onMouseLeave:()=>m(null),style:{color:"#ffeb3b",textDecoration:"underline",cursor:"help",fontWeight:"bold",pointerEvents:"auto"},children:t},e.name+Math.random())):n.push(t)})}else n.push(t)}),t=n}),t.map((e,t)=>"string"===typeof e?e.split("\n").map((n,i)=>(0,pa.jsxs)(r.Fragment,{children:[n,i<e.split("\n").length-1&&(0,pa.jsx)("br",{})]},"".concat(t,"-").concat(i))):e)})(n.description),p&&(0,pa.jsxs)("div",{style:{position:"absolute",left:window.innerWidth<600?"0":"105%",top:window.innerWidth<600?"105%":0,backgroundColor:"#444",color:"#fff",padding:"10px",borderRadius:"5px",width:window.innerWidth<600?"100%":"200px",boxShadow:"0 2px 10px rgba(0,0,0,0.5)",zIndex:2001,border:"1px solid #ffd700",boxSizing:"border-box"},children:[(0,pa.jsxs)("strong",{style:{color:"#ffd700"},children:["\u3010",p,"\u3011"]}),(0,pa.jsx)("br",{}),null===(t=ua.find(e=>e.name===p))||void 0===t?void 0:t.description]})]})]})};const ga=function(){var e,t,n;const[i,o]=(0,r.useState)(()=>{const e=localStorage.getItem("shiden_is_title");return null===e||"true"===e}),[s,a]=(0,r.useState)(0),[l,u]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(()=>localStorage.getItem("shiden_icon_mode")||"ORIGINAL"),[g,y]=(0,r.useState)(()=>{const e=localStorage.getItem("shiden_bgm_enabled");return null===e||"true"===e}),[b,v]=(0,r.useState)(()=>{const e=localStorage.getItem("shiden_bgm_volume");return null===e?.5:parseFloat(e)}),_=(0,r.useRef)(null),k=(0,r.useRef)(null),[w,x]=(0,r.useState)(!1),[S,C]=(0,r.useState)([]),[E,T]=(0,r.useState)([]),[N,I]=(0,r.useState)([]),[P,R]=(0,r.useState)([]),L=(0,r.useRef)(null),[A,D]=(0,r.useState)(!1),[O,M]=(0,r.useState)(()=>{const e=localStorage.getItem("shiden_owned_skills");return e?JSON.parse(e):["\u4e00"]}),[z,F]=(0,r.useState)(!1),[j,B]=(0,r.useState)([]),[U,W]=(0,r.useState)(!1),[H,q]=(0,r.useState)(()=>localStorage.getItem("shiden_stage_mode")||"MID"),[V,$]=(0,r.useState)(()=>{const e=localStorage.getItem("shiden_stage_cycle");return e?parseInt(e,10):1}),[K,Q]=(0,r.useState)([]),[Y,G]=(0,r.useState)(!1),[X,J]=(0,r.useState)(!1),[ee,te]=(0,r.useState)([]),[ne,re]=(0,r.useState)(-1),[ie,oe]=(0,r.useState)(null),[se,ae]=(0,r.useState)(!1),[le,ce]=(0,r.useState)(null),[ue,de]=(0,r.useState)(!1),[he,fe]=(0,r.useState)(()=>{const e=localStorage.getItem("shiden_stage_victory_skills");return e?JSON.parse(e):{}}),pe=e=>e.map(e=>ca(e)).filter(Boolean);(0,r.useEffect)(()=>{if((async()=>{if("MID"!==H||X)oe(null);else try{const e=await fetch("".concat("/shiden","/story/").concat(V,".txt"));if(e.ok){const t=await e.text();oe(t)}}catch(e){console.error("Story fetch error:",e)}})(),!X){const e=(()=>O.map(e=>ca(e)).filter(Boolean).sort((e,t)=>la.findIndex(t=>t.abbr===e.abbr)-la.findIndex(e=>e.abbr===t.abbr)))();C(e),T([]),te([]),re(-1),G(!1)}},[X,O]),(0,r.useEffect)(()=>{if("BOSS"===H){const e=da.find(e=>e.no===V)||da[da.length-1];if(10===V){const e=ca("\u9006"),t=pe(E);Q([e,e,e,...t])}else{const t=e.bossSkillAbbrs.split("").map(e=>ca(e)).filter(Boolean);Q(t)}}else Q([])},[H,V,E]);const me=e=>{E.length<5&&T([...E,e])},ge=e=>{const t=E.indexOf(e);if(t>-1){const e=[...E];e.splice(t,1),T(e)}};(0,r.useEffect)(()=>{localStorage.setItem("shiden_owned_skills",JSON.stringify(O))},[O]),(0,r.useEffect)(()=>{localStorage.setItem("shiden_stage_mode",H)},[H]),(0,r.useEffect)(()=>{localStorage.setItem("shiden_is_title",i.toString())},[i]),(0,r.useEffect)(()=>{localStorage.setItem("shiden_bgm_enabled",g.toString()),_.current&&(g?_.current.play().catch(()=>{}):_.current.pause())},[g]),(0,r.useEffect)(()=>{localStorage.setItem("shiden_bgm_volume",b.toString()),_.current&&(_.current.volume=b)},[b]),(0,r.useEffect)(()=>{const e=(()=>{if("BOSS"===H){if(11===V)return"/audio/(t)\u6708\u4e0b\u306e\u6b7b\u95d8.MID";if(12===V)return"/audio/Knight_in_the_wind.MID"}return null})();if(e){(async e=>{const t=window.MidiPlayer,n=window.Soundfont;if(!t||!n)return;k.current&&k.current.stop();const r=new AudioContext,i=await n.instrument(r,"https://raw.githubusercontent.com/gleitz/midi-js-soundfonts/gh-pages/MusyngKite/acoustic_grand_piano-mp3.js"),o=new t.Player(e=>{"Note on"===e.name&&i.play(e.noteName,r.currentTime,{gain:e.velocity/128*b})});try{const t=await fetch(e),n=await t.arrayBuffer();o.loadArrayBuffer(n),o.on("endOfFile",()=>{o.skipToTick(0),o.play()}),k.current=o,g&&o.play()}catch(s){console.error("MIDI Load Error:",s)}})("/shiden"+e).catch(console.error)}else k.current&&(k.current.stop(),k.current=null);return()=>{k.current&&k.current.stop()}},[H,V,g,b]);const ye=()=>{localStorage.getItem("shiden_stage_cycle")&&!window.confirm("\u9032\u6357\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u3066\u6700\u521d\u304b\u3089\u59cb\u3081\u307e\u3059\u304b\uff1f")||(localStorage.removeItem("shiden_stage_cycle"),localStorage.removeItem("shiden_owned_skills"),localStorage.removeItem("shiden_stage_mode"),localStorage.setItem("shiden_is_title","false"),window.location.reload())},be=()=>{o(!1)};(0,r.useEffect)(()=>{const e=$s(ia,"connections"),t=function(e,t){e=Z(e),ns("push",e._path),Xo("push",t,e._path,!0);const n=fs(e._repo),r=Fs(n),i=Ks(e,r),o=Ks(e,r);let s;return s=null!=t?Qs(o,t).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(e);Js($s(ia,".info/connected"),e=>{!0===e.val()&&(function(e){return e=Z(e),new Ws(e._repo,e._path)}(t).remove(),Qs(t,{lastActive:ra}))}),Js(e,e=>{e.exists()?a(Object.keys(e.val()).length):a(0)}),te([]),D(!1),G(!1),xe(!1),T([]);const n=["/shiden/images/background/background.jpg","/shiden/images/title/titlelogo.png"];let r=0;n.forEach(e=>{const t=new Image;t.src=e,t.onload=()=>{r++,r===n.length&&u(!0)},t.onerror=()=>{r++,r===n.length&&u(!0)}})},[]),(0,r.useEffect)(()=>{const e=[],t=[],n=pe(E);for(let r=0;r<n.length;r++){const i=n[r];if(i.name.startsWith("\uff0b"))if(r>0){const o=n[r-1];let s=!1;s="\uff0b\u786c"===i.name||"\uff0b\u901f"===i.name?o.type.includes("\u653b\u6483")||o.type.includes("\u88dc\u52a9")||o.type.includes("\u8fce\u6483"):o.type.includes("\u653b\u6483"),s?e.push({fromId:"selected-skill-".concat(r-1),toId:"selected-skill-".concat(r)}):t.push(r)}else t.push(r)}I(e),R(t)},[E]);const[ve,_e]=(0,r.useState)([]);(0,r.useEffect)(()=>{const e=()=>{if(!L.current)return;const e=L.current.getBoundingClientRect(),t=N.map(t=>{const n=document.getElementById(t.fromId),r=document.getElementById(t.toId);if(n&&r){const t=n.getBoundingClientRect(),i=r.getBoundingClientRect();return{x1:t.left+t.width/2-e.left,y1:t.top+t.height/2-e.top,x2:i.left+i.width/2-e.left,y2:i.top+i.height/2-e.top}}return null}).filter(Boolean);_e(t)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[N,E]);const ke=()=>{const e=[{x:.8,y:.8},{x:.2,y:.9},{x:.5,y:.95}];[300,500,800].forEach((t,n)=>{setTimeout(()=>{d({particleCount:100,spread:70,origin:e[n],colors:["#ffeb3b","#ffc107","#ff9800","#f44336","#e91e63","#9c27b0","#2196f3","#4caf50"],zIndex:1e4})},t)})},[we,xe]=(0,r.useState)(!1),Se=()=>{J(!1),te([]),re(-1),G(!1),D(!1)},Ce=()=>{if(U){if(ha(V).filter(e=>!O.includes(e.abbr)).length>0)return F(!0),void W(!1)}q("MID");const e=V+1;$(e),localStorage.setItem("shiden_stage_cycle",e.toString()),xe(!1),G(!1),D(!1),te([]),J(!1),re(-1)},Ee=e=>{var t,n,i;let{log:o,onComplete:s,immediate:a,bossImage:l,bossName:u,battleInstance:d}=e;const h=o.split(/(?=\u3010\u7b2c\d+\u30e9\u30a6\u30f3\u30c9\u3011|\u3010\u52dd\u6557\u5224\u5b9a\u3011)/).filter(e=>""!==e.trim()),[f,p]=(0,r.useState)(0),[m,g]=(0,r.useState)(new Array(h.length).fill(0)),[y,b]=(0,r.useState)(new Array(h.length).fill(!1)),[v,_]=(0,r.useState)("idle"),[k,w]=(0,r.useState)(null),[x,S]=(0,r.useState)(null),[C,E]=(0,r.useState)((null===d||void 0===d||null===(t=d.pc1)||void 0===t?void 0:t.scar)||[]),[T,N]=(0,r.useState)((null===d||void 0===d||null===(n=d.pc2)||void 0===n?void 0:n.scar)||[]),I=(0,r.useRef)(null),P=(null===(i=h[f])||void 0===i?void 0:i.split("\n").filter(e=>!e.includes("====")&&""!==e.trim()))||[],R=(0,r.useRef)(-1),L=(0,r.useRef)(-1);(0,r.useEffect)(()=>{if(!y[f]){const e=m[f];if(e<P.length&&(e!==R.current||f!==L.current)){R.current=e,L.current=f;const t=P[e];if(t.includes("\u7834\u58ca\u3055\u308c\u305f"))if(t.includes("\u3042\u306a\u305f\u306e")){const e=t.match(/\u3042\u306a\u305f\u306e\u3010.*?\u3011(\d+)\u304c\u7834\u58ca\u3055\u308c\u305f/);if(e){const t=parseInt(e[1],10)-1;E(e=>{const n=[...e];return n[t]=1,n})}}else if(t.includes("".concat(u,"\u306e"))){const e=t.match(new RegExp("".concat(u,"\u306e\u3010.*?\u3011(\\d+)\u304c\u7834\u58ca\u3055\u308c\u305f")));if(e){const t=parseInt(e[1],10)-1;N(e=>{const n=[...e];return n[t]=1,n})}}const n=t.match(/(\u3042\u306a\u305f|${bossName})\u306e\u3010(.*?)\u3011\u304c\u767a\u52d5/),r=t.match(/(\u3042\u306a\u305f|${bossName})\u306e\u3010(.*?)\u3011(\d+)\uff01/);if(n){n[1];const e=n[2];la.find(t=>t.name===e)}else if(r){r[1];const e=r[2];la.find(t=>t.name===e)}u&&(t.includes("".concat(u,"\u306e\u52dd\u5229"))||t.includes("".concat(u,"\u304c\u7834\u58ca\u3055\u308c\u305f"))?_("defeat"):t.includes("".concat(u,"\u306e\u3010"))&&t.includes("\u304c\u767a\u52d5")?(_("counter"),setTimeout(()=>_("idle"),800)):t.includes("".concat(u,"\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba"))?(_("attack"),setTimeout(()=>_("idle"),800)):t.includes("\u3042\u306a\u305f\u306e\u653b\u6483\u30d5\u30a7\u30a4\u30ba")||(t.includes("".concat(u,"\u306b"))&&t.includes("\u306e\u30c0\u30e1\u30fc\u30b8")||t.includes("".concat(u,"\u306e\u3010"))&&t.includes("\u306b\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u305f"))&&(_("damage"),setTimeout(()=>_("idle"),800)))}}},[m,f,u,P,y]),(0,r.useEffect)(()=>{var e;if(a)return g(new Array(h.length).fill(100)),b(new Array(h.length).fill(!0)),p(h.length-1),void s();if(null!==(e=h[f])&&void 0!==e&&e.includes("\u52dd\u6557\u5224\u5b9a")){const e=[...m];e[f]=P.length,g(e);const t=[...y];return t[f]=!0,b(t),void s()}if(!y[f]){if(m[f]<P.length){const e=setTimeout(()=>{const e=[...m];e[f]++,g(e)},400);return()=>clearTimeout(e)}{const e=[...y];e[f]=!0,b(e),f===h.length-1&&s()}}},[f,m,y,P,a,h.length,s,h]),(0,r.useEffect)(()=>{if(I.current){const e=I.current,t=e.scrollHeight-e.clientHeight,n=Math.min(t,e.scrollHeight-.6*e.clientHeight);e.scrollTo({top:n,behavior:"smooth"})}},[m]);const A=(e,t,n)=>{if(!e)return null;const r=e.getSkillsLength(),i=r-t.filter(e=>1===e).length,o=Math.max(0,i/r*100);return(0,pa.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",filter:"drop-shadow(0 0 5px rgba(0,0,0,0.8))",width:"80px"},children:[(0,pa.jsx)("div",{style:{fontSize:"10px",fontWeight:"bold",marginBottom:"6px",color:"#fff",textShadow:"0 0 4px #000, 1px 1px 2px #000",textAlign:"center",width:"100%",wordBreak:"break-all",height:"2.4em",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"1.2"},children:e.playerName}),(0,pa.jsxs)("div",{style:{height:"140px",width:"16px",backgroundColor:"rgba(20,20,20,0.8)",border:"2px solid #fff",borderRadius:"4px",boxSizing:"border-box",boxShadow:"0 0 10px rgba(0,0,0,0.5), inset 0 0 5px rgba(0,0,0,0.8)",position:"relative",overflow:"hidden"},children:[(0,pa.jsx)("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"".concat(o,"%"),background:"linear-gradient(to top, ".concat(n,", ").concat(n,"dd)"),transition:"height 0.6s cubic-bezier(0.22, 1, 0.36, 1)",boxShadow:"0 0 15px ".concat(n)}}),(0,pa.jsx)("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"".concat(o,"%"),backgroundColor:"#fff",opacity:.3,filter:"blur(2px)",mixBlendMode:"overlay"}})]})]})};return(0,pa.jsxs)("div",{style:{position:"relative",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"#000",border:"4px double #fff",borderRadius:"4px",overflow:"hidden"},children:[l&&(0,pa.jsxs)("div",{className:"boss-stage-area sticky-boss-area",style:{height:"240px",minHeight:"240px",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:"url(".concat("/shiden","/images/background/").concat(V,".").concat(8===V?"png":"jpg",")"),paddingTop:"10px",position:"relative",overflow:"hidden",flexShrink:0},children:[(0,pa.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",zIndex:1}}),(0,pa.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:.15,backgroundImage:"radial-gradient(circle, #fff 1px, transparent 1px)",backgroundSize:"20px 20px",zIndex:2}}),(0,pa.jsxs)("div",{style:{position:"relative",zIndex:5,display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"0 30px",boxSizing:"border-box"},children:[(0,pa.jsx)("div",{style:{zIndex:10,position:"relative"},children:d&&A(d.pc2,T,"#ff5252")}),(0,pa.jsx)("img",{src:"/shiden"+l,alt:u,className:"boss-battle-image boss-anim-".concat(v).concat([4,8,12].includes(V)?" is-large":""),style:{position:[4,8,12].includes(V)?"absolute":"relative",left:[4,8,12].includes(V)?"50%":"auto",height:[4,8,12].includes(V)?"235px":"200px",width:[4,8,12].includes(V)?"100%":"auto",maxWidth:[4,8,12].includes(V)?"none":"60%",objectFit:"contain",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.9)) drop-shadow(0 0 5px rgba(255,255,255,0.2))",zIndex:5,transform:[4,8,12].includes(V)?"translateX(-50%)":"none"}}),(0,pa.jsx)("div",{style:{zIndex:10,position:"relative"},children:d&&A(d.pc1,C,"#2196f3")})]}),"damage"===v&&(0,pa.jsx)("div",{className:"damage-flash",style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255,255,255,0.5)",zIndex:10}}),k&&(0,pa.jsx)("div",{className:"damage-popup type-".concat(k.type),style:{position:"absolute",top:"50%",left:"enemy"===k.type?"50%":"30%",transform:"translate(-50%, -50%)",fontSize:"32px",fontWeight:"bold",color:"#ff0",textShadow:"2px 2px 0 #000",zIndex:20},children:k.value},Math.random()),x&&(0,pa.jsxs)("div",{className:"skill-activation-overlay side-".concat(x.side),style:{position:"absolute",top:"50%",left:"player"===x.side?"70%":"30%",transform:"translate(-50%, -50%)",zIndex:30,display:"flex",flexDirection:"column",alignItems:"center",animation:"skillPopIn 1.2s ease-out forwards"},children:[(0,pa.jsx)("div",{style:{backgroundColor:"rgba(0,0,0,0.7)",padding:"5px",borderRadius:"5px",border:"2px solid #fff",boxShadow:"0 0 15px #fff"},children:(0,pa.jsx)("img",{src:"/shiden"+x.icon,alt:x.name,style:{width:"60px",height:"60px",display:"block"}})}),(0,pa.jsx)("div",{style:{color:"#fff",fontWeight:"bold",fontSize:"14px",marginTop:"5px",textShadow:"0 0 5px #000, 2px 2px 2px #000",backgroundColor:"rgba(0,0,0,0.5)",padding:"2px 8px",borderRadius:"4px"},children:x.name})]},Math.random())]}),(0,pa.jsxs)("div",{style:{flex:1,backgroundColor:"rgba(0,0,50,0.9)",borderTop:"2px solid #fff",padding:"10px",display:"flex",flexDirection:"column",position:"relative",overflow:"hidden"},children:[(0,pa.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",padding:"0 5px"},children:[(0,pa.jsx)("button",{disabled:0===f,onClick:()=>{f>0&&p(e=>e-1)},style:{padding:"5px 15px",background:"#000",color:"#fff",border:"1px solid #fff",borderRadius:"0",cursor:"pointer",opacity:0===f?.3:1,fontFamily:"monospace"},children:"<"}),(0,pa.jsx)("button",{disabled:y[f]&&f===h.length-1,onClick:()=>{if(y[f])f<h.length-1&&p(e=>e+1);else{const e=P;let t=[...C],n=[...T];e.forEach(e=>{if(e.includes("\u7834\u58ca\u3055\u308c\u305f"))if(e.includes("\u3042\u306a\u305f\u306e")){const n=e.match(/\u3042\u306a\u305f\u306e\u3010.*?\u3011(\d+)\u304c\u7834\u58ca\u3055\u308c\u305f/);n&&(t[parseInt(n[1],10)-1]=1)}else if(e.includes("".concat(u,"\u306e"))){const t=e.match(new RegExp("".concat(u,"\u306e\u3010.*?\u3011(\\d+)\u304c\u7834\u58ca\u3055\u308c\u305f")));t&&(n[parseInt(t[1],10)-1]=1)}}),E(t),N(n);const r=[...m];r[f]=P.length,g(r);const i=[...y];i[f]=!0,b(i),f===h.length-1&&s()}},style:{padding:"5px 15px",background:"#000",color:"#fff",border:"1px solid #fff",borderRadius:"0",cursor:"pointer",opacity:y[f]&&f===h.length-1?.3:1,fontFamily:"monospace"},children:y[f]?">":"SKIP"})]}),(0,pa.jsxs)("div",{ref:I,className:"rich-log-modern",style:{flex:1,overflowY:"auto",paddingRight:"10px",marginTop:"0",scrollbarWidth:"none"},children:[P.slice(0,m[f]).map((e,t)=>{let n={marginBottom:"12px",opacity:0,transform:"translateY(10px)",animation:"slideUp 0.3s forwards"};if(e.includes("VS")){const[n,r]=e.split("VS");return(0,pa.jsxs)("div",{className:"battle-start-header",style:{margin:"30px 0",textAlign:"center",animation:"zoomIn 0.8s forwards",background:"linear-gradient(90deg, transparent, rgba(255,82,82,0.2), transparent)",padding:"20px 0",borderTop:"2px solid #ff5252",borderBottom:"2px solid #ff5252",position:"relative",overflow:"hidden"},children:[(0,pa.jsx)("div",{style:{fontSize:"1.2rem",color:"#aaa",marginBottom:"10px"},children:"BATTLE START"}),(0,pa.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"20px",flexWrap:"nowrap"},children:[(0,pa.jsx)("span",{className:"battle-start-player-name",style:{fontSize:"1.8rem",fontWeight:"bold",color:"#fff",textShadow:"0 0 10px rgba(255,255,255,0.5)",whiteSpace:"nowrap"},children:n.trim()}),(0,pa.jsx)("span",{className:"battle-start-vs",style:{fontSize:"2.5rem",fontWeight:"black",color:"#ff5252",fontStyle:"italic"},children:"VS"}),(0,pa.jsx)("span",{className:"battle-start-enemy-name",style:{fontSize:"1.8rem",fontWeight:"bold",color:"#ff5252",textShadow:"0 0 10px rgba(255,82,82,0.5)",whiteSpace:"nowrap"},children:r.trim()})]})]},t)}return e.includes("\u6226\u95d8\u958b\u59cb")?(0,pa.jsx)("div",{style:{textAlign:"center",fontSize:"1.5rem",fontWeight:"bold",color:"#ffd54f",margin:"20px 0"},children:e.replace(/[-\u2015=]/g,"").trim()},t):(e.includes("\u30e9\u30a6\u30f3\u30c9")||e.includes("\u52dd\u6557\u5224\u5b9a")?n=c(c({},n),{},{color:"#61dafb",fontSize:"1.2em",borderBottom:"1px solid #333"}):e.includes("\u30d5\u30a7\u30a4\u30ba")?n=c(c({},n),{},{color:"#81c784",fontWeight:"bold"}):e.includes("\u30c0\u30e1\u30fc\u30b8")||e.includes("\u7834\u58ca")?n=c(c({},n),{},{color:"#ff5252",paddingLeft:"10px",borderLeft:"2px solid #ff5252"}):(e.includes("\u767a\u52d5")||e.includes("\u52b9\u679c"))&&(n=c(c({},n),{},{color:"#ffd54f",fontStyle:"italic"})),(0,pa.jsx)("div",{className:"log-line",style:n,children:e},t))}),(0,pa.jsx)("div",{style:{height:"100px"}})]})]})]})},Te=da.find(e=>e.no===V)||da[da.length-1];if((0,r.useEffect)(()=>{if(X&&ee.length>0){const e=ee.filter(e=>1===e.winner).length;("BOSS"===H?e>=1:10===e)&&(fe(e=>{const t=c(c({},e),{},{["".concat(H,"_").concat(V)]:E});return localStorage.setItem("shiden_stage_victory_skills",JSON.stringify(t)),t}),"BOSS"===H&&A&&(xe(!0),ke()))}},[X,H,ee,V,E,A]),i){if(!l)return(0,pa.jsx)("div",{className:"TitleScreenContainer",style:{backgroundColor:"#000"}});const e=!!localStorage.getItem("shiden_stage_cycle");return(0,pa.jsxs)("div",{className:"TitleScreenContainer",children:[(0,pa.jsx)("div",{className:"TitleBackgroundEffect"}),(0,pa.jsxs)("div",{className:"TitleContent",children:[(0,pa.jsx)("div",{className:"TitleLogoWrapper",children:(0,pa.jsx)("img",{src:"/shiden/images/title/titlelogo.png",alt:"\u7d2b\u96fb\u4e00\u9583",className:"TitleLogo"})}),(0,pa.jsxs)("div",{className:"TitleMenu",children:[(0,pa.jsx)("button",{className:"TitleButton neon-blue",onClick:ye,children:"NEW GAME"}),(0,pa.jsx)("button",{className:"TitleButton neon-gold",onClick:be,disabled:!e,children:"CONTINUE"})]}),(0,pa.jsxs)("div",{className:"TitleFooter",children:[(0,pa.jsxs)("div",{style:{marginBottom:"5px",color:"#00d2ff",fontSize:"0.9rem",textShadow:"0 0 5px rgba(0,210,255,0.5)"},children:["Active Users: ",s]}),"\xa9 2026 Shiden-Game",(0,pa.jsx)("div",{onDoubleClick:()=>f(!0),style:{position:"fixed",bottom:0,left:0,width:"50px",height:"50px",opacity:0,cursor:"default"}})]})]}),h&&(0,pa.jsxs)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#1a1a1a",border:"2px solid #ff5252",padding:"20px",borderRadius:"10px",zIndex:1e4,boxShadow:"0 0 20px #000"},children:[(0,pa.jsx)("h2",{style:{color:"#ff5252",marginTop:0},children:"\u7ba1\u7406\u8005\u30d1\u30cd\u30eb"}),(0,pa.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px",marginBottom:"20px"},children:[1,2,3,4,5,6,7,8,9,10,11,12].map(e=>(0,pa.jsxs)("button",{onClick:()=>{$(e),q("MID"),localStorage.setItem("shiden_stage_cycle",e.toString()),localStorage.setItem("shiden_stage_mode","MID"),o(!1),f(!1)},style:{padding:"10px",background:"#333",color:"#fff",border:"1px solid #555",cursor:"pointer"},children:["Stage ",e]},e))}),(0,pa.jsx)("button",{onClick:()=>f(!1),style:{width:"100%",padding:"10px",background:"#ff5252",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u9589\u3058\u308b"})]})]})}return(0,pa.jsxs)("div",{className:"AppContainer",style:{display:"flex",height:"100vh",fontFamily:"Arial, sans-serif",color:"#eee"},children:[(0,pa.jsxs)("div",{className:"MainGameArea stage-".concat(V),style:{flex:2,padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",overflowY:"auto",backgroundColor:"rgba(10, 10, 10, 0.7)"},children:[(0,pa.jsxs)("div",{style:{textAlign:"center",marginBottom:"20px",padding:"10px 40px",border:"2px solid #555",borderRadius:"15px",background:"#1a1a1a",position:"relative",width:"100%",maxWidth:"800px",boxSizing:"border-box"},children:[(0,pa.jsx)("button",{onClick:()=>o(!0),style:{position:"absolute",left:"10px",top:"10px",padding:"5px 10px",fontSize:"10px",background:"#333",color:"#888",border:"1px solid #444",borderRadius:"3px",cursor:"pointer"},children:"TITLE"}),(0,pa.jsx)("h1",{style:{margin:0,color:"MID"===H?"#4fc3f7":"#ff5252",fontSize:"1.5rem"},children:"MID"===H?"".concat(Te.no,". ").concat(Te.name):"VS ".concat(Te.bossName)}),(0,pa.jsx)("p",{style:{margin:"5px 0 0 0",color:"#aaa",fontSize:"0.9rem"},children:"MID"===H?"10\u6226\u5168\u52dd\u3057\u3066\u30dc\u30b9\u306b\u6311\u3081\uff01":"\u6575\u306e\u69cb\u6210\u3092\u898b\u3066\u5bfe\u7b56\u3092\u7df4\u308c\uff01"}),(0,pa.jsx)("div",{style:{position:"absolute",right:"10px",top:"10px",zIndex:10},children:(0,pa.jsx)("button",{onClick:()=>x(!0),style:{background:"none",border:"none",cursor:"pointer",fontSize:"20px",color:"#888"},title:"\u8a2d\u5b9a",children:"\u2699\ufe0f"})})]}),!X&&"MID"===H&&(0,pa.jsx)("div",{style:{width:"100%",maxWidth:"800px",height:"200px",marginBottom:"20px",backgroundImage:"url(".concat("/shiden","/images/background/").concat(V,".").concat(8===V?"png":"jpg",")"),backgroundSize:"cover",backgroundPosition:"center",borderRadius:"10px",border:"2px solid #4fc3f7",boxSizing:"border-box"}}),("BOSS"===H&&!X&&!(null!==(e=ee[0])&&void 0!==e&&e.winner)||"MID"===H&&!X&&(null===(t=he["".concat(H,"_").concat(V)])||void 0===t?void 0:t.length)>0)&&(0,pa.jsxs)("div",{className:"BossSkillPreview",style:{marginBottom:"20px",width:"100%",maxWidth:"800px",padding:"20px",border:"2px solid ".concat("BOSS"===H?"#ff5252":"#4fc3f7"),borderRadius:"10px",background:"BOSS"===H?"#2c0a0a":"#0a1a2c",boxSizing:"border-box"},children:["BOSS"===H&&(0,pa.jsxs)(pa.Fragment,{children:[(0,pa.jsx)("h2",{style:{color:"#ff5252",textAlign:"center",margin:"0 0 10px 0",fontSize:"1.2rem"},children:"BOSS SKILLS DISCLOSED"}),(0,pa.jsx)("div",{className:"boss-skill-grid",children:K.map((e,t)=>(0,pa.jsx)("div",{className:"boss-skill-card-wrapper",children:(0,pa.jsx)(ma,{skill:e,isSelected:!1,disableTooltip:!0})},"boss-".concat(t)))})]}),he["".concat(H,"_").concat(V)]&&he["".concat(H,"_").concat(V)].length>0&&(0,pa.jsxs)("div",{style:{marginTop:"BOSS"===H?"20px":"0",borderTop:"BOSS"===H?"1px dashed #ff5252":"none",paddingTop:"BOSS"===H?"15px":"0"},children:[(0,pa.jsx)("h3",{style:{color:"#ffd700",fontSize:"1rem",textAlign:"center",marginTop:"5px",marginBottom:"10px"},children:"\u6226\u3044\u306e\u8a18\u61b6"}),(0,pa.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"5px",flexWrap:"wrap"},children:pe(he["".concat(H,"_").concat(V)]).map((e,t)=>(0,pa.jsx)("img",{src:"/shiden"+e.icon,alt:e.name,title:e.name,style:{width:"30px",height:"30px",borderRadius:"4px",border:"1px solid #ffd700"}},t))})]})]}),E.length>0&&(0,pa.jsxs)("div",{className:"SelectedSkillsPanel",ref:L,style:{position:"relative",marginBottom:"20px",width:"100%",maxWidth:"800px",padding:"15px 0px 15px 0px",border:"1px solid #333",borderRadius:"10px",background:"#121212"},children:[(0,pa.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:3},children:[(0,pa.jsx)("defs",{children:(0,pa.jsxs)("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,pa.jsx)("feGaussianBlur",{stdDeviation:"8",result:"blur"}),(0,pa.jsx)("feDropShadow",{dx:"0",dy:"0",stdDeviation:"4",floodColor:"#ffeb3b"}),(0,pa.jsx)("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})}),ve.map((e,t)=>(0,pa.jsxs)("g",{children:[(0,pa.jsx)("line",{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:"#ffeb3b",strokeWidth:"20",strokeOpacity:"0.5",filter:"url(#glow)"}),(0,pa.jsx)("line",{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:"#ffff00",strokeWidth:"10",strokeOpacity:"0.8",filter:"url(#glow)"}),(0,pa.jsx)("line",{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:"#ffffff",strokeWidth:"4",strokeDasharray:"15 10",filter:"url(#glow)",children:(0,pa.jsx)("animate",{attributeName:"stroke-dashoffset",from:"50",to:"0",dur:"1s",repeatCount:"indefinite"})})]},t))]}),(0,pa.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",position:"relative",zIndex:2},children:pe(E).map((e,t)=>{const n=N.some(e=>e.fromId==="selected-skill-".concat(t)||e.toId==="selected-skill-".concat(t)),r=P.includes(t);return(0,pa.jsx)(ma,{id:"selected-skill-".concat(t),skill:e,isSelected:!0,isConnected:n,isDimmed:r,onClick:X?void 0:ge,iconMode:p},"".concat(e.abbr,"-").concat(t))})})]}),w&&(0,pa.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.8)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,pa.jsxs)("div",{style:{backgroundColor:"#1a1a1a",border:"2px solid #fff",padding:"30px",borderRadius:"10px",width:"400px",textAlign:"center"},children:[(0,pa.jsx)("h2",{style:{color:"#4fc3f7",marginBottom:"20px"},children:"\u8a2d\u5b9a"}),(0,pa.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,pa.jsx)("h3",{style:{fontSize:"1rem",color:"#fff",marginBottom:"10px"},children:"\u30aa\u30fc\u30c7\u30a3\u30aa\u8a2d\u5b9a"}),(0,pa.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",alignItems:"center",background:"#222",padding:"15px",borderRadius:"5px"},children:[(0,pa.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[(0,pa.jsx)("span",{style:{color:"#ccc",fontSize:"0.9rem"},children:"BGM\u518d\u751f"}),(0,pa.jsx)("button",{onClick:()=>y(!g),style:{padding:"5px 15px",background:g?"#28a745":"#dc3545",color:"#fff",border:"none",borderRadius:"3px",cursor:"pointer",fontSize:"0.8rem"},children:g?"ON":"OFF"})]}),(0,pa.jsxs)("div",{style:{width:"100%",marginTop:"5px"},children:[(0,pa.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",color:"#ccc",fontSize:"0.8rem",marginBottom:"5px"},children:[(0,pa.jsx)("span",{children:"\u97f3\u91cf"}),(0,pa.jsxs)("span",{children:[Math.round(100*b),"%"]})]}),(0,pa.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:b,onChange:e=>v(parseFloat(e.target.value)),style:{width:"100%",cursor:"pointer"}})]})]})]}),(0,pa.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,pa.jsx)("h3",{style:{fontSize:"1rem",color:"#fff",marginBottom:"15px"},children:"\u30a2\u30a4\u30b3\u30f3\u8868\u793a\u30e2\u30fc\u30c9"}),(0,pa.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,pa.jsx)("button",{onClick:()=>m("ORIGINAL"),style:{padding:"10px",background:"ORIGINAL"===p?"#4fc3f7":"#333",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u5143\u306e\u30a2\u30a4\u30b3\u30f3"}),(0,pa.jsx)("button",{onClick:()=>m("ABBR"),style:{padding:"10px",background:"ABBR"===p?"#4fc3f7":"#333",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u30b9\u30ad\u30eb\u306e\u7565\u5b57"}),(0,pa.jsx)("button",{onClick:()=>m("PHONE"),style:{padding:"10px",background:"PHONE"===p?"#4fc3f7":"#333",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u96fb\u8a71\u756a\u53f7\u98a8 (0-9, A-Z)"})]})]}),(0,pa.jsx)("button",{onClick:()=>x(!1),style:{padding:"10px 30px",background:"#fff",color:"#000",border:"none",borderRadius:"5px",fontWeight:"bold",cursor:"pointer"},children:"\u9589\u3058\u308b"})]})}),!X&&(0,pa.jsx)("div",{style:{width:"100%",maxWidth:"800px"},children:(0,pa.jsxs)("div",{className:"PlayerSkillSelection",style:{marginBottom:"20px",width:"100%",padding:"15px 0px 15px 0px",border:"1px solid #333",borderRadius:"10px",background:"#121212"},children:[(0,pa.jsx)("h2",{style:{padding:"0px 0px 0px 20px",color:"#4fc3f7"},children:"\u6240\u6301\u30b9\u30ad\u30eb\u304b\u3089\u7de8\u6210\u3057\u3066\u304f\u3060\u3055\u3044"}),(0,pa.jsx)("div",{className:"skill-card-grid",children:S.map(e=>(0,pa.jsx)(ma,{skill:e,isSelected:E.some(t=>t===e.abbr),onClick:me,iconMode:p},e.abbr))}),(0,pa.jsx)("div",{style:{marginTop:"20px",display:"flex",justifyContent:"space-around",width:"100%"},children:(0,pa.jsx)("button",{onClick:()=>{if(5===E.length){window.scrollTo({top:0,behavior:"smooth"});const e=E.join(""),t=[],n=pe(E),r="MID"===H&&11===V,i=r?100:"BOSS"===H?1:10;for(let a=0;a<i;a++){let i,o="\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf";if("MID"===H){const e=(da.find(e=>e.no===V)||da[da.length-1]).shopSkills.map(e=>fa(e)).filter(Boolean),t=ha(V),n=ca("\u7a7a");i=(()=>{if(r){const e=[];for(let n=0;n<5;n++)e.push(t[Math.floor(Math.random()*t.length)]);return e}if(4===V){const e=Math.floor(4*Math.random())+8,r=t.filter(e=>e.type.includes("\u8fce\u6483")),i=r.length>0?r[Math.floor(Math.random()*r.length)]:n,o=Array(e).fill(n);return o.splice(Math.floor(Math.random()*o.length),0,i),o}const i=Array(4).fill(null),o=Math.floor(3*Math.random());let s=0;const a=Math.random()>.5?2:3,l=t.filter(e=>e.type.includes("\u653b\u6483")&&!e.name.startsWith("\uff0b")&&"\u7a7a\u767d"!==e.name);i[a]=l[Math.floor(Math.random()*l.length)];for(let r=0;r<4;r++){if(null!==i[r])continue;const a=r>0?i[r-1]:null,l=[];t.forEach(t=>{if("\u7a7a\u767d"===t.name)return;let n=1;if(e.some(e=>e.abbr===t.abbr)&&(n=s>=o?0:5),t.name.startsWith("\uff0b")&&a){n=("\uff0b\u786c"===t.name||"\uff0b\u901f"===t.name?a.type.includes("\u653b\u6483")||a.type.includes("\u88dc\u52a9")||a.type.includes("\u8fce\u6483"):a.type.includes("\u653b\u6483"))?10:0}else t.name.startsWith("\uff0b")&&(n=0);for(let e=0;e<n;e++)l.push(t)});const c=l.length>0?l[Math.floor(Math.random()*l.length)]:n;i[r]=c,e.some(e=>e.abbr===c.abbr)&&s++}return 1===V&&(i[Math.floor(4*Math.random())]=n),i})()}else{i=[...K];if(o=(da.find(e=>e.no===V)||da[da.length-1]).bossName,10===V){const e=pe(E),t=ca("\u9006");i=[t,t,t,...e]}}const s=i.map(e=>e.abbr).join(""),a=new aa(e+"\uff0f\u3042\u306a\u305f",s+"\uff0f"+o),l=a.startGame(),c=a.gameLog;let u=1===l?"Win!":2===l?"Lose":"Draw";if(t.push({playerSkills:n,computerSkills:i,winner:l,resultText:u,gameLog:c,battleInstance:a.battle}),"BOSS"===H)break}te(t),J(!0),re(0);const o=t.filter(e=>1===e.winner).length,s=Math.round(o/i*100);if(r){de(!0);let e=0;const t=setInterval(()=>{e+=1,ce(e),e>=s&&(clearInterval(t),setTimeout(()=>{s>=70&&(G(!0),ke()),de(!1)},1e3))},30)}"MID"!==H||r?o>=1?(G(!0),ha(V).filter(e=>!O.includes(e.abbr)).length>0?W(!0):(W(!1),xe(!0))):ha(V).filter(e=>!O.includes(e.abbr)).length>0&&F(!0):(10===o&&(G(!0),ke()),ha(V).filter(e=>!O.includes(e.abbr)).length>0&&F(!0))}else alert("\u30b9\u30ad\u30eb\u3092".concat(5,"\u679a\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"))},disabled:5!==E.length,style:{padding:"10px 20px",fontSize:"18px",cursor:"pointer",backgroundColor:5===E.length?"#28a745":"#cccccc",color:"white",border:"none",borderRadius:"5px"},children:"\u6226\u95d8\u958b\u59cb"})})]})}),X&&(A||"MID"===H)&&(0,pa.jsxs)("div",{className:"ResultsOverview",style:{marginTop:"0px",width:"100%",maxWidth:"800px"},children:[11===V&&"MID"===H&&null!==le&&(0,pa.jsxs)("div",{style:{textAlign:"center",marginBottom:"20px",padding:"30px",background:"#000",border:"3px solid #ff5252",borderRadius:"15px",boxShadow:"0 0 20px rgba(255,82,82,0.5)"},children:[(0,pa.jsx)("h2",{style:{color:"#aaa",margin:"0 0 10px 0",fontSize:"1rem"},children:"FINAL TRIAL: WIN RATE"}),(0,pa.jsxs)("div",{style:{fontSize:"5rem",fontWeight:"bold",color:le>=70?"#66bb6a":"#ff5252",textShadow:"0 0 15px ".concat(le>=70?"#66bb6a":"#ff5252"),fontFamily:"monospace"},children:[le,"%"]}),!ue&&(0,pa.jsx)("div",{style:{marginTop:"10px",fontSize:"1.5rem",fontWeight:"bold",color:le>=70?"#66bb6a":"#ff5252"},children:le>=70?"SUCCESS - TARGET REACHED":"FAILED - 70% REQUIRED"})]}),z&&(0,pa.jsxs)("div",{className:"RewardSelection",style:{textAlign:"center",marginBottom:"20px",padding:"20px",background:"#1a1a00",border:"2px solid #ffd700",borderRadius:"10px"},children:[(0,pa.jsxs)("h2",{style:{color:"#ffd700",margin:"0 0 15px 0"},children:[ee.every(e=>1===e.winner)?"\u5168\u54e1\u5012\u3057\u305f\uff01":"\u4fee\u884c\u3059\u308b\u305e\uff01","\u30b9\u30ad\u30eb\u30921\u3064\u9078\u3093\u3067\u304f\u3060\u3055\u3044"]}),(0,pa.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center",marginBottom:"20px"},children:ha(V).map(e=>O.includes(e.abbr)?null:(0,pa.jsx)("div",{onClick:()=>{return t=e.abbr,void(j.includes(t)?B([]):B([t]));var t},style:{cursor:"pointer"},children:(0,pa.jsx)(ma,{skill:e,isSelected:j.includes(e.abbr),iconMode:p})},e.abbr))}),(0,pa.jsx)("button",{disabled:0===j.length,onClick:()=>{var e;M(e=>[...e,...j]),B([]),F(!1),"BOSS"===H&&1===(null===(e=ee[0])||void 0===e?void 0:e.winner)&&Ce()},style:{padding:"10px 20px",fontSize:"18px",cursor:"pointer",backgroundColor:"#ffd700",color:"#000",border:"none",borderRadius:"5px",fontWeight:"bold"},children:"\u30b9\u30ad\u30eb\u3092\u7372\u5f97\u3059\u308b"}),(0,pa.jsx)("div",{style:{marginTop:"15px"},children:(0,pa.jsx)("button",{onClick:()=>{var e;B([]),F(!1),"BOSS"===H&&1===(null===(e=ee[0])||void 0===e?void 0:e.winner)&&Ce()},style:{padding:"8px 20px",background:"#333",border:"1px solid #555",color:"#fff",borderRadius:"5px",cursor:"pointer"},children:"\u5831\u916c\u3092\u53d7\u3051\u53d6\u3089\u306a\u3044"})})]}),Y&&("MID"===H||we)&&!z&&(0,pa.jsxs)("div",{style:{textAlign:"center",marginBottom:"20px",padding:"20px",background:"#2e7d32",borderRadius:"10px"},children:[(0,pa.jsx)("h2",{style:{color:"white",margin:"0 0 15px 0"},children:"MID"===H?"\u30dc\u30b9\u3078\u306e\u9053\u304c\u958b\u304b\u308c\u305f\uff01":(0,pa.jsxs)(pa.Fragment,{children:[Te.bossName,"\u6483\u7834\uff01",(0,pa.jsx)("br",{}),"\u7d20\u6674\u3089\u3057\u3044\u3067\u3059\uff01\uff01"]})}),(0,pa.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"15px"},children:[(0,pa.jsx)("button",{onClick:"MID"===H?()=>{q("BOSS"),Se()}:Ce,style:{padding:"15px 30px",fontSize:"20px",cursor:"pointer",backgroundColor:"#fff",color:"#2e7d32",border:"none",borderRadius:"5px",fontWeight:"bold"},children:"MID"===H?"\u30dc\u30b9\u30b9\u30c6\u30fc\u30b8\u3078\u9032\u3080":"\u6b21\u306e\u30b9\u30c6\u30fc\u30b8\u3078\u9032\u3080"}),"BOSS"===H&&12===V&&(0,pa.jsx)("button",{onClick:async()=>{try{const e=await fetch("".concat("/shiden","/story/epilogue.txt"));if(e.ok){const t=await e.text();oe(t),ae(!0)}}catch(e){console.error("Epilogue fetch error:",e)}},style:{padding:"15px 30px",fontSize:"20px",cursor:"pointer",backgroundColor:"#ffd700",color:"#000",border:"none",borderRadius:"5px",fontWeight:"bold"},children:"\u30a8\u30d4\u30ed\u30fc\u30b0"})]})]}),(0,pa.jsx)("div",{className:"battle-results-scroll-container",style:{display:"flex",flexDirection:"column",gap:"10px"},children:ee.map((e,t)=>(0,pa.jsxs)("div",{className:"battle-result-item",onClick:()=>re(t),style:{padding:"10px",border:"1px solid ".concat(ne===t?"#61dafb":"#444"),borderRadius:"5px",backgroundColor:ne===t?"#263238":"#1e1e1e",cursor:"pointer",display:"flex",alignItems:"center",marginBottom:"10px",color:"#eee"},children:[(0,pa.jsx)("span",{style:{marginRight:"10px",fontWeight:"bold",flexShrink:0,minWidth:"80px",color:"Win!"===e.resultText?"#66bb6a":"Lose"===e.resultText?"#ef5350":"#eee"},children:e.resultText}),(0,pa.jsx)("div",{style:{display:"flex",gap:"5px",flexWrap:"wrap",flex:1},children:e.computerSkills.map((e,t)=>(0,pa.jsx)("img",{src:"/shiden"+e.icon,alt:e.name,style:{width:"30px",height:"30px",borderRadius:"3px"}},t))})]},t))}),ee.length>0&&!z&&!we&&(ee.some(e=>2===e.winner)||"MID"===H&&!Y)&&(0,pa.jsxs)("div",{style:{marginTop:"20px",textAlign:"center"},children:[(0,pa.jsx)("div",{style:{color:"#ff5252",marginBottom:"10px",fontWeight:"bold"},children:ee.every(e=>2===e.winner)?"\u6b21\u3053\u305d\u306f\uff01":"\u518d\u6311\u6226\u3057\u307e\u3057\u3087\u3046\u3002"}),(0,pa.jsx)("button",{onClick:Se,style:{padding:"10px 20px",fontSize:"18px",cursor:"pointer",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"5px"},children:"\u518d\u6311\u6226"})]})]})]}),(0,pa.jsxs)("div",{className:"GameLogFrame",style:{flex:1,padding:"20px",backgroundColor:"rgba(26, 26, 26, 0.85)",color:"#f8f8f2",overflowY:"hidden",borderLeft:"1px solid #333"},children:[(0,pa.jsx)("h2",{style:{color:"BOSS"===H?"#ff5252":"#61dafb"},children:se?"\u30a8\u30d4\u30ed\u30fc\u30b0":ie&&!X?"\u30b9\u30c8\u30fc\u30ea\u30fc":"BOSS"===H?A&&1===(null===(n=ee[0])||void 0===n?void 0:n.winner)?"\u6226\u95d8\u30ed\u30b0":"BOSS":"\u30b2\u30fc\u30e0\u30ed\u30b0"}),-1!==ne&&ee[ne]&&!se?"BOSS"===H?(0,pa.jsx)(Ee,{log:ee[ne].gameLog,onComplete:()=>D(!0),immediate:!1,bossImage:Te.bossImage,bossName:Te.bossName,battleInstance:ee[ne].battleInstance}):(0,pa.jsx)("div",{style:{overflowY:"auto",height:"calc(100% - 60px)"},children:(0,pa.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",margin:0},children:ee[ne].gameLog})}):ie?(0,pa.jsxs)("div",{className:"story-area",style:{overflowY:"auto",height:"calc(100% - 60px)",padding:"10px",animation:"fadeIn 1s ease-in"},children:[(0,pa.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",margin:0,fontFamily:"serif",fontSize:"1.1rem",lineHeight:"1.8"},children:ie}),se&&(0,pa.jsx)("button",{onClick:()=>{o(!0),ae(!1),oe(null)},style:{marginTop:"30px",padding:"10px 20px",background:"#00d2ff",color:"#000",border:"none",borderRadius:"5px",fontWeight:"bold",cursor:"pointer",width:"100%"},children:"\u30bf\u30a4\u30c8\u30eb\u3078\u623b\u308b"})]}):"BOSS"!==H||se?"\u30ed\u30b0\u304c\u3042\u308a\u307e\u305b\u3093\u3002":(0,pa.jsxs)("div",{style:{textAlign:"center",padding:"20px"},children:[(0,pa.jsx)("img",{src:"/shiden"+Te.bossImage,alt:Te.bossName,style:{width:"100%",maxWidth:12===V?"100%":"150px",borderRadius:"10px",marginBottom:"20px"}}),(0,pa.jsx)("h3",{style:{color:"#ff5252",fontSize:"1.5rem",marginBottom:"10px"},children:Te.bossName}),(0,pa.jsx)("p",{style:{lineHeight:"1.6",color:"#eee",textAlign:"left",background:"rgba(0,0,0,0.4)",padding:"15px",borderRadius:"8px"},children:Te.bossDescription})]})]})]})},ya=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)})};i.createRoot(document.getElementById("root")).render((0,pa.jsx)(r.StrictMode,{children:(0,pa.jsx)(ga,{})})),ya()})();
//# sourceMappingURL=main.8e5dbaf7.js.map